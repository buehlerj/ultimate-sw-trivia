(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function o(e){return"function"==typeof e}n.r(t);let a=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function i(e){setTimeout(()=>{throw e},0)}const r={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;i(e)},complete(){}},h=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function l(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:s,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(o(s)){a&&(this._unsubscribe=void 0);try{s.call(this)}catch(r){t=r instanceof u?c(r.errors):[r]}}if(h(i)){let e=-1,n=i.length;for(;++e<n;){const n=i[e];if(l(n))try{n.unsubscribe()}catch(r){t=t||[],r instanceof u?t=t.concat(c(r.errors)):t.push(r)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:o}=n;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}const a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function c(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const A=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r;break;case 1:if(!e){this.destination=r;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[A](){return this}static create(e,t,n){const o=new p(e,t,n);return o.syncErrorThrowable=!1,o}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends p{constructor(e,t,n,a){let s;super(),this._parentSubscriber=e;let i=this;o(t)?s=t:t&&(s=t.next,n=t.error,a=t.complete,t!==r&&(i=Object.create(t),o(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=s,this._error=n,this._complete=a}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):i(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;i(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;i(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(o){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(i(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const f=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(e){return e}let y=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof p)return e;if(e[A])return e[A]()}return e||t||n?new p(e,t,n):new p(r)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),s.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:o}=e;if(t||o)return!1;e=n&&n instanceof p?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=w(t))((t,n)=>{let o;o=this.subscribe(t=>{try{e(t)}catch(a){n(a),o&&o.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[f](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?m:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=w(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function w(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const I=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class b extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class T extends p{constructor(e){super(e),this.destination=e}}let O=(()=>{class e extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[A](){return new T(this)}lift(e){const t=new N(this,this);return t.operator=e,t}next(e){if(this.closed)throw new I;if(!this.isStopped){const{observers:t}=this,n=t.length,o=t.slice();for(let a=0;a<n;a++)o[a].next(e)}}error(e){if(this.closed)throw new I;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,o=t.slice();for(let a=0;a<n;a++)o[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new I;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let o=0;o<t;o++)n[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new I;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new I;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new b(this,e))}asObservable(){const e=new y;return e.source=this,e}}return e.create=(e,t)=>new N(e,t),e})();class N extends O{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function E(e){return e&&"function"==typeof e.schedule}function k(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new v(e,t))}}class v{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new S(e,this.project,this.thisArg))}}class S extends p{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const R=e=>t=>{for(let n=0,o=e.length;n<o&&!t.closed;n++)t.next(e[n]);t.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const C=D(),P=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function M(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const W=e=>{if(e&&"function"==typeof e[f])return o=e,e=>{const t=o[f]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(P(e))return R(e);if(M(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i),e);if(e&&"function"==typeof e[C])return t=e,e=>{const n=t[C]();for(;;){let t;try{t=n.next()}catch(o){return e.error(o),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,o};function _(e,t){return new y(n=>{const o=new d;let a=0;return o.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||o.add(this.schedule())):n.complete()})),o})}function U(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[f]}(e))return function(e,t){return new y(n=>{const o=new d;return o.add(t.schedule(()=>{const a=e[f]();o.add(a.subscribe({next(e){o.add(t.schedule(()=>n.next(e)))},error(e){o.add(t.schedule(()=>n.error(e)))},complete(){o.add(t.schedule(()=>n.complete()))}}))})),o})}(e,t);if(M(e))return function(e,t){return new y(n=>{const o=new d;return o.add(t.schedule(()=>e.then(e=>{o.add(t.schedule(()=>{n.next(e),o.add(t.schedule(()=>n.complete()))}))},e=>{o.add(t.schedule(()=>n.error(e)))}))),o})}(e,t);if(P(e))return _(e,t);if(function(e){return e&&"function"==typeof e[C]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new y(n=>{const o=new d;let a;return o.add(()=>{a&&"function"==typeof a.return&&a.return()}),o.add(t.schedule(()=>{a=e[C](),o.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=a.next();e=n.value,t=n.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}))})),o})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof y?e:new y(W(e))}class L extends p{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends p{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function H(e,t){if(!t.closed)return e instanceof y?e.subscribe(t):W(e)(t)}function G(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?o=>o.pipe(G((n,o)=>U(e(n,o)).pipe(k((e,a)=>t(n,e,o,a))),n)):("number"==typeof t&&(n=t),t=>t.lift(new J(e,n)))}class J{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}class Y extends B{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(t)}_innerSub(e){const t=new L(this),n=this.destination;n.add(t);const o=H(e,t);o!==t&&n.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function K(e=Number.POSITIVE_INFINITY){return G(m,e)}function x(e,t){return t?_(e,t):new y(R(e))}function F(){return function(e){return e.lift(new j(e))}}class j{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const o=new V(e,n),a=t.subscribe(o);return o.closed||(o.connection=n.connect()),a}}class V extends p{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,o=e._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}class Q extends y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new z(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return F()(this)}}const X=(()=>{const e=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class z extends T{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function q(){return new O}function $(e){for(let t in e)if(e[t]===$)return t;throw Error("Could not find renamed property on target object.")}function Z(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ne=$({__forward_ref__:$});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return ee(this())},e}function ae(e){return se(e)?e():e}function se(e){return"function"==typeof e&&e.hasOwnProperty(ne)&&e.__forward_ref__===oe}function ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function re(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function he(e){return le(e,de)||le(e,Ae)}function le(e,t){return e.hasOwnProperty(t)?e[t]:null}function ue(e){return e&&(e.hasOwnProperty(ce)||e.hasOwnProperty(pe))?e[ce]:null}const de=$({"\u0275prov":$}),ce=$({"\u0275inj":$}),Ae=$({ngInjectableDef:$}),pe=$({ngInjectorDef:$});var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let fe;function me(e){const t=fe;return fe=e,t}function ye(e,t,n){const o=he(e);if(o&&"root"==o.providedIn)return void 0===o.value?o.value=o.factory():o.value;if(n&ge.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${ee(e)}]`)}function we(e){return{toString:e}.toString()}var Ie=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),be=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Te="undefined"!=typeof globalThis&&globalThis,Oe="undefined"!=typeof window&&window,Ne="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee="undefined"!=typeof global&&global,ke=Te||Ee||Oe||Ne,ve={},Se=[],Re=$({"\u0275cmp":$}),De=$({"\u0275dir":$}),Ce=$({"\u0275pipe":$}),Pe=$({"\u0275mod":$}),Me=$({"\u0275loc":$}),We=$({"\u0275fac":$}),_e=$({__NG_ELEMENT_ID__:$});let Ue=0;function Le(e){return we(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ie.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Se,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||be.Emulated,id:"c",styles:e.styles||Se,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return n.id+=Ue++,n.inputs=Ye(e.inputs,t),n.outputs=Ye(e.outputs),a&&a.forEach(e=>e(n)),n.directiveDefs=o?()=>("function"==typeof o?o():o).map(Be):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(He):null,n})}function Be(e){return xe(e)||function(e){return e[De]||null}(e)}function He(e){return function(e){return e[Ce]||null}(e)}const Ge={};function Je(e){const t={type:e.type,bootstrap:e.bootstrap||Se,declarations:e.declarations||Se,imports:e.imports||Se,exports:e.exports||Se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&we(()=>{Ge[e.id]=e.type}),t}function Ye(e,t){if(null==e)return ve;const n={};for(const o in e)if(e.hasOwnProperty(o)){let a=e[o],s=a;Array.isArray(a)&&(s=a[1],a=a[0]),n[a]=o,t&&(t[a]=s)}return n}const Ke=Le;function xe(e){return e[Re]||null}function Fe(e,t){const n=e[Pe]||null;if(!n&&!0===t)throw new Error(`Type ${ee(e)} does not have '\u0275mod' property.`);return n}const je=20,Ve=10;function Qe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xe(e){return Array.isArray(e)&&!0===e[1]}function ze(e){return 0!=(8&e.flags)}function qe(e){return 2==(2&e.flags)}function $e(e){return 1==(1&e.flags)}function Ze(e){return null!==e.template}function et(e,t){return e.hasOwnProperty(We)?e[We]:null}class tt extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function nt(e){return"string"==typeof e?e:null==e?"":String(e)}function ot(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():nt(e)}function at(e,t){const n=t?" in "+t:"";throw new tt("201",`No provider for ${ot(e)} found${n}`)}class st{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function it(){return rt}function rt(e){return e.type.prototype.ngOnChanges&&(e.setInput=lt),ht}function ht(){const e=ut(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ve)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function lt(e,t,n,o){const a=ut(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ve,current:null}),s=a.current||(a.current={}),i=a.previous,r=this.declaredInputs[n],h=i[r];s[r]=new st(h&&h.currentValue,t,i===ve),e[o]=t}function ut(e){return e.__ngSimpleChanges__||null}it.ngInherit=!0;let dt=void 0;function ct(e){return!!e.listen}const At={createRenderer:(e,t)=>void 0!==dt?dt:"undefined"!=typeof document?document:void 0};function pt(e){for(;Array.isArray(e);)e=e[0];return e}function gt(e,t){return pt(t[e])}function ft(e,t){return pt(t[e.index])}function mt(e,t){return e.data[t]}function yt(e,t){const n=t[e];return Qe(n)?n:n[0]}function wt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function It(e){return 128==(128&e[2])}function bt(e,t){return null==t?null:e[t]}function Tt(e){e[18]=0}function Ot(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const Nt={lFrame:Kt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Et(){return Nt.bindingsEnabled}function kt(){return Nt.lFrame.lView}function vt(){return Nt.lFrame.tView}function St(){let e=Rt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Rt(){return Nt.lFrame.currentTNode}function Dt(e,t){const n=Nt.lFrame;n.currentTNode=e,n.isParent=t}function Ct(){return Nt.lFrame.isParent}function Pt(){return Nt.isInCheckNoChangesMode}function Mt(e){Nt.isInCheckNoChangesMode=e}function Wt(){return Nt.lFrame.bindingIndex++}function _t(e){const t=Nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ut(e,t){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Lt(t)}function Lt(e){Nt.lFrame.currentDirectiveIndex=e}function Bt(e){Nt.lFrame.currentQueryIndex=e}function Ht(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Gt(e,t,n){if(n&ge.SkipSelf){let o=t,a=e;for(;o=o.parent,!(null!==o||n&ge.Host||(o=Ht(a),null===o)||(a=a[15],10&o.type)););if(null===o)return!1;t=o,e=a}const o=Nt.lFrame=Yt();return o.currentTNode=t,o.lView=e,!0}function Jt(e){const t=Yt(),n=e[1];Nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Yt(){const e=Nt.lFrame,t=null===e?null:e.child;return null===t?Kt(e):t}function Kt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xt(){const e=Nt.lFrame;return Nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ft=xt;function jt(){const e=xt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Vt(){return Nt.lFrame.selectedIndex}function Qt(e){Nt.lFrame.selectedIndex=e}function Xt(){const e=Nt.lFrame;return mt(e.tView,e.selectedIndex)}function zt(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:s,ngAfterViewChecked:i,ngOnDestroy:r}=t;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),i&&((e.viewHooks||(e.viewHooks=[])).push(n,i),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i)),null!=r&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r)}}function qt(e,t,n){en(e,t,3,n)}function $t(e,t,n,o){(3&e[2])===n&&en(e,t,n,o)}function Zt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function en(e,t,n,o){const a=null!=o?o:-1;let s=0;for(let i=void 0!==o?65535&e[18]:0;i<t.length;i++)if("number"==typeof t[i+1]){if(s=t[i],null!=o&&s>=o)break}else t[i]<0&&(e[18]+=65536),(s<a||-1==a)&&(tn(e,n,t,i),e[18]=(4294901760&e[18])+i+2),i++}function tn(e,t,n,o){const a=n[o]<0,s=n[o+1],i=e[a?-n[o]:n[o]];a?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(i)):s.call(i)}const nn=-1;class on{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function an(e,t,n){const o=ct(e);let a=0;for(;a<n.length;){const s=n[a];if("number"==typeof s){if(0!==s)break;a++;const i=n[a++],r=n[a++],h=n[a++];o?e.setAttribute(t,r,h,i):t.setAttributeNS(i,r,h)}else{const i=s,r=n[++a];rn(i)?o&&e.setProperty(t,i,r):o?e.setAttribute(t,i,r):t.setAttribute(i,r),a++}}return a}function sn(e){return 3===e||4===e||6===e}function rn(e){return 64===e.charCodeAt(0)}function hn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?n=a:0===n||ln(e,n,a,null,-1===n||2===n?t[++o]:null)}}return e}function ln(e,t,n,o,a){let s=0,i=e.length;if(-1===t)i=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){i=-1;break}if(n>t){i=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===o)return void(null!==a&&(e[s+1]=a));if(o===e[s+1])return void(e[s+2]=a)}s++,null!==o&&s++,null!==a&&s++}-1!==i&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),null!==o&&e.splice(s++,0,o),null!==a&&e.splice(s++,0,a)}function un(e){return e!==nn}function dn(e){return 32767&e}function cn(e,t){let n=e>>16,o=t;for(;n>0;)o=o[15],n--;return o}let An=!0;function pn(e){const t=An;return An=e,t}let gn=0;function fn(e,t){const n=yn(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,mn(o.data,e),mn(t,null),mn(o.blueprint,null));const a=wn(e,t),s=e.injectorIndex;if(un(a)){const e=dn(a),n=cn(a,t),o=n[1].data;for(let a=0;a<8;a++)t[s+a]=n[e+a]|o[e+a]}return t[s+8]=a,s}function mn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function yn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;null!==a;){const e=a[1],t=e.type;if(o=2===t?e.declTNode:1===t?a[6]:null,null===o)return nn;if(n++,a=a[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return nn}function In(e,t,n){!function(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(_e)&&(o=n[_e]),null==o&&(o=n[_e]=gn++);const a=255&o,s=1<<a,i=64&a,r=32&a,h=t.data;128&a?i?r?h[e+7]|=s:h[e+6]|=s:r?h[e+5]|=s:h[e+4]|=s:i?r?h[e+3]|=s:h[e+2]|=s:r?h[e+1]|=s:h[e]|=s}(e,t,n)}function bn(e,t,n){if(n&ge.Optional)return e;at(t,"NodeInjector")}function Tn(e,t,n,o){if(n&ge.Optional&&void 0===o&&(o=null),0==(n&(ge.Self|ge.Host))){const a=e[9],s=me(void 0);try{return a?a.get(t,o,n&ge.Optional):ye(t,o,n&ge.Optional)}finally{me(s)}}return bn(o,t,n)}function On(e,t,n,o=ge.Default,a){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_e)?e[_e]:void 0;return"number"==typeof t?t>=0?255&t:En:t}(n);if("function"==typeof s){if(!Gt(t,e,o))return o&ge.Host?bn(a,n,o):Tn(t,n,o,a);try{const e=s();if(null!=e||o&ge.Optional)return e;at(n)}finally{Ft()}}else if("number"==typeof s){let a=null,i=yn(e,t),r=nn,h=o&ge.Host?t[16][6]:null;for((-1===i||o&ge.SkipSelf)&&(r=-1===i?wn(e,t):t[i+8],r!==nn&&Rn(o,!1)?(a=t[1],i=dn(r),t=cn(r,t)):i=-1);-1!==i;){const e=t[1];if(Sn(s,i,e.data)){const e=kn(i,t,n,a,o,h);if(e!==Nn)return e}r=t[i+8],r!==nn&&Rn(o,t[1].data[i+8]===h)&&Sn(s,i,t)?(a=e,i=dn(r),t=cn(r,t)):i=-1}}}return Tn(t,n,o,a)}const Nn={};function En(){return new Dn(St(),kt())}function kn(e,t,n,o,a,s){const i=t[1],r=i.data[e+8],h=function(e,t,n,o,a){const s=e.providerIndexes,i=t.data,r=1048575&s,h=e.directiveStart,l=s>>20,u=a?r+l:e.directiveEnd;for(let d=o?r:r+l;d<u;d++){const e=i[d];if(d<h&&n===e||d>=h&&e.type===n)return d}if(a){const e=i[h];if(e&&Ze(e)&&e.type===n)return h}return null}(r,i,n,null==o?qe(r)&&An:o!=i&&0!=(3&r.type),a&ge.Host&&s===r);return null!==h?vn(t,i,h,r):Nn}function vn(e,t,n,o){let a=e[n];const s=t.data;if(a instanceof on){const i=a;i.resolving&&function(e,t){throw new tt("200","Circular dependency in DI detected for "+e)}(ot(s[n]));const r=pn(i.canSeeViewProviders);i.resolving=!0;const h=i.injectImpl?me(i.injectImpl):null;Gt(e,o,ge.Default);try{a=e[n]=i.factory(void 0,s,e,o),t.firstCreatePass&&n>=o.directiveStart&&function(e,t,n){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:s}=t.type.prototype;if(o){const o=rt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==h&&me(h),pn(r),i.resolving=!1,Ft()}}return a}function Sn(e,t,n){const o=64&e,a=32&e;let s;return s=128&e?o?a?n[t+7]:n[t+6]:a?n[t+5]:n[t+4]:o?a?n[t+3]:n[t+2]:a?n[t+1]:n[t],!!(s&1<<e)}function Rn(e,t){return!(e&ge.Self||e&ge.Host&&t)}class Dn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return On(this._tNode,this._lView,e,void 0,t)}}function Cn(e){const t=e;if(se(e))return()=>{const e=Cn(ae(t));return e?e():null};let n=et(t);if(null===n){const e=ue(t);n=e&&e.factory}return n||null}function Pn(e){return we(()=>{const t=e.prototype.constructor,n=t[We]||Cn(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const e=a[We]||Cn(a);if(e&&e!==n)return e;a=Object.getPrototypeOf(a)}return e=>new e})}function Mn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let o=0;for(;o<e;){const a=n[o];if(sn(a))break;if(0===a)o+=2;else if("number"==typeof a)for(o++;o<e&&"string"==typeof n[o];)o++;else{if(a===t)return n[o+1];o+=2}}}return null}(St(),e)}const Wn="__parameters__";function _n(e,t,n){return we(()=>{const o=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function a(...e){if(this instanceof a)return o.apply(this,e),this;const t=new a(...e);return n.annotation=t,n;function n(e,n,o){const a=e.hasOwnProperty(Wn)?e[Wn]:Object.defineProperty(e,Wn,{value:[]})[Wn];for(;a.length<=o;)a.push(null);return(a[o]=a[o]||[]).push(t),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Un{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Ln=new Un("AnalyzeForEntryComponents"),Bn=Function;function Hn(e,t){e.forEach(e=>Array.isArray(e)?Hn(e,t):t(e))}function Gn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yn(e,t,n){let o=xn(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(1===a)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function Kn(e,t){const n=xn(e,t);if(n>=0)return e[1|n]}function xn(e,t){return function(e,t,n){let o=0,a=e.length>>1;for(;a!==o;){const n=o+(a-o>>1),s=e[n<<1];if(t===s)return n<<1;s>t?a=n:o=n+1}return~(a<<1)}(e,t)}const Fn=_n("Inject",e=>({token:e})),jn=_n("Optional"),Vn=_n("Self"),Qn=_n("SkipSelf"),Xn={},zn=/\n/gm,qn="__source",$n=$({provide:String,useValue:$});let Zn=void 0;function eo(e){const t=Zn;return Zn=e,t}function to(e,t=ge.Default){if(void 0===Zn)throw new Error("inject() must be called from an injection context");return null===Zn?ye(e,void 0,t):Zn.get(e,t&ge.Optional?null:void 0,t)}function no(e,t=ge.Default){return(fe||to)(ae(e),t)}function oo(e){const t=[];for(let n=0;n<e.length;n++){const o=ae(e[n]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ge.Default;for(let t=0;t<o.length;t++){const a=o[t];a instanceof jn||"Optional"===a.ngMetadataName||a===jn?n|=ge.Optional:a instanceof Qn||"SkipSelf"===a.ngMetadataName||a===Qn?n|=ge.SkipSelf:a instanceof Vn||"Self"===a.ngMetadataName||a===Vn?n|=ge.Self:e=a instanceof Fn||a===Fn?a.token:a}t.push(no(e,n))}else t.push(no(o))}return t}class ao{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}function so(e){return e instanceof ao?e.changingThisBreaksApplicationSecurity:e}const io=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ro=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ho=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function lo(e){const t=function(){const e=kt();return e&&e[12]}();return t?t.sanitize(ho.URL,e)||"":function(e,t){const n=function(e){return e instanceof ao&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?so(e):(n=nt(e),(n=String(n)).match(io)||n.match(ro)?n:"unsafe:"+n);var n}function uo(e){return e.ngDebugContext}function co(e){return e.ngOriginalError}function Ao(e,...t){e.error(...t)}class po{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),o=function(e){return e.ngErrorLogger||Ao}(e);o(this._console,"ERROR",e),t&&o(this._console,"ORIGINAL ERROR",t),n&&o(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?uo(e)?uo(e):this._findContext(co(e)):null}_findOriginalError(e){let t=co(e);for(;t&&co(t);)t=co(t);return t}}function go(e,t){e.__ngContext__=t}const fo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();function mo(e){return e instanceof Function?e():e}var yo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function wo(e,t){return(void 0)(e,t)}function Io(e){const t=e[3];return Xe(t)?t[3]:t}function bo(e){return Oo(e[13])}function To(e){return Oo(e[4])}function Oo(e){for(;null!==e&&!Xe(e);)e=e[4];return e}function No(e,t,n,o,a){if(null!=o){let s,i=!1;Xe(o)?s=o:Qe(o)&&(i=!0,o=o[0]);const r=pt(o);0===e&&null!==n?null==a?Co(t,n,r):Do(t,n,r,a||null,!0):1===e&&null!==n?Do(t,n,r,a||null,!0):2===e?function(e,t,n){const o=Mo(e,t);o&&function(e,t,n,o){ct(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}(t,r,i):3===e&&t.destroyNode(r),null!=s&&function(e,t,n,o,a){const s=n[7];s!==pt(n)&&No(t,e,o,s,a);for(let i=Ve;i<n.length;i++){const a=n[i];Bo(a[1],a,e,t,o,s)}}(t,e,s,n,a)}}function Eo(e,t,n){return ct(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ko(e,t){const n=e[9],o=n.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,Ot(a,-1)),n.splice(o,1)}function vo(e,t){if(e.length<=Ve)return;const n=Ve+t,o=e[n];if(o){const s=o[17];null!==s&&s!==e&&ko(s,o),t>0&&(e[n-1][4]=o[4]);const i=Jn(e,Ve+t);Bo(o[1],a=o,a[11],2,null,null),a[0]=null,a[6]=null;const r=i[19];null!==r&&r.detachView(i[1]),o[3]=null,o[4]=null,o[2]&=-129}var a;return o}function So(e,t){if(!(256&t[2])){const n=t[11];ct(n)&&n.destroyNode&&Bo(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ro(e[1],e);for(;t;){let n=null;if(Qe(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Qe(t)&&Ro(t[1],t),t=t[3];null===t&&(t=e),Qe(t)&&Ro(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ro(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const e=t[n[o]];if(!(e instanceof on)){const t=n[o+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup,o=t[7];let a=-1;if(null!==n){for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const s=n[e+1],i="function"==typeof s?s(t):pt(t[s]),r=o[a=n[e+2]],h=n[e+3];"boolean"==typeof h?i.removeEventListener(n[e],r,h):h>=0?o[a=h]():o[a=-h].unsubscribe(),e+=2}else{const t=o[a=n[e+1]];n[e].call(t)}if(null!==o)for(let e=a+1;e<o.length;e++)(0,o[e])();t[7]=null}}(e,t),1===t[1].type&&ct(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Xe(t[3])){n!==t[3]&&ko(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function Do(e,t,n,o,a){ct(e)?e.insertBefore(t,n,o,a):t.insertBefore(n,o,a)}function Co(e,t,n){ct(e)?e.appendChild(t,n):t.appendChild(n)}function Po(e,t,n,o,a){null!==o?Do(e,t,n,o,a):Co(e,t,n)}function Mo(e,t){return ct(e)?e.parentNode(t):t.parentNode}function Wo(e,t,n,o){const a=function(e,t,n){return function(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(2&o.flags){const t=e.data[o.directiveStart].encapsulation;if(t===be.None||t===be.Emulated)return null}return ft(o,n)}(e,t.parent,n)}(e,o,t),s=t[11],i=function(e,t,n){return function(e,t,n){return 40&e.type?ft(e,n):null}(e,0,n)}(o.parent||t[6],0,t);if(null!=a)if(Array.isArray(n))for(let r=0;r<n.length;r++)Po(s,a,n[r],i,!1);else Po(s,a,n,i,!1)}function _o(e,t){if(null!==t){const n=t.type;if(3&n)return ft(t,e);if(4&n)return Uo(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return _o(e,n);{const n=e[t.index];return Xe(n)?Uo(-1,n):pt(n)}}if(32&n)return wo(t,e)()||pt(e[t.index]);{const n=e[16],o=n[6],a=Io(n),s=o.projection[t.projection];return null!=s?_o(a,s):_o(e,t.next)}}return null}function Uo(e,t){const n=Ve+e+1;if(n<t.length){const e=t[n],o=e[1].firstChild;if(null!==o)return _o(e,o)}return t[7]}function Lo(e,t,n,o,a,s,i){for(;null!=n;){const r=o[n.index],h=n.type;if(i&&0===t&&(r&&go(pt(r),o),n.flags|=4),64!=(64&n.flags))if(8&h)Lo(e,t,n.child,o,a,s,!1),No(t,e,a,r,s);else if(32&h){const i=wo(n,o);let h;for(;h=i();)No(t,e,a,h,s);No(t,e,a,r,s)}else 16&h?Ho(e,t,o,n,a,s):No(t,e,a,r,s);n=i?n.projectionNext:n.next}}function Bo(e,t,n,o,a,s){Lo(n,o,e.firstChild,t,a,s,!1)}function Ho(e,t,n,o,a,s){const i=n[16],r=i[6].projection[o.projection];if(Array.isArray(r))for(let h=0;h<r.length;h++)No(t,e,a,r[h],s);else Lo(e,t,r,i[3],a,s,!0)}function Go(e,t,n){ct(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Jo(e,t,n){ct(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Yo(e,t,n){let o=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const n=t.length;if(a+n===o||e.charCodeAt(a+n)<=32)return a}n=a+1}}const Ko="ng-template";function xo(e,t,n){let o=0;for(;o<e.length;){let a=e[o++];if(n&&"class"===a){if(a=e[o],-1!==Yo(a.toLowerCase(),t,0))return!0}else if(1===a){for(;o<e.length&&"string"==typeof(a=e[o++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function Fo(e){return 4===e.type&&e.value!==Ko}function jo(e,t,n){return t===(4!==e.type||n?e.value:Ko)}function Vo(e,t,n){let o=4;const a=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(sn(e[t]))return t;return e.length}(a);let i=!1;for(let r=0;r<t.length;r++){const h=t[r];if("number"!=typeof h){if(!i)if(4&o){if(o=2|1&o,""!==h&&!jo(e,h,n)||""===h&&1===t.length){if(Qo(o))return!1;i=!0}}else{const l=8&o?h:t[++r];if(8&o&&null!==e.attrs){if(!xo(e.attrs,l,n)){if(Qo(o))return!1;i=!0}continue}const u=Xo(8&o?"class":h,a,Fo(e),n);if(-1===u){if(Qo(o))return!1;i=!0;continue}if(""!==l){let e;e=u>s?"":a[u+1].toLowerCase();const t=8&o?e:null;if(t&&-1!==Yo(t,l,0)||2&o&&l!==e){if(Qo(o))return!1;i=!0}}}}else{if(!i&&!Qo(o)&&!Qo(h))return!1;if(i&&Qo(h))continue;i=!1,o=h|1&o}}return Qo(o)||i}function Qo(e){return 0==(1&e)}function Xo(e,t,n,o){if(null===t)return-1;let a=0;if(o||!n){let n=!1;for(;a<t.length;){const o=t[a];if(o===e)return a;if(3===o||6===o)n=!0;else{if(1===o||2===o){let e=t[++a];for(;"string"==typeof e;)e=t[++a];continue}if(4===o)break;if(0===o){a+=4;continue}}a+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function zo(e,t,n=!1){for(let o=0;o<t.length;o++)if(Vo(e,t[o],n))return!0;return!1}function qo(e,t){return e?":not("+t.trim()+")":t}function $o(e){let t=e[0],n=1,o=2,a="",s=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&o){const t=e[++n];a+="["+i+(t.length>0?'="'+t+'"':"")+"]"}else 8&o?a+="."+i:4&o&&(a+=" "+i);else""===a||Qo(i)||(t+=qo(s,a),a=""),o=i,s=s||!Qo(o);n++}return""!==a&&(t+=qo(s,a)),t}const Zo={};function ea(e){ta(vt(),kt(),Vt()+e,Pt())}function ta(e,t,n,o){if(!o)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&qt(t,o,n)}else{const o=e.preOrderHooks;null!==o&&$t(t,o,0,n)}Qt(n)}function na(e,t){return e<<17|t<<2}function oa(e){return e>>17&32767}function aa(e){return 2|e}function sa(e){return(131068&e)>>2}function ia(e,t){return-131069&e|t<<2}function ra(e){return 1|e}function ha(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const a=n[o],s=n[o+1];if(-1!==s){const n=e.data[s];Bt(a),n.contentQueries(2,t[s],s)}}}function la(e,t,n,o,a,s,i,r,h,l){const u=t.blueprint.slice();return u[0]=a,u[2]=140|o,Tt(u),u[3]=u[15]=e,u[8]=n,u[10]=i||e&&e[10],u[11]=r||e&&e[11],u[12]=h||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function ua(e,t,n,o,a){let s=e.data[t];if(null===s)s=function(e,t,n,o,a){const s=Rt(),i=Ct(),r=e.data[t]=function(e,t,n,o,a,s){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?s:s&&s.parent,n,t,o,a);return null===e.firstChild&&(e.firstChild=r),null!==s&&(i?null==s.child&&null!==r.parent&&(s.child=r):null===s.next&&(s.next=r)),r}(e,t,n,o,a),Nt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=o,s.attrs=a;const e=function(){const e=Nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Dt(s,!0),s}function da(e,t,n,o){if(0===n)return-1;const a=t.length;for(let s=0;s<n;s++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function ca(e,t,n){Jt(t);try{const o=e.viewQuery;null!==o&&Ga(1,o,n);const a=e.template;null!==a&&ga(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ha(e,t),e.staticViewQueries&&Ga(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)_a(e,t[n])}(t,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,jt()}}function Aa(e,t,n,o){const a=t[2];if(256==(256&a))return;Jt(t);const s=Pt();try{Tt(t),Nt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ga(e,t,n,2,o);const i=3==(3&a);if(!s)if(i){const n=e.preOrderCheckHooks;null!==n&&qt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&$t(t,n,0,null),Zt(t,0)}if(function(e){for(let t=bo(e);null!==t;t=To(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],o=n[3];0==(1024&n[2])&&Ot(o,1),n[2]|=1024}}}(t),function(e){for(let t=bo(e);null!==t;t=To(t))for(let e=Ve;e<t.length;e++){const n=t[e],o=n[1];It(n)&&Aa(o,n,o.template,n[8])}}(t),null!==e.contentQueries&&ha(e,t),!s)if(i){const n=e.contentCheckHooks;null!==n&&qt(t,n)}else{const n=e.contentHooks;null!==n&&$t(t,n,1),Zt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const o=n[e];if(o<0)Qt(~o);else{const a=o,s=n[++e],i=n[++e];Ut(s,a),i(2,t[a])}}}finally{Qt(-1)}}(e,t);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)Ma(e,t[n])}(t,r);const h=e.viewQuery;if(null!==h&&Ga(2,h,o),!s)if(i){const n=e.viewCheckHooks;null!==n&&qt(t,n)}else{const n=e.viewHooks;null!==n&&$t(t,n,2),Zt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ot(t[3],-1))}finally{jt()}}function pa(e,t,n,o){const a=t[10],s=!Pt(),i=4==(4&t[2]);try{s&&!i&&a.begin&&a.begin(),i&&ca(e,t,o),Aa(e,t,n,o)}finally{s&&!i&&a.end&&a.end()}}function ga(e,t,n,o,a){const s=Vt();try{Qt(-1),2&o&&t.length>je&&ta(e,t,je,Pt()),n(o,a)}finally{Qt(s)}}function fa(e,t,n){Et()&&(function(e,t,n,o){const a=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||fn(n,t),go(o,t);const i=n.initialInputs;for(let r=a;r<s;r++){const o=e.data[r],s=Ze(o);s&&Ra(t,n,o);const h=vn(t,e,r,n);go(h,t),null!==i&&Da(0,r-a,h,o,0,i),s&&(yt(n.index,t)[8]=h)}}(e,t,n,ft(n,t)),128==(128&n.flags)&&function(e,t,n){const o=n.directiveStart,a=n.directiveEnd,s=n.index,i=Nt.lFrame.currentDirectiveIndex;try{Qt(s);for(let n=o;n<a;n++){const o=e.data[n],a=t[n];Lt(n),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||Na(o,a)}}finally{Qt(-1),Lt(i)}}(e,t,n))}function ma(e,t,n=ft){const o=t.localNames;if(null!==o){let a=t.index+1;for(let s=0;s<o.length;s+=2){const i=o[s+1],r=-1===i?n(t,e):e[i];e[a++]=r}}}function ya(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=wa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function wa(e,t,n,o,a,s,i,r,h,l){const u=je+o,d=u+a,c=function(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Zo);return n}(u,d),A="function"==typeof l?l():l;return c[1]={type:e,blueprint:c,template:n,queries:null,viewQuery:r,declTNode:t,data:c.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:h,consts:A,incompleteFirstPass:!1}}function Ia(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){const a=e[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(t,a):n[o]=[t,a]}return n}function ba(e,t,n,o,a,s,i,r){const h=ft(t,n);let l,u=t.inputs;var d;!r&&null!=u&&(l=u[o])?(Fa(e,n,l,o,a),qe(t)&&function(e,t){const n=yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(o="class"===(d=o)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,a=null!=i?i(a,t.value||"",o):a,ct(s)?s.setProperty(h,o,a):rn(o)||(h.setProperty?h.setProperty(o,a):h[o]=a))}function Ta(e,t,n,o){let a=!1;if(Et()){const s=function(e,t,n){const o=e.directiveRegistry;let a=null;if(o)for(let s=0;s<o.length;s++){const i=o[s];zo(n,i.selectors,!1)&&(a||(a=[]),In(fn(n,t),e,i.type),Ze(i)?(Ea(e,n),a.unshift(i)):a.push(i))}return a}(e,t,n),i=null===o?null:{"":-1};if(null!==s){a=!0,va(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let o=!1,r=!1,h=da(e,t,s.length,null);for(let a=0;a<s.length;a++){const l=s[a];n.mergedAttrs=hn(n.mergedAttrs,l.hostAttrs),Sa(e,n,t,h,l),ka(h,l,i),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),r||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),r=!0),h++}!function(e,t){const n=t.directiveEnd,o=e.data,a=t.attrs,s=[];let i=null,r=null;for(let h=t.directiveStart;h<n;h++){const e=o[h],n=e.inputs,l=null===a||Fo(t)?null:Ca(n,a);s.push(l),i=Ia(n,h,i),r=Ia(e.outputs,h,r)}null!==i&&(i.hasOwnProperty("class")&&(t.flags|=16),i.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=i,t.outputs=r}(e,n)}i&&function(e,t,n){if(t){const o=e.localNames=[];for(let e=0;e<t.length;e+=2){const a=n[t[e+1]];if(null==a)throw new tt("301",`Export of name '${t[e+1]}' not found!`);o.push(t[e],a)}}}(n,o,i)}return n.mergedAttrs=hn(n.mergedAttrs,n.attrs),a}function Oa(e,t,n,o,a,s){const i=s.hostBindings;if(i){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(o,a,i)}}function Na(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ea(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ka(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Ze(t)&&(n[""]=e)}}function va(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Sa(e,t,n,o,a){e.data[o]=a;const s=a.factory||(a.factory=et(a.type)),i=new on(s,Ze(a),null);e.blueprint[o]=i,n[o]=i,Oa(e,t,0,o,da(e,n,a.hostVars,Zo),a)}function Ra(e,t,n){const o=ft(t,e),a=ya(n),s=e[10],i=Ua(e,la(e,a,null,n.onPush?64:16,o,t,s,s.createRenderer(o,n),null,null));e[t.index]=i}function Da(e,t,n,o,a,s){const i=s[t];if(null!==i){const e=o.setInput;for(let t=0;t<i.length;){const a=i[t++],s=i[t++],r=i[t++];null!==e?o.setInput(n,r,a,s):n[s]=r}}}function Ca(e,t){let n=null,o=0;for(;o<t.length;){const a=t[o];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,e[a],t[o+1])),o+=2}else o+=2;else o+=4}return n}function Pa(e,t,n,o){return new Array(e,!0,!1,t,null,0,o,n,null,null)}function Ma(e,t){const n=yt(t,e);if(It(n)){const e=n[1];80&n[2]?Aa(e,n,e.template,n[8]):n[5]>0&&Wa(n)}}function Wa(e){for(let n=bo(e);null!==n;n=To(n))for(let e=Ve;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Aa(e,t,e.template,t[8])}else t[5]>0&&Wa(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const o=yt(t[n],e);It(o)&&o[5]>0&&Wa(o)}}function _a(e,t){const n=yt(t,e),o=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n),ca(o,n,n[8])}function Ua(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function La(e){for(;e;){e[2]|=64;const t=Io(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Ba(e,t,n){const o=t[10];o.begin&&o.begin();try{Aa(e,t,e.template,n)}catch(a){throw xa(t,a),a}finally{o.end&&o.end()}}function Ha(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=wt(n),a=o[1];pa(a,o,a.template,n)}}(e[8])}function Ga(e,t,n){Bt(0),t(e,n)}const Ja=(()=>Promise.resolve(null))();function Ya(e){return e[7]||(e[7]=[])}function Ka(e){return e.cleanup||(e.cleanup=[])}function xa(e,t){const n=e[9],o=n?n.get(po,null):null;o&&o.handleError(t)}function Fa(e,t,n,o,a){for(let s=0;s<n.length;){const i=n[s++],r=n[s++],h=t[i],l=e.data[i];null!==l.setInput?l.setInput(h,a,o,r):h[r]=a}}function ja(e,t,n){const o=gt(t,e);!function(e,t,n){ct(e)?e.setValue(t,n):t.textContent=n}(e[11],o,n)}function Va(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,s=0;if(null!==t)for(let i=0;i<t.length;i++){const e=t[i];"number"==typeof e?s=e:1==s?a=te(a,e):2==s&&(o=te(o,e+": "+t[++i]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}const Qa=new Un("INJECTOR",-1);class Xa{get(e,t=Xn){if(t===Xn){const t=new Error(`NullInjectorError: No provider for ${ee(e)}!`);throw t.name="NullInjectorError",t}return t}}const za=new Un("Set Injector scope."),qa={},$a={},Za=[];let es=void 0;function ts(){return void 0===es&&(es=new Xa),es}function ns(e,t=null,n=null,o){return new os(e,n,t||ts(),o)}class os{constructor(e,t,n,o=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];t&&Hn(t,n=>this.processProvider(n,e,t)),Hn([e],e=>this.processInjectorType(e,[],a)),this.records.set(Qa,is(void 0,this));const s=this.records.get(za);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:ee(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Xn,n=ge.Default){this.assertNotDestroyed();const o=eo(this);try{if(!(n&ge.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(a=e)||"object"==typeof a&&a instanceof Un)&&he(e);t=n&&this.injectableDefInScope(n)?is(as(e),qa):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ge.Self?ts():this.parent).get(e,t=n&ge.Optional&&t===Xn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ee(e)),o)throw s;return function(e,t,n,o){const a=e.ngTempTokenPath;throw t[qn]&&a.unshift(t[qn]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let a=ee(t);if(Array.isArray(t))a=t.map(ee).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let o=t[n];e.push(n+":"+("string"==typeof o?JSON.stringify(o):ee(o)))}a=`{${e.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,a,n,o),e.ngTokenPath=a,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{eo(o)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(ee(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ae(e)))return!1;let o=ue(e);const a=null==o&&e.ngModule||void 0,s=void 0===a?e:a,i=-1!==n.indexOf(s);if(void 0!==a&&(o=ue(a)),null==o)return!1;if(null!=o.imports&&!i){let e;n.push(s);try{Hn(o.imports,o=>{this.processInjectorType(o,t,n)&&(void 0===e&&(e=[]),e.push(o))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];Hn(o,e=>this.processProvider(e,n,o||Za))}}this.injectorDefTypes.add(s),this.records.set(s,is(o.factory,qa));const r=o.providers;if(null!=r&&!i){const t=e;Hn(r,e=>this.processProvider(e,t,r))}return void 0!==a&&void 0!==e.providers}processProvider(e,t,n){let o=hs(e=ae(e))?e:ae(e&&e.provide);const a=function(e,t,n){return rs(e)?is(void 0,e.useValue):is(ss(e),qa)}(e);if(hs(e)||!0!==e.multi)this.records.get(o);else{let t=this.records.get(o);t||(t=is(void 0,qa,!0),t.factory=()=>oo(t.multi),this.records.set(o,t)),o=e,t.multi.push(e)}this.records.set(o,a)}hydrate(e,t){var n;return t.value===qa&&(t.value=$a,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function as(e){const t=he(e),n=null!==t?t.factory:et(e);if(null!==n)return n;const o=ue(e);if(null!==o)return o.factory;if(e instanceof Un)throw new Error(`Token ${ee(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let o=0;o<e;o++)n.push("?");return n}(t);throw new Error(`Can't resolve all parameters for ${ee(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[de]||e[Ae]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ss(e,t,n){let o=void 0;if(hs(e)){const t=ae(e);return et(t)||as(t)}if(rs(e))o=()=>ae(e.useValue);else if((a=e)&&a.useFactory)o=()=>e.useFactory(...oo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>no(ae(e.useExisting));else{const t=ae(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return et(t)||as(t);o=()=>new t(...oo(e.deps))}var a;return o}function is(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function rs(e){return null!==e&&"object"==typeof e&&$n in e}function hs(e){return"function"==typeof e}const ls=function(e,t,n){return function(e,t=null,n=null,o){const a=ns(e,t,n,o);return a._resolveInjectorDefTypes(),a}({name:n},t,e,n)};let us=(()=>{class e{static create(e,t){return Array.isArray(e)?ls(e,t,""):ls(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Xn,e.NULL=new Xa,e.\u0275prov=ie({token:e,providedIn:"any",factory:()=>no(Qa)}),e.__NG_ELEMENT_ID__=-1,e})();function ds(e,t){zt(wt(e)[1],St())}function cs(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const o=[e];for(;t;){let a=void 0;if(Ze(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");a=t.\u0275dir}if(a){if(n){o.push(a);const t=e;t.inputs=As(e.inputs),t.declaredInputs=As(e.declaredInputs),t.outputs=As(e.outputs);const n=a.hostBindings;n&&fs(e,n);const s=a.viewQuery,i=a.contentQueries;if(s&&ps(e,s),i&&gs(e,i),Z(e.inputs,a.inputs),Z(e.declaredInputs,a.declaredInputs),Z(e.outputs,a.outputs),Ze(a)&&a.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(a.data.animation)}}const t=a.features;if(t)for(let o=0;o<t.length;o++){const a=t[o];a&&a.ngInherit&&a(e),a===cs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=hn(a.hostAttrs,n=hn(n,a.hostAttrs))}}(o)}function As(e){return e===ve?{}:e===Se?[]:e}function ps(e,t){const n=e.viewQuery;e.viewQuery=n?(e,o)=>{t(e,o),n(e,o)}:t}function gs(e,t){const n=e.contentQueries;e.contentQueries=n?(e,o,a)=>{t(e,o,a),n(e,o,a)}:t}function fs(e,t){const n=e.hostBindings;e.hostBindings=n?(e,o)=>{t(e,o),n(e,o)}:t}let ms=null;function ys(){if(!ms){const e=ke.Symbol;if(e&&e.iterator)ms=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ms=n)}}}return ms}function ws(e){return!!Is(e)&&(Array.isArray(e)||!(e instanceof Map)&&ys()in e)}function Is(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function bs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ts(e,t,n,o){return bs(e,Wt(),n)?t+nt(n)+o:Zo}function Os(e,t,n,o,a,s,i,r){const h=kt(),l=vt(),u=e+je,d=l.firstCreatePass?function(e,t,n,o,a,s,i,r,h){const l=t.consts,u=ua(t,e,4,i||null,bt(l,r));Ta(t,n,u,bt(l,h)),zt(t,u);const d=u.tViews=wa(2,u,o,a,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,h,t,n,o,a,s,i):l.data[u];Dt(d,!1);const c=h[11].createComment("");Wo(l,h,c,d),go(c,h),Ua(h,h[u]=Pa(c,h,c,d)),$e(d)&&fa(l,h,d),null!=i&&ma(h,d,r)}function Ns(e,t=ge.Default){const n=kt();return null===n?no(e,t):On(St(),n,ae(e),t)}function Es(e,t,n){const o=kt();return bs(o,Wt(),t)&&ba(vt(),Xt(),o,e,t,o[11],n,!1),Es}function ks(e,t,n,o,a){const s=a?"class":"style";Fa(e,n,t.inputs[s],s,o)}function vs(e,t,n,o){const a=kt(),s=vt(),i=je+e,r=a[11],h=a[i]=Eo(r,t,Nt.lFrame.currentNamespace),l=s.firstCreatePass?function(e,t,n,o,a,s,i){const r=t.consts,h=ua(t,e,2,a,bt(r,s));return Ta(t,n,h,bt(r,i)),null!==h.attrs&&Va(h,h.attrs,!1),null!==h.mergedAttrs&&Va(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(i,s,a,0,t,n,o):s.data[i];Dt(l,!0);const u=l.mergedAttrs;null!==u&&an(r,h,u);const d=l.classes;null!==d&&Jo(r,h,d);const c=l.styles;null!==c&&Go(r,h,c),64!=(64&l.flags)&&Wo(s,a,h,l),0===Nt.lFrame.elementDepthCount&&go(h,a),Nt.lFrame.elementDepthCount++,$e(l)&&(fa(s,a,l),function(e,t,n){if(ze(t)){const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const t=e.data[a];t.contentQueries&&t.contentQueries(1,n[a],a)}}}(s,l,a)),null!==o&&ma(a,l)}function Ss(){let e=St();Ct()?Nt.lFrame.isParent=!1:(e=e.parent,Dt(e,!1));const t=e;Nt.lFrame.elementDepthCount--;const n=vt();n.firstCreatePass&&(zt(n,e),ze(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&ks(n,t,kt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&ks(n,t,kt(),t.stylesWithoutHost,!1)}function Rs(e,t,n,o){vs(e,t,n,o),Ss()}function Ds(e){return!!e&&"function"==typeof e.then}function Cs(e){return!!e&&"function"==typeof e.subscribe}function Ps(e,t,n=!1,o){const a=kt(),s=vt(),i=St();return function(e,t,n,o,a,s,i=!1,r){const h=$e(o),l=e.firstCreatePass&&Ka(e),u=Ya(t);let d=!0;if(3&o.type){const c=ft(o,t),A=r?r(c):ve,p=A.target||c,g=u.length,f=r?e=>r(pt(e[o.index])).target:o.index;if(ct(n)){let i=null;if(!r&&h&&(i=function(e,t,n,o){const a=e.cleanup;if(null!=a)for(let s=0;s<a.length-1;s+=2){const e=a[s];if(e===n&&a[s+1]===o){const e=t[7],n=a[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,a,o.index)),null!==i)(i.__ngLastListenerFn__||i).__ngNextListenerFn__=s,i.__ngLastListenerFn__=s,d=!1;else{s=Ws(o,t,s,!1);const e=n.listen(A.name||p,a,s);u.push(s,e),l&&l.push(a,f,g,g+1)}}else s=Ws(o,t,s,!0),p.addEventListener(a,s,i),u.push(s),l&&l.push(a,f,g,i)}else s=Ws(o,t,s,!1);const c=o.outputs;let A;if(d&&null!==c&&(A=c[a])){const e=A.length;if(e)for(let n=0;n<e;n+=2){const e=t[A[n]][A[n+1]].subscribe(s),i=u.length;u.push(s,e),l&&l.push(a,o.index,i,-(i+1))}}}(s,a,a[11],i,e,t,n,o),Ps}function Ms(e,t,n){try{return!1!==t(n)}catch(o){return xa(e,o),!1}}function Ws(e,t,n,o){return function a(s){if(s===Function)return n;const i=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&La(i);let r=Ms(t,n,s),h=a.__ngNextListenerFn__;for(;h;)r=Ms(t,h,s)&&r,h=h.__ngNextListenerFn__;return o&&!1===r&&(s.preventDefault(),s.returnValue=!1),r}}function _s(e,t,n){return Us(e,"",t,"",n),_s}function Us(e,t,n,o,a){const s=kt(),i=Ts(s,t,n,o);return i!==Zo&&ba(vt(),Xt(),s,e,i,s[11],a,!1),Us}const Ls=[];function Bs(e,t,n,o,a){const s=e[n+1],i=null===t;let r=o?oa(s):sa(s),h=!1;for(;0!==r&&(!1===h||i);){const n=e[r+1];Hs(e[r],t)&&(h=!0,e[r+1]=o?ra(n):aa(n)),r=o?oa(n):sa(n)}h&&(e[n+1]=o?aa(s):ra(s))}function Hs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&xn(e,t)>=0}function Gs(e,t){return function(e,t,n,o){const a=kt(),s=vt(),i=_t(2);s.firstUpdatePass&&function(e,t,n,o){const a=e.data;if(null===a[n+1]){const s=a[Vt()],i=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(s)&&null===t&&!i&&(t=!1),t=function(e,t,n,o){const a=function(e){const t=Nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=t.residualClasses;if(null===a)0===t.classBindings&&(n=Ys(n=Js(null,e,t,n,o),t.attrs,o),s=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==a)if(n=Js(a,e,t,n,o),null===s){let n=function(e,t,n){const o=t.classBindings;if(0!==sa(o))return e[oa(o)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=Js(null,e,t,n[1],o),n=Ys(n,t.attrs,o),function(e,t,n,o){e[oa(t.classBindings)]=o}(e,t,0,n))}else s=function(e,t,n){let o=void 0;const a=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<a;s++)o=Ys(o,e[s].hostAttrs,true);return Ys(o,t.attrs,true)}(e,t)}return void 0!==s&&(t.residualClasses=s),n}(a,s,t,o),function(e,t,n,o,a,s){let i=t.classBindings,r=oa(i),h=sa(i);e[o]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||xn(e,l)>0)&&(u=!0)}else l=n;if(a)if(0!==h){const t=oa(e[r+1]);e[o+1]=na(t,r),0!==t&&(e[t+1]=ia(e[t+1],o)),e[r+1]=131071&e[r+1]|o<<17}else e[o+1]=na(r,0),0!==r&&(e[r+1]=ia(e[r+1],o)),r=o;else e[o+1]=na(h,0),0===r?r=o:e[h+1]=ia(e[h+1],o),h=o;u&&(e[o+1]=aa(e[o+1])),Bs(e,l,o,!0),Bs(e,l,o,!1),function(e,t,n,o,a){const s=e.residualClasses;null!=s&&"string"==typeof t&&xn(s,t)>=0&&(n[o+1]=ra(n[o+1]))}(t,l,e,o),i=na(r,h),t.classBindings=i}(a,s,t,n,i)}}(s,e,i,true),t!==Zo&&bs(a,i,t)&&function(e,t,n,o,a,s,i,r){if(!(3&t.type))return;const h=e.data,l=h[r+1];xs(1==(1&l)?Ks(h,t,n,a,sa(l),i):void 0)||(xs(s)||function(e){return 2==(2&e)}(l)&&(s=Ks(h,null,n,a,r,i)),function(e,t,n,o,a){const s=ct(e);a?s?e.addClass(n,o):n.classList.add(o):s?e.removeClass(n,o):n.classList.remove(o)}(o,0,gt(Vt(),n),a,s))}(s,s.data[Vt()],a,a[11],e,a[i+1]=function(e,t){return null==e||"object"==typeof e&&(e=ee(so(e))),e}(t),true,i)}(e,t),Gs}function Js(e,t,n,o,a){let s=null;const i=n.directiveEnd;let r=n.directiveStylingLast;for(-1===r?r=n.directiveStart:r++;r<i&&(s=t[r],o=Ys(o,s.hostAttrs,a),s!==e);)r++;return null!==e&&(n.directiveStylingLast=r),o}function Ys(e,t,n){const o=n?1:2;let a=-1;if(null!==t)for(let s=0;s<t.length;s++){const i=t[s];"number"==typeof i?a=i:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Yn(e,i,!!n||t[++s]))}return void 0===e?null:e}function Ks(e,t,n,o,a,s){const i=null===t;let r=void 0;for(;a>0;){const t=e[a],s=Array.isArray(t),h=s?t[1]:t,l=null===h;let u=n[a+1];u===Zo&&(u=l?Ls:void 0);let d=l?Kn(u,o):h===o?u:void 0;if(s&&!xs(d)&&(d=Kn(t,o)),xs(d)&&(r=d,i))return r;const c=e[a+1];a=i?oa(c):sa(c)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(r=Kn(e,o))}return r}function xs(e){return void 0!==e}function Fs(e,t=""){const n=kt(),o=vt(),a=e+je,s=o.firstCreatePass?ua(o,a,1,t,null):o.data[a],i=n[a]=function(e,t){return ct(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Wo(o,n,i,s),Dt(s,!1)}function js(e){return Vs("",e,""),js}function Vs(e,t,n){const o=kt(),a=Ts(o,e,t,n);return a!==Zo&&ja(o,Vt(),a),Vs}function Qs(e,t,n,o,a){const s=kt(),i=function(e,t,n,o,a,s){const i=function(e,t,n,o){const a=bs(e,t,n);return bs(e,t+1,o)||a}(e,Nt.lFrame.bindingIndex,n,a);return _t(2),i?t+nt(n)+o+nt(a)+s:Zo}(s,e,t,n,o,a);return i!==Zo&&ja(s,Vt(),i),Qs}const Xs=void 0;var zs=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let qs={};function $s(e){return e in qs||(qs[e]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[e]),qs[e]}var Zs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const ei="en-US";let ti=ei;function ni(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,o){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(ti=e.toLowerCase().replace(/_/g,"-"))}function oi(e,t,n,o,a){if(e=ae(e),Array.isArray(e))for(let s=0;s<e.length;s++)oi(e[s],t,n,o,a);else{const s=vt(),i=kt();let r=hs(e)?e:ae(e.provide),h=ss(e);const l=St(),u=1048575&l.providerIndexes,d=l.directiveStart,c=l.providerIndexes>>20;if(hs(e)||!e.multi){const o=new on(h,a,Ns),A=ii(r,t,a?u:u+c,d);-1===A?(In(fn(l,i),s,r),ai(s,e,t.length),t.push(r),l.directiveStart++,l.directiveEnd++,a&&(l.providerIndexes+=1048576),n.push(o),i.push(o)):(n[A]=o,i[A]=o)}else{const A=ii(r,t,u+c,d),p=ii(r,t,u,u+c),g=A>=0&&n[A],f=p>=0&&n[p];if(a&&!f||!a&&!g){In(fn(l,i),s,r);const u=function(e,t,n,o,a){const s=new on(e,n,Ns);return s.multi=[],s.index=t,s.componentProviders=0,si(s,a,o&&!n),s}(a?hi:ri,n.length,a,o,h);!a&&f&&(n[p].providerFactory=u),ai(s,e,t.length,0),t.push(r),l.directiveStart++,l.directiveEnd++,a&&(l.providerIndexes+=1048576),n.push(u),i.push(u)}else ai(s,e,A>-1?A:p,si(n[a?p:A],h,!a&&o));!a&&o&&f&&n[p].componentProviders++}}}function ai(e,t,n,o){const a=hs(t);if(a||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const i=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const e=i.indexOf(n);-1===e?i.push(n,[o,s]):i[e+1].push(o,s)}else i.push(n,s)}}}function si(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ii(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function ri(e,t,n,o){return li(this.multi,[])}function hi(e,t,n,o){const a=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=vn(n,n[1],this.providerFactory.index,o);s=t.slice(0,e),li(a,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],li(a,s);return s}function li(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ui(e,t=[]){return n=>{n.providersResolver=(n,o)=>function(e,t,n){const o=vt();if(o.firstCreatePass){const a=Ze(e);oi(n,o.data,o.blueprint,a,!0),oi(t,o.data,o.blueprint,a,!1)}}(n,o?o(e):e,t)}}class di{}class ci{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ee(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Ai=(()=>{class e{}return e.NULL=new ci,e})();function pi(...e){}function gi(e,t){return new mi(ft(e,t))}const fi=function(){return gi(St(),kt())};let mi=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=fi,e})();class yi{}let wi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ii(),e})();const Ii=function(){const e=kt(),t=yt(St().index,e);return function(e){return e[11]}(Qe(t)?t:e)};let bi=(()=>{class e{}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>null}),e})();class Ti{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Oi=new Ti("11.0.5");class Ni{constructor(){}supports(e){return ws(e)}create(e){return new ki(e)}}const Ei=(e,t)=>t;class ki{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ei}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,o=0,a=null;for(;t||n;){const s=!n||t&&t.currentIndex<Di(n,o,a)?t:n,i=Di(s,o,a),r=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{a||(a=[]);const e=i-o,t=r-o;if(e!=t){for(let n=0;n<e;n++){const o=n<a.length?a[n]:a[n]=0,s=o+n;t<=s&&s<e&&(a[n]=o+1)}a[s.previousIndex]=t-e}}i!==r&&e(s,i,r)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ws(e))throw new Error(`Error trying to diff '${ee(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,o,a=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],o=this._trackByFn(t,n),null!==a&&Object.is(a.trackById,o)?(s&&(a=this._verifyReinsertion(a,n,o,t)),Object.is(a.item,n)||this._addIdentityChange(a,n)):(a=this._mismatch(a,n,o,t),s=!0),a=a._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ys()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(e,e=>{o=this._trackByFn(t,e),null!==a&&Object.is(a.trackById,o)?(s&&(a=this._verifyReinsertion(a,e,o,t)),Object.is(a.item,e)||this._addIdentityChange(a,e)):(a=this._mismatch(a,e,o,t),s=!0),a=a._next,t++}),this.length=t;return this._truncate(a),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,o){let a;return null===e?a=this._itTail:(a=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,a,o)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,a,o)):e=this._addAfter(new vi(t,n),a,o),e}_verifyReinsertion(e,t,n,o){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==a?e=this._reinsertAfter(a,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,a=e._nextRemoved;return null===o?this._removalsHead=a:o._nextRemoved=a,null===a?this._removalsTail=o:a._prevRemoved=o,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ri),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ri),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class vi{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Si{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ri{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Si,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Di(e,t,n){const o=e.previousIndex;if(null===o)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}class Ci{constructor(){}supports(e){return e instanceof Map||Is(e)}create(){return new Pi}}class Pi{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Is(e)))throw new Error(`Error trying to diff '${ee(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const o=n._prev,a=n._next;return o&&(o._next=a),a&&(a._prev=o),n._next=null,n._prev=null,n}const n=new Mi(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Mi{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Wi=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Qn,new jn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e([new Ni])}),e})(),_i=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Qn,new jn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e([new Ci])}),e})();function Ui(e,t,n,o,a=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&o.push(pt(s)),Xe(s))for(let e=Ve;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Ui(t[1],t,n,o)}const i=n.type;if(8&i)Ui(e,t,n.child,o);else if(32&i){const e=wo(n,t);let a;for(;a=e();)o.push(a)}else if(16&i){const e=t[16],a=e[6].projection[n.projection];if(Array.isArray(a))o.push(...a);else{const t=Io(e);Ui(t[1],t,a,o,!0)}}n=a?n.projectionNext:n.next}return o}class Li{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return Ui(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}So(this._lView[1],this._lView)}onDestroy(e){!function(e,t,n,o){const a=Ya(t);a.push(o)}(0,this._lView,0,e)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ba(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Mt(!0);try{Ba(e,t,n)}finally{Mt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Bo(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Bi extends Li{constructor(e){super(e),this._view=e}detectChanges(){Ha(this._view)}checkNoChanges(){!function(e){Mt(!0);try{Ha(e)}finally{Mt(!1)}}(this._view)}get context(){return null}}const Hi=function(e=!1){return function(e,t,n){if(!n&&qe(e)){const n=yt(e.index,t);return new Li(n,n)}return 47&e.type?new Li(t[16],t):null}(St(),kt(),e)};let Gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Hi,e.__ChangeDetectorRef__=!0,e})();const Ji=[new Ci],Yi=new Wi([new Ni]),Ki=new _i(Ji),xi=function(){return e=St(),t=kt(),4&e.type?new Vi(t,e,gi(e,t)):null;var e,t};let Fi=(()=>{class e{}return e.__NG_ELEMENT_ID__=xi,e})();const ji=Fi,Vi=class extends ji{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=la(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),ca(t,n,e),new Li(n)}};class Qi{}class Xi{}const zi=function(){return function(e,t){let n;const o=t[e.index];if(Xe(o))n=o;else{let a;if(8&e.type)a=pt(o);else{const n=t[11];a=n.createComment("");const o=ft(e,t);Do(n,Mo(n,o),a,function(e,t){return ct(e)?e.nextSibling(t):t.nextSibling}(n,o),!1)}t[e.index]=n=Pa(o,t,a,e),Ua(t,n)}return new Zi(n,e,t)}(St(),kt())};let qi=(()=>{class e{}return e.__NG_ELEMENT_ID__=zi,e})();const $i=qi,Zi=class extends $i{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=wn(this._hostTNode,this._hostLView);if(un(e)){const t=cn(e,this._hostLView),n=dn(e);return new Dn(t[1].data[n+8],t)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=er(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ve}createEmbeddedView(e,t,n){const o=e.createEmbeddedView(t||{});return this.insert(o,n),o}createComponent(e,t,n,o,a){const s=n||this.parentInjector;if(!a&&null==e.ngModule&&s){const e=s.get(Qi,null);e&&(a=e)}const i=e.create(s,o,void 0,a);return this.insert(i.hostView,t),i}insert(e,t){const n=e._lView,o=n[1];if(Xe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],o=new Zi(t,t[6],t[3]);o.detach(o.indexOf(e))}}const a=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,o){const a=Ve+o,s=n.length;o>0&&(n[a-1][4]=t),o<s-Ve?(t[4]=n[a],Gn(n,Ve+o,t)):(n.push(t),t[4]=null),t[3]=n;const i=t[17];null!==i&&n!==i&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(i,t);const r=t[19];null!==r&&r.insertView(e),t[2]|=128}(o,n,s,a);const i=Uo(a,s),r=n[11],h=Mo(r,s[7]);return null!==h&&function(e,t,n,o,a,s){o[0]=a,o[6]=t,Bo(e,o,n,1,a,s)}(o,s[6],r,n,h,i),e.attachToViewContainerRef(this),Gn(tr(s),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=er(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=vo(this._lContainer,t);n&&(Jn(tr(this._lContainer),t),So(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=vo(this._lContainer,t);return n&&null!=Jn(tr(this._lContainer),t)?new Li(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function er(e){return e[8]}function tr(e){return e[8]||(e[8]=[])}const nr={};class or extends Ai{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xe(e);return new ir(t,this.ngModule)}}function ar(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const sr=new Un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fo});class ir extends di{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map($o).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ar(this.componentDef.inputs)}get outputs(){return ar(this.componentDef.outputs)}create(e,t,n,o){const a=(o=o||this.ngModule)?function(e,t){return{get:(n,o,a)=>{const s=e.get(n,nr,a);return s!==nr||o===nr?s:t.get(n,o,a)}}}(e,o.injector):e,s=a.get(yi,At),i=a.get(bi,null),r=s.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(ct(e))return e.selectRootElement(t,n===be.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(r,n,this.componentDef.encapsulation):Eo(s.createRenderer(null,this.componentDef),h,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),u=this.componentDef.onPush?576:528,d={components:[],scheduler:fo,clean:Ja,playerHandler:null,flags:0},c=wa(0,null,null,1,0,null,null,null,null,null),A=la(null,c,d,u,null,null,s,r,i,a);let p,g;Jt(A);try{const e=function(e,t,n,o,a,s){const i=n[1];n[20]=e;const r=ua(i,20,2,"#host",null),h=r.mergedAttrs=t.hostAttrs;null!==h&&(Va(r,h,!0),null!==e&&(an(a,e,h),null!==r.classes&&Jo(a,e,r.classes),null!==r.styles&&Go(a,e,r.styles)));const l=o.createRenderer(e,t),u=la(n,ya(t),null,t.onPush?64:16,n[20],r,o,l,null,null);return i.firstCreatePass&&(In(fn(r,n),i,t.type),Ea(i,r),va(r,n.length,1)),Ua(n,u),n[20]=u}(l,this.componentDef,A,s,r);if(l)if(n)an(r,l,["ng-version",Oi.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let o=1,a=2;for(;o<e.length;){let s=e[o];if("string"==typeof s)2===a?""!==s&&t.push(s,e[++o]):8===a&&n.push(s);else{if(!Qo(a))break;a=s}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&an(r,l,e),t&&t.length>0&&Jo(r,l,t.join(" "))}if(g=mt(c,je),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const o=t[n];e.push(null!=o?Array.from(o):null)}}p=function(e,t,n,o,a){const s=n[1],i=function(e,t,n){const o=St();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Sa(e,o,t,da(e,t,1,null),n));const a=vn(t,e,o.directiveStart,o);go(a,t);const s=ft(o,t);return s&&go(s,t),a}(s,n,t);if(o.components.push(i),e[8]=i,a&&a.forEach(e=>e(i,t)),t.contentQueries){const e=St();t.contentQueries(1,i,e.directiveStart)}const r=St();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Qt(r.index),Oa(n[1],r,0,r.directiveStart,r.directiveEnd,t),Na(t,i)),i}(e,this.componentDef,A,d,[ds]),ca(c,A,null)}finally{jt()}return new rr(this.componentType,p,gi(g,A),A,g)}}class rr extends class{}{constructor(e,t,n,o,a){super(),this.location=n,this._rootLView=o,this._tNode=a,this.instance=t,this.hostView=this.changeDetectorRef=new Bi(o),this.componentType=e}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const hr=new Map;class lr extends Qi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new or(this);const n=Fe(e),o=e[Me]||null;o&&ni(o),this._bootstrapComponents=mo(n.bootstrap),this._r3Injector=ns(e,t,[{provide:Qi,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],ee(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=us.THROW_IF_NOT_FOUND,n=ge.Default){return e===us||e===Qi||e===Qa?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ur extends Xi{constructor(e){super(),this.moduleType=e,null!==Fe(e)&&function(e){const t=new Set;!function e(n){const o=Fe(n,!0),a=o.id;null!==a&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ee(t)} vs ${ee(t.name)}`)}(a,hr.get(a),n),hr.set(a,n));const s=mo(o.imports);for(const i of s)t.has(i)||(t.add(i),e(i))}(e)}(e)}create(e){return new lr(this.moduleType,e)}}const dr=class extends O{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let o,a=e=>null,s=()=>null;e&&"object"==typeof e?(o=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(a=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(a=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const i=super.subscribe(o,a,s);return e instanceof d&&e.add(i),i}},cr=new Un("Application Initializer");let Ar=(()=>{class e{constructor(e){this.appInits=e,this.resolve=pi,this.reject=pi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Ds(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(no(cr,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const pr=new Un("AppId"),gr={provide:pr,useFactory:function(){return`${fr()}${fr()}${fr()}`},deps:[]};function fr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mr=new Un("Platform Initializer"),yr=new Un("Platform ID"),wr=new Un("appBootstrapListener");let Ir=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const br=new Un("LocaleId"),Tr=new Un("DefaultCurrencyCode");class Or{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Nr=function(e){return new ur(e)},Er=Nr,kr=function(e){return Promise.resolve(Nr(e))},vr=function(e){const t=Nr(e),n=mo(Fe(e).declarations).reduce((e,t)=>{const n=xe(t);return n&&e.push(new ir(n)),e},[]);return new Or(t,n)},Sr=vr,Rr=function(e){return Promise.resolve(vr(e))};let Dr=(()=>{class e{constructor(){this.compileModuleSync=Er,this.compileModuleAsync=kr,this.compileModuleAndAllComponentsSync=Sr,this.compileModuleAndAllComponentsAsync=Rr}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const Cr=(()=>Promise.resolve(0))();function Pr(e){"undefined"==typeof Zone?Cr.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Mr{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dr(!1),this.onMicrotaskEmpty=new dr(!1),this.onStable=new dr(!1),this.onError=new dr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=t,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=ke.requestAnimationFrame,t=ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ke,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ur(e),_r(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ur(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,o,a,s,i,r)=>{try{return Lr(e),n.invokeTask(a,s,i,r)}finally{t&&"eventTask"===s.type&&t(),Br(e)}},onInvoke:(t,n,o,a,s,i,r)=>{try{return Lr(e),t.invoke(o,a,s,i,r)}finally{Br(e)}},onHasTask:(t,n,o,a)=>{t.hasTask(o,a),n===o&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,Ur(e),_r(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(t,n,o,a)=>(t.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,o){const a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+o,e,Wr,pi,pi);try{return a.runTask(s,t,n)}finally{a.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Wr={};function _r(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ur(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Lr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Br(e){e._nesting--,_r(e)}class Hr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dr,this.onMicrotaskEmpty=new dr,this.onStable=new dr,this.onError=new dr}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,o){return e.apply(t,n)}}let Gr=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mr.assertNotInAngularZone(),Pr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pr(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let o=-1;t&&t>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==o),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(no(Mr))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Jr=(()=>{class e{constructor(){this._applications=new Map,xr.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return xr.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class Yr{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Kr,xr=new Yr,Fr=!0,jr=!1;function Vr(){return jr=!0,Fr}const Qr=new Un("AllowMultipleToken");class Xr{constructor(e,t){this.name=e,this.token=t}}function zr(e,t,n=[]){const o="Platform: "+t,a=new Un(o);return(t=[])=>{let s=qr();if(!s||s.injector.get(Qr,!1))if(e)e(n.concat(t).concat({provide:a,useValue:!0}));else{const e=n.concat(t).concat({provide:a,useValue:!0},{provide:za,useValue:"platform"});!function(e){if(Kr&&!Kr.destroyed&&!Kr.injector.get(Qr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Kr=e.get($r);const t=e.get(mr,null);t&&t.forEach(e=>e())}(us.create({providers:e,name:o}))}return function(e){const t=qr();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(a)}}function qr(){return Kr&&!Kr.destroyed?Kr:null}let $r=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Hr:("zone.js"===e?void 0:e)||new Mr({enableLongStackTrace:Vr(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),o=[{provide:Mr,useValue:n}];return n.run(()=>{const t=us.create({providers:o,parent:this.injector,name:e.moduleType.name}),a=e.create(t),s=a.injector.get(po,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});a.onDestroy(()=>{th(this._modules,a),e.unsubscribe()})}),function(e,t,n){try{const o=n();return Ds(o)?o.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(s,n,()=>{const e=a.injector.get(Ar);return e.runInitializers(),e.donePromise.then(()=>(ni(a.injector.get(br,ei)||ei),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,t=[]){const n=Zr({},t);return function(e,t,n){const o=new ur(n);return Promise.resolve(o)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(eh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ee(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(no(us))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function Zr(e,t){return Array.isArray(t)?t.reduce(Zr,e):Object.assign(Object.assign({},e),t)}let eh=(()=>{class e{constructor(e,t,n,o,a,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=o,this._componentFactoryResolver=a,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),r=new y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Mr.assertNotInAngularZone(),Pr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Mr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return E(o)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof o&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof y?e[0]:K(t)(x(e,n))}(i,r.pipe(e=>{return F()((t=q,function(e){let n;n="function"==typeof t?t:function(){return t};const o=Object.create(e,X);return o.source=e,o.subjectFactory=n,o})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof di?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const o=n.isBoundToModule?void 0:this._injector.get(Qi),a=n.create(us.NULL,[],t||n.selector,o),s=a.location.nativeElement,i=a.injector.get(Gr,null),r=i&&a.injector.get(Jr);return i&&r&&r.registerApplication(s,i),a.onDestroy(()=>{this.detachView(a.hostView),th(this.components,a),r&&r.unregisterApplication(s)}),this._loadComponent(a),Vr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;th(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(wr,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(no(Mr),no(Ir),no(us),no(po),no(Ai),no(Ar))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function th(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class nh{}class oh{}const ah={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sh=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||ah}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,o]=e.split("#");return void 0===o&&(o="default"),n("zn8P")(t).then(e=>e[o]).then(e=>ih(e,t,o)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,o]=e.split("#"),a="NgFactory";return void 0===o&&(o="default",a=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[o+a]).then(e=>ih(e,t,o))}}return e.\u0275fac=function(t){return new(t||e)(no(Dr),no(oh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function ih(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const rh=zr(null,"core",[{provide:yr,useValue:"unknown"},{provide:$r,deps:[us]},{provide:Jr,deps:[]},{provide:Ir,deps:[]}]),hh=[{provide:eh,useClass:eh,deps:[Mr,Ir,us,po,Ai,Ar]},{provide:sr,deps:[Mr],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ar,useClass:Ar,deps:[[new jn,cr]]},{provide:Dr,useClass:Dr,deps:[]},gr,{provide:Wi,useFactory:function(){return Yi},deps:[]},{provide:_i,useFactory:function(){return Ki},deps:[]},{provide:br,useFactory:function(e){return ni(e=e||"undefined"!=typeof $localize&&$localize.locale||ei),e},deps:[[new Fn(br),new jn,new Qn]]},{provide:Tr,useValue:"USD"}];let lh=(()=>{class e{constructor(e){}}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)(no(eh))},providers:hh}),e})(),uh=null;function dh(){return uh}const ch=new Un("DocumentToken");let Ah=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({factory:ph,token:e,providedIn:"platform"}),e})();function ph(){return no(fh)}const gh=new Un("Location Initialized");let fh=(()=>{class e extends Ah{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=dh().getLocation(),this._history=dh().getHistory()}getBaseHrefFromDOM(){return dh().getBaseHref(this._doc)}onPopState(e){dh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){dh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){mh()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){mh()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({factory:yh,token:e,providedIn:"platform"}),e})();function mh(){return!!window.history.pushState}function yh(){return new fh(no(ch))}function wh(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ih(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function bh(e){return e&&"?"!==e[0]?"?"+e:e}let Th=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({factory:Oh,token:e,providedIn:"root"}),e})();function Oh(e){const t=no(ch).location;return new Eh(no(Ah),t&&t.origin||"")}const Nh=new Un("appBaseHref");let Eh=(()=>{class e extends Th{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return wh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+bh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,o){const a=this.prepareExternalUrl(n+bh(o));this._platformLocation.pushState(e,t,a)}replaceState(e,t,n,o){const a=this.prepareExternalUrl(n+bh(o));this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(no(Ah),no(Nh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),kh=(()=>{class e extends Th{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=wh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,o){let a=this.prepareExternalUrl(n+bh(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,t,a)}replaceState(e,t,n,o){let a=this.prepareExternalUrl(n+bh(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(no(Ah),no(Nh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),vh=(()=>{class e{constructor(e,t){this._subject=new dr,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Ih(Rh(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+bh(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Rh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bh(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bh(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(no(Th),no(Ah))},e.normalizeQueryParams=bh,e.joinWithSlash=wh,e.stripTrailingSlash=Ih,e.\u0275prov=ie({factory:Sh,token:e,providedIn:"root"}),e})();function Sh(){return new vh(no(Th),no(Ah))}function Rh(e){return e.replace(/\/index.html$/,"")}var Dh=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Ch{}let Ph=(()=>{class e extends Ch{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=$s(t);if(n)return n;const o=t.split("-")[0];if(n=$s(o),n)return n;if("en"===o)return zs;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Zs.PluralCase]}(t||this.locale)(e)){case Dh.Zero:return"zero";case Dh.One:return"one";case Dh.Two:return"two";case Dh.Few:return"few";case Dh.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(no(br))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class Mh{constructor(e,t,n,o){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,o)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Mh(null,this._ngForOf,-1,-1),null===o?void 0:o),a=new _h(e,n);t.push(a)}else if(null==o)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const a=this._viewContainer.get(n);this._viewContainer.move(a,o);const s=new _h(e,a);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,o=this._viewContainer.length;n<o;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=o,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ns(qi),Ns(Fi),Ns(Wi))},e.\u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class _h{constructor(e,t){this.record=e,this.view=t}}let Uh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Lh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Bh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Bh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ns(qi),Ns(Fi))},e.\u0275dir=Ke({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Lh{constructor(){this.$implicit=null,this.ngIf=null}}function Bh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ee(t)}'.`)}let Hh=(()=>{class e{}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)},providers:[{provide:Ch,useClass:Ph}]}),e})(),Gh=(()=>{class e{}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new Jh(no(ch),window,no(po))}),e})();class Jh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(n-a[0],o-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yh(this.window.history)||Yh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Yh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Kh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Kh,uh||(uh=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Fh||(Fh=document.querySelector("base"),Fh)?Fh.getAttribute("href"):null;return null==t?null:(n=t,xh||(xh=document.createElement("a")),xh.setAttribute("href",n),"/"===xh.pathname.charAt(0)?xh.pathname:"/"+xh.pathname);var n}resetBaseElement(){Fh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[o,a]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(o.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,e)}}let xh,Fh=null;const jh=new Un("TRANSITION_ID"),Vh=[{provide:cr,useFactory:function(e,t,n){return()=>{n.get(Ar).donePromise.then(()=>{const n=dh();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[jh,ch,us],multi:!0}];class Qh{static init(){var e;e=new Qh,xr=e}addToWindow(e){ke.getAngularTestability=(t,n=!0)=>{const o=e.findTestabilityInTree(t,n);if(null==o)throw new Error("Could not find testability for element.");return o},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(e=>{const t=ke.getAllAngularTestabilities();let n=t.length,o=!1;const a=function(t){o=o||t,n--,0==n&&e(o)};t.forEach(function(e){e.whenStable(a)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:n?dh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Xh=new Un("EventManagerPlugins");let zh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let o=0;o<n.length;o++){const t=n[o];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(no(Xh),no(Mr))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class qh{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const o=dh().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,n)}}let $h=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Zh=(()=>{class e extends $h{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>dh().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const el={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tl=/%COMP%/g;function nl(e,t,n){for(let o=0;o<t.length;o++){let a=t[o];Array.isArray(a)?nl(e,a,n):(a=a.replace(tl,e),n.push(a))}return n}function ol(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let al=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new sl(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case be.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new il(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case be.ShadowDom:return new rl(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=nl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(no(zh),no(Zh),no(pr))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class sl{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(el[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,o){if(o){t=o+":"+t;const a=el[o];a?e.setAttributeNS(a,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const o=el[n];o?e.removeAttributeNS(o,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,o){o&(yo.DashCase|yo.Important)?e.style.setProperty(t,n,o&yo.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&yo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ol(n)):this.eventManager.addEventListener(e,t,ol(n))}}class il extends sl{constructor(e,t,n,o){super(e),this.component=n;const a=nl(o+"-"+n.id,n.styles,[]);t.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(tl,o+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tl,o+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class rl extends sl{constructor(e,t,n,o){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=nl(o.id,o.styles,[]);for(let s=0;s<a.length;s++){const e=document.createElement("style");e.textContent=a[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hl=(()=>{class e extends qh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const ll=["alt","control","meta","shift"],ul={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cl={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Al=(()=>{class e extends qh{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,o){const a=e.parseEventName(n),s=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dh().onAndCancel(t,a.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const a=e._normalizeKey(n.pop());let s="";if(ll.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=a,0!=n.length||0===a.length)return null;const i={};return i.domEventName=o,i.fullKey=s,i}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&dl.hasOwnProperty(t)&&(t=dl[t]))}return ul[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ll.forEach(o=>{o!=n&&(0,cl[o])(e)&&(t+=o+".")}),t+=n,t}static eventCallback(t,n,o){return a=>{e.getEventFullKey(a)===t&&o.runGuarded(()=>n(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const pl=zr(rh,"browser",[{provide:yr,useValue:"browser"},{provide:mr,useValue:function(){Kh.makeCurrent(),Qh.init()},multi:!0},{provide:ch,useFactory:function(){return function(e){dt=e}(document),document},deps:[]}]),gl=[[],{provide:za,useValue:"root"},{provide:po,useFactory:function(){return new po},deps:[]},{provide:Xh,useClass:hl,multi:!0,deps:[ch,Mr,yr]},{provide:Xh,useClass:Al,multi:!0,deps:[ch]},[],{provide:al,useClass:al,deps:[zh,Zh,pr]},{provide:yi,useExisting:al},{provide:$h,useExisting:Zh},{provide:Zh,useClass:Zh,deps:[ch]},{provide:Gr,useClass:Gr,deps:[Mr]},{provide:zh,useClass:zh,deps:[Xh,Mr]},[]];let fl=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:pr,useValue:t.appId},{provide:jh,useExisting:pr},Vh]}}}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)(no(e,12))},providers:gl,imports:[Hh,lh]}),e})();function ml(...e){let t=e[e.length-1];return E(t)?(e.pop(),_(e,t)):x(e)}"undefined"!=typeof window&&window;class yl extends O{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new I;return this._value}next(e){super.next(this._value=e)}}class wl extends p{notifyNext(e,t,n,o,a){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Il extends p{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function bl(e,t,n,o,a=new Il(e,n,o)){if(!a.closed)return t instanceof y?t.subscribe(a):W(t)(a)}const Tl={};class Ol{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Nl(e,this.resultSelector))}}class Nl extends wl{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Tl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(bl(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const o=this.values,a=this.toRespond?o[n]===Tl?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const El=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),kl=new y(e=>e.complete());function vl(e){return e?function(e){return new y(t=>e.schedule(()=>t.complete()))}(e):kl}function Sl(e){return new y(t=>{let n;try{n=e()}catch(o){return void t.error(o)}return(n?U(n):vl()).subscribe(t)})}function Rl(){return K(1)}function Dl(e,t){return function(n){return n.lift(new Cl(e,t))}}class Cl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Pl(e,this.predicate,this.thisArg))}}class Pl extends p{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const Ml=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Wl(e){return function(t){return 0===e?vl():t.lift(new _l(e))}}class _l{constructor(e){if(this.total=e,this.total<0)throw new Ml}call(e,t){return t.subscribe(new Ul(e,this.total))}}class Ul extends p{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,o=this.count++;t.length<n?t.push(e):t[o%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,o=this.ring;for(let a=0;a<n;a++){const a=t++%n;e.next(o[a])}}e.complete()}}function Ll(e=Gl){return t=>t.lift(new Bl(e))}class Bl{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Hl(e,this.errorFactory))}}class Hl extends p{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Gl(){return new El}function Jl(e=null){return t=>t.lift(new Yl(e))}class Yl{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Kl(e,this.defaultValue))}}class Kl extends p{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xl(e,t){return"function"==typeof t?n=>n.pipe(xl((n,o)=>U(e(n,o)).pipe(k((e,a)=>t(n,e,o,a))))):t=>t.lift(new Fl(e))}class Fl{constructor(e){this.project=e}call(e,t){return t.subscribe(new jl(e,this.project))}}class jl extends B{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new L(this),o=this.destination;o.add(n),this.innerSubscription=H(e,n),this.innerSubscription!==n&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function Vl(e){return t=>0===e?vl():t.lift(new Ql(e))}class Ql{constructor(e){if(this.total=e,this.total<0)throw new Ml}call(e,t){return t.subscribe(new Xl(e,this.total))}}class Xl extends p{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function zl(...e){return Rl()(ml(...e))}class ql{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new $l(e,this.accumulator,this.seed,this.hasSeed))}}class $l extends p{constructor(e,t,n,o){super(e),this.accumulator=t,this._seed=n,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=n,this.destination.next(n)}}function Zl(e){return function(t){const n=new eu(e),o=t.lift(n);return n.caught=o}}class eu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new tu(e,this.selector,this.caught))}}class tu extends B{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const o=new L(this);this.add(o);const a=H(n,o);a!==o&&this.add(a)}}}function nu(e,t){return G(e,t,1)}function ou(e,t){const n=arguments.length>=2;return o=>o.pipe(e?Dl((t,n)=>e(t,n,o)):m,Vl(1),n?Jl(t):Ll(()=>new El))}function au(){}function su(e,t,n){return function(o){return o.lift(new iu(e,t,n))}}class iu{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new ru(e,this.nextOrObserver,this.error,this.complete))}}class ru extends p{constructor(e,t,n,a){super(e),this._tapNext=au,this._tapError=au,this._tapComplete=au,this._tapError=n||au,this._tapComplete=a||au,o(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||au,this._tapError=t.error||au,this._tapComplete=t.complete||au)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class hu{constructor(e){this.callback=e}call(e,t){return t.subscribe(new lu(e,this.callback))}}class lu extends p{constructor(e,t){super(e),this.add(new d(t))}}class uu{constructor(e,t){this.id=e,this.url=t}}class du extends uu{constructor(e,t,n="imperative",o=null){super(e,t),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cu extends uu{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Au extends uu{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pu extends uu{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mu extends uu{constructor(e,t,n,o,a){super(e,t),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ou{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ku{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vu="primary";class Su{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ru(e){return new Su(e)}function Du(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Cu(e,t,n){const o=n.path.split("/");if(o.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||o.length<e.length))return null;const a={};for(let s=0;s<o.length;s++){const t=o[s],n=e[s];if(t.startsWith(":"))a[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,o.length),posParams:a}}function Pu(e,t){const n=Object.keys(e),o=Object.keys(t);if(!n||!o||n.length!=o.length)return!1;let a;for(let s=0;s<n.length;s++)if(a=n[s],!Mu(e[a],t[a]))return!1;return!0}function Mu(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),o=[...t].sort();return n.every((e,t)=>o[t]===e)}return e===t}function Wu(e){return Array.prototype.concat.apply([],e)}function _u(e){return e.length>0?e[e.length-1]:null}function Uu(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Lu(e){return Cs(e)?e:Ds(e)?U(Promise.resolve(e)):ml(e)}function Bu(e,t,n){return n?function(e,t){return Pu(e,t)}(e.queryParams,t.queryParams)&&Hu(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Mu(e[n],t[n]))}(e.queryParams,t.queryParams)&&Gu(e.root,t.root)}function Hu(e,t){if(!Fu(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Hu(e.children[n],t.children[n]))return!1}return!0}function Gu(e,t){return Ju(e,t,t.segments)}function Ju(e,t,n){if(e.segments.length>n.length)return!!Fu(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Fu(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Gu(e.children[n],t.children[n]))return!1}return!0}{const o=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!Fu(e.segments,o)&&!!e.children.primary&&Ju(e.children.primary,t,a)}}class Yu{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return Xu.serialize(this)}}class Ku{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Uu(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}}class xu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ru(this.parameters)),this._parameterMap}toString(){return od(this)}}function Fu(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function ju(e,t){let n=[];return Uu(e.children,(e,o)=>{o===vu&&(n=n.concat(t(e,o)))}),Uu(e.children,(e,o)=>{o!==vu&&(n=n.concat(t(e,o)))}),n}class Vu{}class Qu{parse(e){const t=new hd(e);return new Yu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+qu(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Zu(t)}=${Zu(e)}`).join("&"):`${Zu(t)}=${Zu(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Xu=new Qu;function zu(e){return e.segments.map(e=>od(e)).join("/")}function qu(e,t){if(!e.hasChildren())return zu(e);if(t){const t=e.children.primary?qu(e.children.primary,!1):"",n=[];return Uu(e.children,(e,t)=>{t!==vu&&n.push(`${t}:${qu(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=ju(e,(t,n)=>n===vu?[qu(e.children.primary,!1)]:[`${n}:${qu(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${zu(e)}/${t[0]}`:`${zu(e)}/(${t.join("//")})`}}function $u(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(e){return $u(e).replace(/%3B/gi,";")}function ed(e){return $u(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(e){return decodeURIComponent(e)}function nd(e){return td(e.replace(/\+/g,"%20"))}function od(e){return`${ed(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${ed(e)}=${ed(t[e])}`).join("")}`;var t}const ad=/^[^\/()?;=#]+/;function sd(e){const t=e.match(ad);return t?t[0]:""}const id=/^[^=?&#]+/,rd=/^[^?&#]+/;class hd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ku([],{}):new Ku([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ku(e,t)),n}parseSegment(){const e=sd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new xu(td(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=sd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=sd(this.remaining);e&&(n=e,this.capture(n))}e[td(t)]=td(n)}parseQueryParam(e){const t=function(e){const t=e.match(id);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(rd);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const o=nd(t),a=nd(n);if(e.hasOwnProperty(o)){let t=e[o];Array.isArray(t)||(t=[t],e[o]=t),t.push(a)}else e[o]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=sd(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let a=void 0;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=vu);const s=this.parseChildren();t[a]=1===Object.keys(s).length?s.primary:new Ku([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ld{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ud(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ud(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return dd(e,this._root).map(e=>e.value)}}function ud(e,t){if(e===t.value)return t;for(const n of t.children){const t=ud(e,n);if(t)return t}return null}function dd(e,t){if(e===t.value)return[t];for(const n of t.children){const o=dd(e,n);if(o.length)return o.unshift(t),o}return[]}class cd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ad(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class pd extends ld{constructor(e,t){super(e),this.snapshot=t,Id(this,e)}toString(){return this.snapshot.toString()}}function gd(e,t){const n=function(e,t){const n=new yd([],{},{},"",{},vu,t,null,e.root,-1,{});return new wd("",new cd(n,[]))}(e,t),o=new yl([new xu("",{})]),a=new yl({}),s=new yl({}),i=new yl({}),r=new yl(""),h=new fd(o,a,i,r,s,vu,t,n.root);return h.snapshot=n.root,new pd(new cd(h,[]),n)}class fd{constructor(e,t,n,o,a,s,i,r){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=a,this.outlet=s,this.component=i,this._futureSnapshot=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(e=>Ru(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(e=>Ru(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function md(e,t="emptyOnly"){const n=e.pathFromRoot;let o=0;if("always"!==t)for(o=n.length-1;o>=1;){const e=n[o],t=n[o-1];if(e.routeConfig&&""===e.routeConfig.path)o--;else{if(t.component)break;o--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(o))}class yd{constructor(e,t,n,o,a,s,i,r,h,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=a,this.outlet=s,this.component=i,this.routeConfig=r,this._urlSegment=h,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wd extends ld{constructor(e,t){super(t),this.url=e,Id(this,t)}toString(){return bd(this._root)}}function Id(e,t){t.value._routerState=e,t.children.forEach(t=>Id(e,t))}function bd(e){const t=e.children.length>0?` { ${e.children.map(bd).join(", ")} } `:"";return`${e.value}${t}`}function Td(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Pu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Pu(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Pu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Pu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Od(e,t){var n,o;return Pu(e.params,t.params)&&Fu(n=e.url,o=t.url)&&n.every((e,t)=>Pu(e.parameters,o[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Od(e.parent,t.parent))}function Nd(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=t.value;const a=function(e,t,n){return t.children.map(t=>{for(const o of n.children)if(e.shouldReuseRoute(t.value,o.value.snapshot))return Nd(e,t,o);return Nd(e,t)})}(e,t,n);return new cd(o,a)}{const n=e.retrieve(t.value);if(n){const e=n.route;return Ed(t,e),e}{const n=new fd(new yl((o=t.value).url),new yl(o.params),new yl(o.queryParams),new yl(o.fragment),new yl(o.data),o.outlet,o.component,o),a=t.children.map(t=>Nd(e,t));return new cd(n,a)}}var o}function Ed(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Ed(e.children[n],t.children[n])}function kd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vd(e){return"object"==typeof e&&null!=e&&e.outlets}function Sd(e,t,n,o,a){let s={};return o&&Uu(o,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Yu(n.root===e?t:Rd(n.root,e,t),s,a)}function Rd(e,t,n){const o={};return Uu(e.children,(e,a)=>{o[a]=e===t?n:Rd(e,t,n)}),new Ku(e.segments,o)}class Dd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&kd(n[0]))throw new Error("Root segment cannot have matrix parameters");const o=n.find(vd);if(o&&o!==_u(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Pd(e,t,n){if(e||(e=new Ku([],{})),0===e.segments.length&&e.hasChildren())return Md(e,t,n);const o=function(e,t,n){let o=0,a=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(o>=n.length)return s;const t=e.segments[a],i=n[o];if(vd(i))break;const r=""+i,h=o<n.length-1?n[o+1]:null;if(a>0&&void 0===r)break;if(r&&h&&"object"==typeof h&&void 0===h.outlets){if(!Ld(r,h,t))return s;o+=2}else{if(!Ld(r,{},t))return s;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(e,t,n),a=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const t=new Ku(e.segments.slice(0,o.pathIndex),{});return t.children.primary=new Ku(e.segments.slice(o.pathIndex),e.children),Md(t,0,a)}return o.match&&0===a.length?new Ku(e.segments,{}):o.match&&!e.hasChildren()?Wd(e,t,n):o.match?Md(e,0,a):Wd(e,t,n)}function Md(e,t,n){if(0===n.length)return new Ku(e.segments,{});{const o=function(e){return vd(e[0])?e[0].outlets:{[vu]:e}}(n),a={};return Uu(o,(n,o)=>{"string"==typeof n&&(n=[n]),null!==n&&(a[o]=Pd(e.children[o],t,n))}),Uu(e.children,(e,t)=>{void 0===o[t]&&(a[t]=e)}),new Ku(e.segments,a)}}function Wd(e,t,n){const o=e.segments.slice(0,t);let a=0;for(;a<n.length;){const s=n[a];if(vd(s)){const e=_d(s.outlets);return new Ku(o,e)}if(0===a&&kd(n[0])){o.push(new xu(e.segments[t].path,n[0])),a++;continue}const i=vd(s)?s.outlets.primary:""+s,r=a<n.length-1?n[a+1]:null;i&&r&&kd(r)?(o.push(new xu(i,Ud(r))),a+=2):(o.push(new xu(i,{})),a++)}return new Ku(o,{})}function _d(e){const t={};return Uu(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Wd(new Ku([],{}),0,e))}),t}function Ud(e){const t={};return Uu(e,(e,n)=>t[n]=""+e),t}function Ld(e,t,n){return e==n.path&&Pu(t,n.parameters)}class Bd{constructor(e,t,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=o}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Td(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const o=Ad(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,o[t],n),delete o[t]}),Uu(o,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const o=e.value,a=t?t.value:null;if(o===a)if(o.component){const a=n.getContext(o.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else a&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const o=Ad(e),a=e.value.component?n.children:t;Uu(o,(e,t)=>this.deactivateRouteAndItsChildren(e,a)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const o=Ad(t);e.children.forEach(e=>{this.activateRoutes(e,o[e.value.outlet],n),this.forwardEvent(new Eu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ou(e.value.snapshot))}activateRoutes(e,t,n){const o=e.value,a=t?t.value:null;if(Td(o),o===a)if(o.component){const a=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(o.component){const t=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const e=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Hd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),a=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=o,t.resolver=a,t.outlet&&t.outlet.activateWith(o,a),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Hd(e){Td(e.value),e.children.forEach(Hd)}class Gd{constructor(e,t){this.routes=e,this.module=t}}function Jd(e){return"function"==typeof e}function Yd(e){return e instanceof Yu}const Kd=Symbol("INITIAL_VALUE");function xd(){return xl(e=>function(...e){let t=void 0,n=void 0;return E(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&h(e[0])&&(e=e[0]),x(e,n).lift(new Ol(t))}(...e.map(e=>e.pipe(Vl(1),function(...e){const t=e[e.length-1];return E(t)?(e.pop(),n=>zl(e,n,t)):t=>zl(e,t)}(Kd)))).pipe(function(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new ql(e,t,n))}}((e,t)=>{let n=!1;return t.reduce((e,o,a)=>{if(e!==Kd)return e;if(o===Kd&&(n=!0),!n){if(!1===o)return o;if(a===t.length-1||Yd(o))return o}return e},e)},Kd),Dl(e=>e!==Kd),k(e=>Yd(e)?e:!0===e),Vl(1)))}let Fd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Le({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Rs(0,"router-outlet")},directives:function(){return[Lc]},encapsulation:2}),e})();function jd(e,t=""){for(let n=0;n<e.length;n++){const o=e[n];Vd(o,Qd(t,o))}}function Vd(e,t){e.children&&jd(e.children,t)}function Qd(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Xd(e){const t=e.children&&e.children.map(Xd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==vu&&(n.component=Fd),n}function zd(e){return e.outlet||vu}class qd{constructor(e){this.segmentGroup=e||null}}class $d{constructor(e){this.urlTree=e}}function Zd(e){return new y(t=>t.error(new qd(e)))}function ec(e){return new y(t=>t.error(new $d(e)))}function tc(e){return new y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class nc{constructor(e,t,n,o,a){this.configLoader=t,this.urlSerializer=n,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(Qi)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vu).pipe(k(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zl(e=>{if(e instanceof $d)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof qd)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,vu).pipe(k(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Zl(e=>{if(e instanceof qd)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const o=e.segments.length>0?new Ku([],{[vu]:e}):e;return new Yu(o,t,n)}expandSegmentGroup(e,t,n,o){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(k(e=>new Ku([],e))):this.expandSegment(e,n,t,n.segments,o,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return ml({});const n=[],o=[],a={};return Uu(e,(e,s)=>{const i=t(s,e).pipe(k(e=>a[s]=e));s===vu?n.push(i):o.push(i)}),ml.apply(null,n.concat(o)).pipe(Rl(),function(e,t){const n=arguments.length>=2;return o=>o.pipe(e?Dl((t,n)=>e(t,n,o)):m,Wl(1),n?Jl(t):Ll(()=>new El))}(),k(()=>a))}(n.children,(n,o)=>this.expandSegmentGroup(e,t,o,n))}expandSegment(e,t,n,o,a,s){const i=function(e){return e.reduce((e,t)=>{const n=zd(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);i.has(a)||i.set(a,[]);const r=n=>U(n).pipe(nu(i=>this.expandSegmentAgainstRoute(e,t,n,i,o,a,s).pipe(Zl(e=>{if(e instanceof qd)return ml(null);throw e}))),ou(e=>null!==e),Zl(e=>{if(e instanceof El||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,o,a))return ml(new Ku([],{}));throw new qd(t)}throw e}));return U(Array.from(i.entries()).map(([e,t])=>{const n=r(t);return e===a?n:n.pipe(k(()=>null),Zl(()=>ml(null)))})).pipe(e=>e.lift(new Ol(void 0)),ou(),k(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,o,a,s,i){return zd(o)!==s&&""!==o.path?Zd(t):void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,a):i&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,o,a,s):Zd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,o,a,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,o,a,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,o){const a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ec(a):this.lineralizeSegments(n,a).pipe(G(n=>{const a=new Ku(n,{});return this.expandSegment(e,a,t,n,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,o,a,s){const{matched:i,consumedSegments:r,lastChild:h,positionalParamSegments:l}=oc(t,o,a);if(!i)return Zd(t);const u=this.applyRedirectCommands(r,o.redirectTo,l);return o.redirectTo.startsWith("/")?ec(u):this.lineralizeSegments(o,u).pipe(G(o=>this.expandSegment(e,t,n,o.concat(a.slice(h)),s,!1)))}matchSegmentAgainstRoute(e,t,n,o){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(k(e=>(n._loadedConfig=e,new Ku(o,{})))):ml(new Ku(o,{}));const{matched:a,consumedSegments:s,lastChild:i}=oc(t,n,o);if(!a)return Zd(t);const r=o.slice(i);return this.getChildConfig(e,n,o).pipe(G(e=>{const n=e.module,o=e.routes,{segmentGroup:a,slicedSegments:i}=function(e,t,n,o){return n.length>0&&function(e,t,n){return n.some(n=>sc(e,t,n)&&zd(n)!==vu)}(e,n,o)?{segmentGroup:ac(new Ku(t,function(e,t){const n={};n.primary=t;for(const o of e)""===o.path&&zd(o)!==vu&&(n[zd(o)]=new Ku([],{}));return n}(o,new Ku(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>sc(e,t,n))}(e,n,o)?{segmentGroup:ac(new Ku(e.segments,function(e,t,n,o){const a={};for(const s of n)sc(e,t,s)&&!o[zd(s)]&&(a[zd(s)]=new Ku([],{}));return Object.assign(Object.assign({},o),a)}(e,n,o,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,r,o);return 0===i.length&&a.hasChildren()?this.expandChildren(n,o,a).pipe(k(e=>new Ku(s,e))):0===o.length&&0===i.length?ml(new Ku(s,{})):this.expandSegment(n,a,o,i,vu,!0).pipe(k(e=>new Ku(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?ml(new Gd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ml(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(G(n=>n?this.configLoader.load(e.injector,t).pipe(k(e=>(t._loadedConfig=e,e))):function(e){return new y(t=>t.error(Du(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):ml(new Gd([],e))}runCanLoadGuards(e,t,n){const o=t.canLoad;return o&&0!==o.length?ml(o.map(o=>{const a=e.get(o);let s;if(function(e){return e&&Jd(e.canLoad)}(a))s=a.canLoad(t,n);else{if(!Jd(a))throw new Error("Invalid CanLoad guard");s=a(t,n)}return Lu(s)})).pipe(xd(),su(e=>{if(!Yd(e))return;const t=Du(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),k(e=>!0===e)):ml(!0)}lineralizeSegments(e,t){let n=[],o=t.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return ml(n);if(o.numberOfChildren>1||!o.children.primary)return tc(e.redirectTo);o=o.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,o){const a=this.createSegmentGroup(e,t.root,n,o);return new Yu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Uu(e,(e,o)=>{if("string"==typeof e&&e.startsWith(":")){const a=e.substring(1);n[o]=t[a]}else n[o]=e}),n}createSegmentGroup(e,t,n,o){const a=this.createSegments(e,t.segments,n,o);let s={};return Uu(t.children,(t,a)=>{s[a]=this.createSegmentGroup(e,t,n,o)}),new Ku(a,s)}createSegments(e,t,n,o){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,o):this.findOrReturn(t,n))}findPosParam(e,t,n){const o=n[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let n=0;for(const o of t){if(o.path===e.path)return t.splice(n),o;n++}return e}}function oc(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const o=(t.matcher||Cu)(n,e,t);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ac(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ku(e.segments.concat(t.segments),t.children)}return e}function sc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class ic{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rc{constructor(e,t){this.component=e,this.route=t}}function hc(e,t,n){const o=e._root;return uc(o,t?t._root:null,n,[o.value])}function lc(e,t,n){const o=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:n).get(e)}function uc(e,t,n,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ad(t);return e.children.forEach(e=>{!function(e,t,n,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,i=t?t.value:null,r=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){const h=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Fu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Fu(e.url,t.url)||!Pu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Od(e,t)||!Pu(e.queryParams,t.queryParams);case"paramsChange":default:return!Od(e,t)}}(i,s,s.routeConfig.runGuardsAndResolvers);h?a.canActivateChecks.push(new ic(o)):(s.data=i.data,s._resolvedData=i._resolvedData),uc(e,t,s.component?r?r.children:null:n,o,a),h&&r&&r.outlet&&r.outlet.isActivated&&a.canDeactivateChecks.push(new rc(r.outlet.component,i))}else i&&dc(t,r,a),a.canActivateChecks.push(new ic(o)),uc(e,null,s.component?r?r.children:null:n,o,a)}(e,s[e.value.outlet],n,o.concat([e.value]),a),delete s[e.value.outlet]}),Uu(s,(e,t)=>dc(e,n.getContext(t),a)),a}function dc(e,t,n){const o=Ad(e),a=e.value;Uu(o,(e,o)=>{dc(e,a.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new rc(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function cc(e,t){return null!==e&&t&&t(new Nu(e)),ml(!0)}function Ac(e,t){return null!==e&&t&&t(new Tu(e)),ml(!0)}function pc(e,t,n){const o=t.routeConfig?t.routeConfig.canActivate:null;return o&&0!==o.length?ml(o.map(o=>Sl(()=>{const a=lc(o,t,n);let s;if(function(e){return e&&Jd(e.canActivate)}(a))s=Lu(a.canActivate(t,e));else{if(!Jd(a))throw new Error("Invalid CanActivate guard");s=Lu(a(t,e))}return s.pipe(ou())}))).pipe(xd()):ml(!0)}function gc(e,t,n){const o=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Sl(()=>ml(t.guards.map(a=>{const s=lc(a,t.node,n);let i;if(function(e){return e&&Jd(e.canActivateChild)}(s))i=Lu(s.canActivateChild(o,e));else{if(!Jd(s))throw new Error("Invalid CanActivateChild guard");i=Lu(s(o,e))}return i.pipe(ou())})).pipe(xd())));return ml(a).pipe(xd())}class fc{}class mc{constructor(e,t,n,o,a,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=o,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=s}recognize(){try{const e=Ic(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,vu),n=new yd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vu,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new cd(n,t),a=new wd(this.url,o);return this.inheritParamsAndData(a._root),ml(a)}catch(e){return new y(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=md(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=ju(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),o=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${o}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===vu?-1:t.value.outlet===vu?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,o){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,o)}catch(a){if(!(a instanceof fc))throw a}if(this.noLeftoversInUrl(t,n,o))return[];throw new fc}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,o){if(e.redirectTo)throw new fc;if((e.outlet||vu)!==o)throw new fc;let a,s=[],i=[];if("**"===e.path){const s=n.length>0?_u(n).parameters:{};a=new yd(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tc(e),o,e.component,e,yc(t),wc(t)+n.length,Oc(e))}else{const r=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new fc;return{consumedSegments:[],lastChild:0,parameters:{}}}const o=(t.matcher||Cu)(n,e,t);if(!o)throw new fc;const a={};Uu(o.posParams,(e,t)=>{a[t]=e.path});const s=o.consumed.length>0?Object.assign(Object.assign({},a),o.consumed[o.consumed.length-1].parameters):a;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s}}(t,e,n);s=r.consumedSegments,i=n.slice(r.lastChild),a=new yd(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tc(e),o,e.component,e,yc(t),wc(t)+s.length,Oc(e))}const r=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:l}=Ic(t,s,i,r,this.relativeLinkResolution);if(0===l.length&&h.hasChildren()){const e=this.processChildren(r,h);return[new cd(a,e)]}if(0===r.length&&0===l.length)return[new cd(a,[])];const u=this.processSegment(r,h,l,vu);return[new cd(a,u)]}}function yc(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function wc(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Ic(e,t,n,o,a){if(n.length>0&&function(e,t,n){return n.some(n=>bc(e,t,n)&&zd(n)!==vu)}(e,n,o)){const a=new Ku(t,function(e,t,n,o){const a={};a.primary=o,o._sourceSegment=e,o._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&zd(s)!==vu){const n=new Ku([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,a[zd(s)]=n}return a}(e,t,o,new Ku(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>bc(e,t,n))}(e,n,o)){const s=new Ku(e.segments,function(e,t,n,o,a,s){const i={};for(const r of o)if(bc(e,n,r)&&!a[zd(r)]){const n=new Ku([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,i[zd(r)]=n}return Object.assign(Object.assign({},a),i)}(e,t,n,o,e.children,a));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ku(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function bc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Tc(e){return e.data||{}}function Oc(e){return e.resolve||{}}function Nc(e){return function(t){return t.pipe(xl(t=>{const n=e(t);return n?U(n).pipe(k(()=>t)):U([t])}))}}class Ec extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kc=new Un("ROUTES");class vc{constructor(e,t,n,o){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=o}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(k(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=n.create(e);return new Gd(Wu(o.injector.get(kc)).map(Xd),o)}))}loadModuleFactory(e){return"string"==typeof e?U(this.loader.load(e)):Lu(e()).pipe(G(e=>e instanceof Xi?ml(e):U(this.compiler.compileModuleAsync(e))))}}class Sc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Sc,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Dc{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Cc(e){throw e}function Pc(e,t,n){return t.parse("/")}function Mc(e,t){return ml(null)}let Wc=(()=>{class e{constructor(e,t,n,o,a,s,i,r){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=o,this.config=r,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=Cc,this.malformedUriErrorHandler=Pc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mc,afterPreactivation:Mc},this.urlHandlingStrategy=new Dc,this.routeReuseStrategy=new Ec,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=a.get(Qi),this.console=a.get(Ir);const h=a.get(Mr);this.isNgZoneEnabled=h instanceof Mr,this.resetConfig(r),this.currentUrlTree=new Yu(new Ku([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vc(s,i,e=>this.triggerEvent(new Iu(e)),e=>this.triggerEvent(new bu(e))),this.routerState=gd(this.currentUrlTree,this.rootComponentType),this.transitions=new yl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Dl(e=>0!==e.id),k(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),xl(e=>{let n=!1,o=!1;return ml(e).pipe(su(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xl(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ml(e).pipe(xl(e=>{const n=this.transitions.getValue();return t.next(new du(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?kl:[e]}),xl(e=>Promise.resolve(e)),(o=this.ngModule.injector,a=this.configLoader,s=this.urlSerializer,i=this.config,function(e){return e.pipe(xl(e=>function(e,t,n,o,a){return new nc(e,t,n,o,a).apply()}(o,a,s,e.extractedUrl,i).pipe(k(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),su(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,o,a){return function(s){return s.pipe(G(s=>function(e,t,n,o,a="emptyOnly",s="legacy"){return new mc(e,t,n,o,a,s).recognize()}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),o,a).pipe(k(e=>Object.assign(Object.assign({},s),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),su(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),su(e=>{const n=new gu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var o,a,s,i;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:o,source:a,restoredState:s,extras:i}=e,r=new du(n,this.serializeUrl(o),a,s);t.next(r);const h=gd(o,this.rootComponentType).snapshot;return ml(Object.assign(Object.assign({},e),{targetSnapshot:h,urlAfterRedirects:o,extras:Object.assign(Object.assign({},i),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),kl}),Nc(e=>{const{targetSnapshot:t,id:n,extractedUrl:o,rawUrl:a,extras:{skipLocationChange:s,replaceUrl:i}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:o,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!i})}),su(e=>{const t=new fu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),k(e=>Object.assign(Object.assign({},e),{guards:hc(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(G(n=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return 0===i.length&&0===s.length?ml(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,o){return U(e).pipe(G(e=>function(e,t,n,o,a){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ml(s.map(s=>{const i=lc(s,t,a);let r;if(function(e){return e&&Jd(e.canDeactivate)}(i))r=Lu(i.canDeactivate(e,t,n,o));else{if(!Jd(i))throw new Error("Invalid CanDeactivate guard");r=Lu(i(e,t,n,o))}return r.pipe(ou())})).pipe(xd()):ml(!0)}(e.component,e.route,n,t,o)),ou(e=>!0!==e,!0))}(i,o,a,e).pipe(G(n=>n&&"boolean"==typeof n?function(e,t,n,o){return U(t).pipe(nu(t=>U([Ac(t.route.parent,o),cc(t.route,o),gc(e,t.path,n),pc(e,t.route,n)]).pipe(Rl(),ou(e=>!0!==e,!0))),ou(e=>!0!==e,!0))}(o,s,e,t):ml(n)),k(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),su(e=>{if(Yd(e.guardsResult)){const t=Du(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),su(e=>{const t=new mu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Dl(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Au(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Nc(e=>{if(e.guards.canActivateChecks.length)return ml(e).pipe(su(e=>{const t=new yu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),xl(e=>{let n=!1;return ml(e).pipe((o=this.paramsInheritanceStrategy,a=this.ngModule.injector,function(e){return e.pipe(G(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return ml(e);let s=0;return U(n).pipe(nu(e=>function(e,t,n,o){return function(e,t,n,o){const a=Object.keys(e);if(0===a.length)return ml({});const s={};return U(a).pipe(G(a=>function(e,t,n,o){const a=lc(e,t,o);return Lu(a.resolve?a.resolve(t,n):a(t,n))}(e[a],t,n,o).pipe(su(e=>{s[a]=e}))),Wl(1),G(()=>Object.keys(s).length===a.length?ml(s):kl))}(e._resolve,e,t,o).pipe(k(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),md(e,n).resolve),null)))}(e.route,t,o,a)),su(()=>s++),Wl(1),G(t=>s===n.length?ml(e):kl))}))}),su({next:()=>n=!0,complete:()=>{if(!n){const n=new Au(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var o,a}),su(e=>{const t=new wu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Nc(e=>{const{targetSnapshot:t,id:n,extractedUrl:o,rawUrl:a,extras:{skipLocationChange:s,replaceUrl:i}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:o,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!i})}),k(e=>{const t=function(e,t,n){const o=Nd(e,t._root,n?n._root:void 0);return new pd(o,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),su(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,i=this.routeReuseStrategy,r=e=>this.triggerEvent(e),k(e=>(new Bd(i,e.targetRouterState,e.currentRouterState,r).activate(s),e))),su({next(){n=!0},complete(){n=!0}}),(a=()=>{if(!n&&!o){this.resetUrlToCurrentUrlTree();const n=new Au(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new hu(a))),Zl(n=>{if(o=!0,(a=n)&&a.ngNavigationCancelingError){const o=Yd(n.url);o||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const a=new Au(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(a),o?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const o=new pu(e.id,this.serializeUrl(e.extractedUrl),n);t.next(o);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var a;return kl}));var a,s,i,r}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:o}=t,a={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(a.state=e)}this.scheduleNavigation(o,e,n,a)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){jd(e),this.config=e.map(Xd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:i}=t,r=n||this.routerState.root,h=i?this.currentUrlTree.fragment:a;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,o,a){if(0===n.length)return Sd(t.root,t.root,t,o,a);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Dd(!0,0,e);let t=0,n=!1;const o=e.reduce((e,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const t={};return Uu(o.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(o.segmentPath)return[...e,o.segmentPath]}return"string"!=typeof o?[...e,o]:0===a?(o.split("/").forEach((o,a)=>{0==a&&"."===o||(0==a&&""===o?n=!0:".."===o?t++:""!=o&&e.push(o))}),e):[...e,o]},[]);return new Dd(n,t,o)}(n);if(s.toRoot())return Sd(t.root,new Ku([],{}),t,o,a);const i=function(e,t,n){if(e.isAbsolute)return new Cd(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Cd(e,e===t.root,0)}const o=kd(e.commands[0])?0:1;return function(e,t,n){let o=e,a=t,s=n;for(;s>a;){if(s-=a,o=o.parent,!o)throw new Error("Invalid number of '../'");a=o.segments.length}return new Cd(o,!1,a-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+o,e.numberOfDoubleDots)}(s,t,e),r=i.processChildren?Md(i.segmentGroup,i.index,s.commands):Pd(i.segmentGroup,i.index,s.commands);return Sd(i.segmentGroup,r,t,o,a)}(r,this.currentUrlTree,e,l,h)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Yd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Yd(e))return Bu(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Bu(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const o=e[n];return null!=o&&(t[n]=o),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new cu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,o,a){const s=this.getTransition(),i="imperative"!==t&&"imperative"===(null==s?void 0:s.source),r=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(i&&r)return Promise.resolve(!0);let h,l,u;a?(h=a.resolve,l=a.reject,u=a.promise):u=new Promise((e,t)=>{h=e,l=t});const d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,o){const a=this.urlSerializer.serialize(e);o=o||{},this.location.isCurrentPathEqualTo(a)||t?this.location.replaceState(a,"",Object.assign(Object.assign({},o),{navigationId:n})):this.location.go(a,"",Object.assign(Object.assign({},o),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(no(Bn),no(Vu),no(Rc),no(vh),no(us),no(nh),no(Dr),no(void 0))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),_c=(()=>{class e{constructor(e,t,n,o,a){this.router=e,this.route=t,this.commands=[],this.onChanges=new O,null==n&&o.setAttribute(a.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Uc(this.skipLocationChange),replaceUrl:Uc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Uc(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ns(Wc),Ns(fd),Mn("tabindex"),Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ps("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[it]}),e})();function Uc(e){return""===e||!!e}let Lc=(()=>{class e{constructor(e,t,n,o,a){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new dr,this.deactivateEvents=new dr,this.name=o||vu,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,a=new Bc(e,o,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,a),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Ns(Rc),Ns(qi),Ns(Ai),Mn("name"),Ns(Gi))},e.\u0275dir=Ke({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Bc{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===fd?this.route:e===Rc?this.childContexts:this.parent.get(e,t)}}class Hc{}class Gc{preload(e,t){return ml(null)}}let Jc=(()=>{class e{constructor(e,t,n,o,a){this.router=e,this.injector=o,this.preloadingStrategy=a,this.loader=new vc(t,n,t=>e.triggerEvent(new Iu(t)),t=>e.triggerEvent(new bu(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dl(e=>e instanceof cu),nu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Qi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const o of t)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const e=o._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(e,o)):o.children&&n.push(this.processRoutes(e,o.children));return U(n).pipe(K(),k(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(G(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(no(Wc),no(nh),no(Dr),no(us),no(Hc))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Yc=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof du?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ku&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new ku(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(no(Wc),no(Gh),no(void 0))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const Kc=new Un("ROUTER_CONFIGURATION"),xc=new Un("ROUTER_FORROOT_GUARD"),Fc=[vh,{provide:Vu,useClass:Qu},{provide:Wc,useFactory:function(e,t,n,o,a,s,i,r={},h,l){const u=new Wc(null,e,t,n,o,a,s,Wu(i));if(h&&(u.urlHandlingStrategy=h),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(r,u),r.enableTracing){const e=dh();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u},deps:[Vu,Rc,vh,us,nh,Dr,kc,Kc,[class{},new jn],[class{},new jn]]},Rc,{provide:fd,useFactory:function(e){return e.routerState.root},deps:[Wc]},{provide:nh,useClass:sh},Jc,Gc,class{preload(e,t){return t().pipe(Zl(()=>ml(null)))}},{provide:Kc,useValue:{enableTracing:!1}}];function jc(){return new Xr("Router",Wc)}let Vc=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Fc,qc(t),{provide:xc,useFactory:zc,deps:[[Wc,new jn,new Qn]]},{provide:Kc,useValue:n||{}},{provide:Th,useFactory:Xc,deps:[Ah,[new Fn(Nh),new jn],Kc]},{provide:Yc,useFactory:Qc,deps:[Wc,Gh,Kc]},{provide:Hc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gc},{provide:Xr,multi:!0,useFactory:jc},[$c,{provide:cr,multi:!0,useFactory:Zc,deps:[$c]},{provide:tA,useFactory:eA,deps:[$c]},{provide:wr,multi:!0,useExisting:tA}]]}}static forChild(t){return{ngModule:e,providers:[qc(t)]}}}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)(no(xc,8),no(Wc,8))}}),e})();function Qc(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Yc(e,t,n)}function Xc(e,t,n={}){return n.useHash?new kh(e,t):new Eh(e,t)}function zc(e){return"guarded"}function qc(e){return[{provide:Ln,multi:!0,useValue:e},{provide:kc,multi:!0,useValue:e}]}let $c=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new O}appInitializer(){return this.injector.get(gh,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Wc),o=this.injector.get(Kc);return"disabled"===o.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?ml(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Kc),n=this.injector.get(Jc),o=this.injector.get(Yc),a=this.injector.get(Wc),s=this.injector.get(eh);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||a.initialNavigation(),n.setUpPreloading(),o.init(),a.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(no(us))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function Zc(e){return e.appInitializer.bind(e)}function eA(e){return e.bootstrapListener.bind(e)}const tA=new Un("Router Initializer");let nA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Le({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&Rs(0,"router-outlet")},directives:[Lc],styles:[""]}),e})();var oA=function(e){return e.phantom="phantom",e.attack="attack",e.revenge="revenge",e.hope="hope",e.empire="empire",e.return="return",e.awakens="awakens",e.last="last",e.skywalker="skywalker",e.rogue="rogue",e.solo="solo",e}({}),aA=function(e){return e.CORRECT="CORRECT",e.INCORRECT="INCORRECT",e.SKIP="SKIP",e}({});const sA=function(e){return["/trivia",e]};function iA(e,t){if(1&e&&(vs(0,"div",1),vs(1,"div"),Fs(2),Ss(),Rs(3,"img",2),Ss()),2&e){const e=t.$implicit;Es("routerLink",(n=3,o=sA,a=e.code,function(e,t,n,o,a,s){const i=t+n;return bs(e,i,a)?function(e,t,n){return e[t]=n}(e,i+1,s?o.call(s,a):o(a)):function(e,t){const n=e[t];return n===Zo?void 0:n}(e,i+1)}(kt(),function(){const e=Nt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),n,o,a,s))),ea(2),Vs(" ",e.title," "),ea(1),Us("src","assets/images/posters/",e.poster,"",lo)}var n,o,a,s}let rA=(()=>{class e{constructor(){this.movies=[{code:oA.phantom,title:"Phantom Menace",poster:"phantom_menace.jpg"},{code:oA.attack,title:"Attack of the Clones",poster:"attack_of_the_clones.jpg"},{code:oA.revenge,title:"Revenge of the Sith",poster:"revenge.jpg"},{code:oA.hope,title:"A New Hope",poster:"anh.jpg"},{code:oA.empire,title:"The Empire Strikes Back",poster:"empire.jpg"},{code:oA.return,title:"Return of the Jedi",poster:"return.jpg"},{code:oA.awakens,title:"The Force Awakens",poster:"force_awakens.jpg"},{code:oA.last,title:"The Last Jedi",poster:"last_jedi.jpg"},{code:oA.skywalker,title:"The Rise of Skywalker",poster:"rise_of_skywalker.jpg"},{code:oA.rogue,title:"Rogue One",poster:"rogue.jpg"},{code:oA.solo,title:"Solo",poster:"solo.jpg"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Le({type:e,selectors:[["app-landing"]],decls:1,vars:1,consts:[["class","movie-option center",3,"routerLink",4,"ngFor","ngForOf"],[1,"movie-option","center",3,"routerLink"],[1,"movie-poster",3,"src"]],template:function(e,t){1&e&&Os(0,iA,4,5,"div",0),2&e&&Es("ngForOf",t.movies)},directives:[Wh,_c],styles:[".movie-option[_ngcontent-%COMP%]{display:inline-block;width:300px}.movie-poster[_ngcontent-%COMP%]{width:80%}"]}),e})(),hA=(()=>{class e{constructor(){this.scripts={[oA.phantom]:["QUI-GON: (off screen voice) Captain.","The Captain turns to an unseen figure sitting behind her.","CAPTAIN: Yes, sir?","QUI-GON: (V.O) Tell them we wish to board at once.","The CAPTAIN looks to her view screen, where NUTE GUNRAY, a Neimoidian trade viceroy, waits for a reply.","CAPTAIN: With all due respect, the Ambassadors for the Supreme Chancellor wish to board immediately.","NUTE GUNRAY: Yes, yes, of course... as you know, our blockade is perfectly legal, and we'd be happy to receive the Ambassador.","The screen goes black. Out the cockpit window, the sinister battleship looms ever closer.","EXT FEDERATION BATTLESHIP - DOCKING BAY - SPACE (FX)","The small space cruiser docks in the enormous main bay of the Federation battleship.","INT FEDERATION BATTLESHIP - DOCKING BAY - SPACE","A PROTOCOL DROID, TC-14, waits at the door to the docking bay.","The door opens, and the Republic cruiser can be seen in the docking bay. Two darkly robed figures are greeted by TC-14.","TC-14: I'm TC-14 at your service. This way, please.","They move off down the hallway.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","A door slides open, and the two cloaked shapes are led PAST CAMERA into the formal conference room by TC-14.","TC-14: We are greatly honored by your visit Ambassadors. Make yourselves comfortable. My master will be with you shortly.","The droid bows before OBI-WAN KENOBI and QUI-GON JINN. She backs out the door and it closes. The JEDI lower their hoods and look out a large window at the lush green planet of Naboo. QUI-GON forty years old, has long brown hair in a ponytail. He is tall and striking, with blue eyes. OBI-WAN is twenty five, with very short brown hair, pale skin, and blue eyes.","OBI-WAN: I have a bad feeling about this.","QUI-GON: I don't sense anything.","OBI-WAN: It's not about the mission, Master, it's something... elsewhere... elusive.","QUI-GON: Don't center on your anxieties, Obi-Wan. Keep your concentration here and now where it belongs.","OBI-WAN: But Master Yoda says I should be mindful of the future...","QUI-GON: ... but not at the expense of the moment. Be mindful of the living Force, my young Padawan.","OBI-WAN: Yes, Master.","They walk over to the window and gaze out into space.","OBI-WAN: (cont'd) How do you think the trade viceroy will deal with the chancellor's demands?","QUI-GON: These Federation types are cowards. The negotiations will be short.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE GUNRAY and DAULTRAY DOFINE stand, stunned, before TC-14.","NUTE: (shaken) What?!? What did you say?","TC-14: The Ambassadors are Jedi Knights, I believe.","DOFINE: I knew it! They're here to force a settlement.","NUTE: Distract them. I will contact Lord Sidious.","DOFINE: Are you brain dead? I'm not going in there with two Jedi! Send the droid.","DOFINE turns to TC-14, who lets out a squeaky sigh.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","QUI-GON and OBI-WAN sit at the large conference table.","OBI-WAN: Is it in their nature to make us wait this long?","The door to the conference room slides open, and TC-14 enters with a tray of drinks and food.","QUI-GON: No... I sense an unusual amount of fear for something as trivial as this trade dispute.","TC-14 walks over to OBI-WAN who takes a drink. The droid then walks over to QUI-GON who takes a drink as TC-14 leaves the room.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE, DOFINE, and RUNE HAAKO are before the hologram of DARTH SIDIOUS, a robed figure whose face is obscured by a hood.","DARTH SIDIOUS: What is it?","DOFINE: ... This scheme of yours has failed, Lord Sidious. The blockade is finished! We dare not go against these Jedi.","DARTH SIDIOUS: Viceroy, I don't want this stunted slim in my sight again.","NUTE gives DOFINE a stern look and DOFINE bows his head in shame as he turns and walks away.","DARTH SIDIOUS: This turn of events is unfortunate. We must accelerate our plans. Begin landing your troops.","NUTE: My Lord, is that... legal?","DARTH SIDIOUS: I will make it legal?","NUTE: And the... Jedi?","DARTH SIDIOUS: The Chancellor should have never brought them into this. Kill them, immediately.","NUTE: Yes... yes, My Lord. As you wish.","INT REPUBLIC CRUISER - COCKPIT - DOCKING BAY","In the cockpit of the cruiser, the CAPTAIN and PILOT look up to see a gun turret swing around and point directly at them.","PILOT: Captain?! Look!!","The CAPTAIN looks up and just seconds before they are fired upon says something inaudible.","EXT FEDERATION BATTLESHIP - HANGAR BAY - SPACE (FX)","The battleship gun fires and the republic cruiser EXPLODES.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","QUI-GON and OBI-WAN leap to a standing position with their laser swords drawn. TC-14 jumps back, started, spilling the drinks on the tray.","TC-14: ... Sorry.","QUI-GON and OBI-WAN turn off their laser swords and listen intently. A faint hissing sound can be heard.","QUI-GON: Dioxin!","INT FEDERATION BATTLESHIP - HALLWAY","A hologram of NUTE , surrounded by BATTLE DROIDS, appears in the conference room hallway.","NUTE GUNRAY: They must be dead by now. Destroy, what's left of them.","The hologram fades off, as a BATTLE DROID, OWO-1, cautiously opens the door. A deadly green cloud billows from the room. BATTLE DROIDS cock their weapons as a figure stumbles out of the smoke. It is TC-14 , carrying the tray of drinks.","TC-14: Oh, excuse me.","The PROTOCOL DROID passes the armed camp.","OWO-1: Check it out Corporal. We'll cover you.","BATTLE DROID: Roger, roger.","Two flashing laser swords suddenly fly out of the deadly fog.","OWO-1: Uh-oh, blast them...","The two Jedi start cutting down BATTLE DROIDS as the droids fire on them. OBI-WAN jumps in the air and does a mid-air flip as he deflects laser bolts.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE watch OWO-1 on the viewscreen.","OWO-1 is suddenly cut in half. RUNE gives NUTE a worried look.","NUTE: What is going on down there?","The bridge is a cacophony of alarms.","TEY HOW: We've lost the transmission, sir.","RUNE: Have you ever encountered a Jedi Knight before, sir?","NUTE GUNRAY: Well, no, but I don't... (panicked) Seal off the bridge.","TEY HOW: Yes sir.","RUNE: That won't be enough, sir.","NUTE: I want droidekas up here at once!!!","RUNE: We will not survive this.","The doors to the bridge SLAM shut.","INT FEDERATION BATTLESHIP - HALLWAY - OUTSIDE BRIDGE","QUI-GON cuts several BATTLE DROIDS in half, creating a shower of sparks and metal parts. OBI-WAN raises his hand, sending several BATTLE DROIDS crashing into the wall.","QUI-GON makes his way to the bridge door and begins to cut through it.","INT FEDERATION BATTLESHIP - BRIDGE","The CREW is very nervous as sparks start flying around the bridge door. QUI-GON and OBI-WAN are on the view screen.","NUTE: Close the blast doors!!!","The huge, very thick blast door slams shut, followed by a second door, then a third. There is a hissing sound as the huge doors seal shut.","NUTE: That will hold them.","QUI-GON s tabs the door with his sword. The screen goes black as a red spot appears in the center of the blast door. OBI-WAN cuts down another BATTLE DROID in defense of his Master.","RUNE: ... They're still coming through!","On the door, chunks of molten metal begin to drop away.","NUTE: This is impossible!!","RUNE: Where are those droidekas?!","INT FEDERATION BATTLESHIP - HALLWAY - OUTSIDE BRIDGE","Two ugly destroyer WHEEL DROIDS roll down the hallway at full speed. Just before they get to the bridge area, they stop and transform into their battle configuration.","OBI-WAN: Master, destroyers.","QUI-GON stops penetrating the blast doors and turns to fight off the destroyer droids with OBI-WAN. The droids start to shoot their laser guns at the Jedi and an invisible shield appears around them.","OBI-WAN: They have shield generators.","QUI-GON: It's a standoff! Let's go!","QUI-GON and OBI-Wan leave the hallway just outside the bridge as the two destroyer droids turn around and continue shooting. The Jedi materialize at the far end of the hallway and dash through the doorway that slams shut. The WHEEL DROIDS blast away at the two JEDI with their laser swords.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE stand on the bridge, watching the view screen as the WHEEL DROIDS' POV speeds to the doorway.","RUNE: ... They're no match for droidekas.","TEY HOW: Sir, they've gone up the ventilation shaft.","INT FEDERATION BATTLESHIP - MAIN BAY","QUI-GON and OBI-WAN appear at a large vent in a giant hanger bay. They are careful not to be seen. Thousands of BATTLE DROIDS are loading onto landing craft.","QUI-GON: Battle droids.","OBI-WAN: It's an invisible army.","QUI-GON: This is an odd play for the Trade Federation. We've got to warn the Naboo and contact Chancellor Valorum. Let's split up. Stow aboard separate ships and meet down on the planet.","OBI-WAN: You were right about one thing, Master. The negotiations were short.","INT FEDERATION BATTLESHIP - BRIDGE","TEY HOW receives a transmission.","TEY HOW: Sir, a transmission from the planet.","RUNE: It's Queen Amidala herself.","NUTE GUNRAY: At last we're getting results.","On the view screen, QUEEN AMIDALA appears in her throne room. Wearing her elaborate headdress and robes, she sits, surrounded by the GOVERNING COUNCIL and FOUR HANDMAIDENS, EIRTAE, YANE, RABE, and SACHE.","NUTE GUNRAY: (cont'd) Again you come before me, Your highness.","AMIDALA: You will not be pleased when you hear what I have to say, Viceroy ... Your trade boycott of our planet has ended.","NUTE smirks at RUNE.","NUTE: I was not aware of such a failure.","PADME AMIDALA: I'm aware the Chancellor's Ambassadors are with you now, and that you have been commanded to reach a settlement.","NUTE: I know nothing of any Ambassadors ... you must be mistaken.","AMIDALA, surprised at his reaction, studies him carefully.","AMIDALA: Beware, Viceroy....the Federation has gone too far this time.","NUTE: We would never do anything without the approval of the Senate. You assume too much.","AMIDALA: We will see.","The QUEEN fades off, and the view screen goes black.","RUNE: She's right, the Senate will never....","NUTE GUNRAY: It's too late now.","RUNE: Do you think she suspects an attack?","NUTE GUNRAY: I don't know, but we must move quickly to disrupt all communications down there.","INT NABOO PALACE - THRONE ROOM","The QUEEN, EIRTAE, SACHE and her Governor, SIO BIBBLE, stand before a hologram of SENATOR PALPATINE, a thin, kindly man.","PALPATINE: ...The negotiations haven't started because the Ambassadors aren't there? How could that be true? I have assurances from the Chancellor... his Ambassadors did arrive. It must be the... get... negotiate...","The hologram of PALPATIONE sputters and fades away.","PADME AMIDALA: Senator Palpatine?!? (turns to Panaka) What's happening?","CAPTAIN PANAKA turns to his SARGEANT","CAPTAIN PANAKA: Check the transmission generators...","BIBBLE: A communications disruption can only mean one thing. Invasion.","AMIDALA: The Federation would not dare go that far.","CAPTAIN PANAKA: The Senate would revoke their trade franchise, and they'd be finished.","AMIDALA: We must continue to rely on negotiation.","BIBBLE: Negotiation? We've lost all communications! ... and where are the Chancellors Ambassadors?","CAPTAIN PANAKA: This is a dangerous situation, Your Highness. Our security volunteers will be no match against a battle-hardened Federation army.","AMIDALA: I will not condone a course of action that will lead us to war.","EXT SPACE LANDING CRAFT - TWILIGHT (FX)","Six landing craft fly in formation toward the surface of the planet Naboo.","EXT NABOO SWAMP - SHALLOW LAKE - TWILIGHT","Three landing craft slowly descend through the cloud cover of the perpetually gray twilight side of the planet. One by one, the Federation warships land in the eerie swamp.","TROOP TRANSPORTS (MTT's) emerge from the landing craft as a HALF DOZEN BATTLE DROIDS on STAPS fly by.","EXT NABOO EDGE OF SWAMP / GRASS PLAINS - TWILIGHT (FX)","The droid invasion force moves out of the swamp and onto a grassy plain. OOM-9, in his tank, looks out over the vast ARMY marching across the rolling hills. A small hologram of RUNE and NUTE stands on the tank.","OOM-9: Yes, Viceroy?","RUNE: Captain, we've searched the ship and there is no trace of the Jedi. They may have got on onto one of your landing craft.","OOM-9: If they are down here, sir, we'll find them.","NUTE: Use caution. These Jedi are not to be underestimated.","EXT NABOO SWAMP - TWILIGHT","QUI-GON runs through the strange landscape, glancing back to see the monstrous troop transports, emerging from the mist.","Animals begin to run past him in a panic.","An odd, frog-like GUNGAN, JAR JAR B INKS, squats holding a clam he has retrieved from the murky swamp. JAR JAR looks up and sees QUI-GON and the other creatures running like the wind toward him. One of the huge MTT's bears down on the JEDI like a charging locomotive. JAR JAR stands transfixed, still holding the clam shell in one hand.","JAR JAR: Oh, noooooooooo!","QUI-GON: Quick! Get out of here!","JAR JAR drops the shell and leaps onto QUI-GON as he mumbles something inaudible. The JEDI is caught by surprise.","QUI-GON: Get off!","JAR JAR continues to mumble something. The machine is about to crush them as QUI-GON drops to the ground. JAR JAR goes splat into the mud with him. The transport races overhead.","QUI-GON and JAR JAR pull themselves out of the mud. They stand watching the war machine disappear into the mist.","JAR JAR: Whas dat?","QUI-GON starts to walk away to find OBI-WAN. JAR JAR runs after him.","JAR JAR: Hey wait!","JAR JAR: Oyi, mooie-mooie! I luv yous!","QUI-GON: You almost got us killed! Are you brainless?","JAR JAR: I spake.","QUI-GON: The ability to speak does not make you intelligent. Now get outta here!","QUI-GON starts to move off, and JAR JAR follows.","JAR JAR: No... no! Mesa stay...Mesa culled Ja Ja Binksss. Mesa yous humble servaunt.","QUI-GON: That won't be necessary.","JAR JAR: Oh boot tit tis! Tis demunded byda guds it tis.","In the distance, two STAPS burst out of the mist at high speed, chasing OBI-WAN.","JAR JAR: (cont'd) Oh, nooooo!","QUI-GON throws JAR JAR into the mud.","QUI-GON: Stay down!","The two troops fire laser bolts at OBI-WAN. QUI-GON deflects the bolts back, and the STAPS blow up. One-two. OBI-WAN is exhausted and tries to catch his breath. Suddenly, JAR JAR pops up.","JAR JAR: Yousa sav-ed my again!","OBI-WAN: What's this?","QUI-GON: A local. Let's go, before more of those droids show up.","JAR JAR: Mure? Mure did you spake??!?","OBI-WAN and QUI-GON start to run. JAR JAR tries to keep up.","JAR JAR: (cont'd) Ex-squeeze me, but de mosta safest place would be GungaCity. Tis where I grew up ... Tis a hidden city.","They all stop.","QUI-GON: A city!","JAR JAR nods his head.","JAR JAR: Uhhu.","QUI-GON: (cont'd) Can you take us there?","JAR JAR: Ahhh, ... on second taut ... no, not willy, no.","QUI-GON: No??!","JAR JAR: Iss embarrissing, boot ahh... My afrai my've bean banished. My forgoten der Bosses would do terrible tings to my. Terrible tings if my goen back dare.","A PULSATING SOUND is heard in the distance.","QUI-GON: You hear that?","JAR JAR: Yeah.","QUI-GON: (cont'd) That's the sound of a thousand terrible things heading this way...","OBI-WAN: If they find us, they will crush us, grind us into little pieces, then blast us into oblivion!","JAR JAR: Oh! Yousa point is well said. Dis way! Hurry!","JAR JAR turns and runs into the swamp.","EXT NABOO SWAMP LAKE - TWILIGHT","QUI-GON, OBI-WAN and JAR JAR run into a murky lake and stop as JAR JAR tries to catch his breath. The TRANSPORTS ARE HEARD in the distance.","QUI-GON: How much farther?","JAR JAR: Wesa goen underwater, okeyday?","QUI-GON and OBI-WAN pull out small capsule from their utility belts that turn into breathing masks.","JAR JAR: (cont'd) ... and my warning yous. Gungans no liken outsiders, so don't expicin wern welcome.","OBI-WAN: Don't worry, this has not been our day for warm welcomes.","JAR JAR jumps, yells out, does a double somersault with a twist, and dives into the water.","Breath masks on, QUI-GON and OBI-WAN wade in after him. Before they continue, JAR JAR surfaces.","JAR JAR: Ahh... yousa follow me now, okeyday?","EXT NABOO LAKE - UNDERWATER","QUI-GON and OBI-WAN swim behind JAR JAR, who is very much at home in the water. Down they swim into murky depths. In the distance the glow of Otoh Gunga, an underwater city made up of large bubbles, becomes more distinct.","They approach the strange, art nouveau habitat. JAR JAR swims magically through one of the bubble membranes, which seals behind him. OBI-WAN and QUI-GON follow.","INT OTOH GUNGA - CITY SQUARE","GUNGANS in the square scatter when they see the strange JEDI.","JAR JAR: Sooo good beein home.","Two GUNGANS start talking gibberish. JAR JAR and the JEDI walk a little further as a GUNGAN, CAPTAIN TARPALS, armed with a long electro-pole rides up on a two-legged KAADU into the square.","CAPTAIN TARPALS: Hey yousa, stopa there.","JAR JAR: Heyo-dalee, Cap'n Tarpals, Mesa back!","CAPTAIN TARPALS: Noah gain, Ja Ja. Yousa goen tada Bosses. Yousa in big dudu this time.","JAR JAR hangs his head and wines. Another GUARD comes up on KAADU armed with an electro-pole and gives JAR JAR a slight zap with his power pole. JAR JAR jumps and moves off, followed by the two JEDI.","JAR JAR: How wude.","INT OTOH GUNGA - HIGH TOWER BOARD ROOM","The Bosses' Board Room has bubble walls, with small lighted fish swimming around outside like moving stars. A long circular judge's bench filled with GUNGAN OFFICIALS dominates the room. OBI-WAN and QUI-GON stand facing BOSS NASS, who sits on a bench higher than the others.","BOSS NASS: Yousa cannot bees hair. Dis army of mackineeks up dare tis new weesong!","QUI-GON: That droid army is about to attack the Naboo. We must warn them.","BOSS NASS: Wesa no like da Naboo! Da Naboo tink day so smarty. Day tink day brains so big.","OBI-WAN: Once those droids take control of the surface, they will take control of you.","BOSS NASS: Mesa no tink so. Dey not know of uss-en.","OBI-WAN: You and the Naboo form a symbiont circle. What happens to one of you will affect the other. You must understand this.","BOSS NASS: Wesa no care-n about da Naboo.","QUI-GON: (waves his hand) Then speed us on our way.","BOSS NASS: Wesa gonna speed yousaway.","QUI-GON: We could use a transport.","BOSS NASS: Wesa give yousa una bongo. Da speedest way tooda Naboo tis goen through da core. Now go.","QUI-GON: Thank you for your help. We leave in peace.","QUI-GON and OBI-WAN turn to leave.","OBI-WAN: Master, what's a bongo?","QUI-GON: A transport, I hope.","The JEDI notice JAR JAR in chains to one side, waiting to hear his verdict. QUI-GON stops. JAR JAR gives him a forlorn look.","JAR JAR: Daza setten yousa up. Goen through da planet core is bad bombin!! Ahhh... any hep hair would be hot.","JAR JAR's soulful look is counter-pointed by a sheepish grin.","OBI-WAN: Master, we're short of time.","QUI-GON: We'll need a navigator to get us through the planet's core. This Gungan my be of help.","QUI-GON walks back to BOSS NASS.","QUI-GON: (cont'd) What is to become of Jar Jar Binks here?","BOSS NASS: Hisen to be pune-ished.","JAR JAR hangs his head and wines.","QUI-GON: I have saved his life. He owes me what you call a life.debt. QUI-GON waves his hand.","QUI-GON: Your gods demand that his life belongs to me now.","BOSS NASS: Binks. Yousa haveda liveplay with thisen hisen?","JAR JAR: Ah-huh.","BOSS NASS: Begone wit him.","JAR JAR: Count mesa outta dis one! Better dead here, den deader in da core...Yee guds, whata mesa sayin?!","EXT NABOO CITY - UNDERWATER - SUB (FX)","A strange little submarine propels itself away from the Otoh Gunga, leaving the glow of the settlement in the distance.","INT SUB COCKPIT - UNDERWATER","OBI-WAN in the co-pilots seat, JAR JAR guides the craft.","JAR JAR: Dis is nutsen... Ooo, gooberfish!","OBI-WAN: Why were you banished, Jar Jar?","JAR JAR: Tis a longo taleo, buta small part of it wawdbe mesa... aaaa..... clumsy.","OBI-WAN: You were banished because you were clumsy?","JAR JAR: Ahh... Yousa mighten be sayin dat.","JAR JAR veers the craft to the left and turns the lights on. The coral vistas are grand, fantastic, and wondrous.","As the little sub glides into the planet core, a large dark shape begins to follow.","JAR JAR: Mesa cause-ed mabee one or duey lettal bitty axadentes...yud-say boom da gasser, un crash Der Bosses heyblibber...den banished.","Suddenly there is a loud CRASH, and the little craft lurches to one side. QUI-GON looks around and sees a huge, luminous","OPEE SEA KILLER has hooked them with its long gooey tongue.","JAR JAR: Uh-oh. Big gooberfish. Huge Opee.","Suddenly an even larger monster has attacked the OPEE SEA KILLER.","QUI-GON: There's always a bigger fish.","As the sub zooms away they see a larger set of jaws, munching on the hapless KILLER. The jaws belong to the incredible SANDO AQUA MONSTER. The lights on the tiny sub begin to flicker as they cruise deeper into the gloom.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE stand before a hologram of DARTH SIDIOUS.","NUTE: The invasion is on schedule, My Lord.","DARTH SIDIOUS: I have the Senate bogged down in procedures. They will have no choice but to accept your control of the system.","NUTE: The Queen has great faith the Senate will side with her.","DARTH SIDIOUS: Queen Amidala is young and naive. You will find controlling her will not be difficult.","NUTE: Yes, My Lord.","DARTH SIDIOUS fades away.","RUNE: You didn't tell him about the missing Jedi?","NUTE: No need to report that to him, until we have something to report.","INT SUB COCKPIT - UNDERWATER","JAR JAR: Where wesa goin.","QUI-GON: Don't worry, the Force will guide us...","JAR JAR: Ooooh, maxibig...'da Force'...Well, dat smells stinkowiff.","An alarm sounds on the control panel.","OBI-WAN: ... we're losing power.","JAR JAR: Oh, no...","OBI-WAN lands the sub in a cave and the lights go out.","JAR JAR: Oh, wesa diein here.","QUI-GON: Just relax. We're not in trouble yet.","JAR JAR: What yet? Monstairs out dare! Leak'n in here, all'n sink'n, and nooooo power! You nutsen! WHEN YOUSA TINKEN WESA IN TROUBLE?!!!?","The wires start to spark.","OBI-WAN: Power's back.","The lights flicker on, revealing an ugly COLO CLAW FISH right in front of them.","The large COLO CLAW FISH is surprised and rears back. The sub turns around and speeds away.","JAR JAR continues to panic and babble incoherently.","QUI-GON: Relax.","QUI-GON puts his hand on JAR JAR's shoulder. JAR JAR relaxes into a coma.","OBI-WAN: You overdid it.","The COLO CLAW FISH leaps after the fleeing sub. The sub narrowly avoids the deadly teeth of the AQUA MONSTER. The COLO CLAW FISH chasing them isn't so lucky. It is munched in half by the larger predator.","JAR JAR regains consciousness.","QUI-GON: Head for that outcropping.","JAR JAR: Oie Boie!","The little sub speeds away.","EXT THEED - MAIN ROAD INTO THEED - DAY (FX)","The long columns of the DROID ARMY move down the main road leading to Theed, the Naboo capital.","EXT THEED PLAZA - DAY (FX)","As the QUEEN watches helplessly from a window in the palace, a transport carrying NUTE and RUNE lands in Theed Plaza. They exit the transport.","OOM-9: Viceroy, we have captured the queen.","NUTE: Ah, victory!","INT NABOO LAKE - UNDERWATER - SUB (FX)","The little sub continues to propel itself toward the surface, which is brightly lit.","EXT THEED - ESTUARY - DAY","Paradise. Billowing clouds frame a romantic body of water. There is a LOUD RUSH OF BUBBLES, and a small sub bobs to the surface.","JAR JAR: Oo. Dis seem uverly.","QUI-GON stands and looks around to see if the coast is clear.","INT THEED - PALACE - DAY","QUEEN AMIDALA, SIO BIBBLE, and FIVE OF HER HANDMAIDENS (EIRTAE, YANE, PADME, RABE, SACHE) are surrounded by a half dozen DROIDS. CAPTAIN PANAKA and FOUR NABOO GUARDS are also with them as they are lead down stairs to the main floor. NUTE and RUNE are walking with the group.","BIBBLE: ...how will you explain this invasion to the Senate?","NUTE: The Queen and I will sign a treaty that will legitimize our occupation here. I assurances it will be ratified by the Senate.","AMIDALA: I will not co-operate.","NUTE: Now, now, your Highness. In time, the suffering of your people will persuade you to see our point of view. Commander?","OOM-9 steps forward.","OOM-9: Yes, sir!","NUTE: Process them.","OOM-9 turns to his sergeant.","OOM-9: Captain, take them to Camp Four.","CAPTAIN: Roger, roger.","The SERGEANT marches the GROUP down the rest of the stairs and into the plaza.","EXT PALACE - PLAZA - DAY","QUEEN AMIDALA, PADME, EIRTA, YANE, RABE, SACHE, CAPTAIN PANAKA, SIO BIBBLE, and FOUR GUARDS are led out of the palace by ten BATTLE DROIDS. The plaza is filled with tanks and BATTLE DROIDS, which they pass on their way to the detention camp. Unbeknownst to them, QUI-GON, OBI-WAN, and JAR JAR sneak across on a walkway above the plaza and jump from a balcony to begin an attack to rescue the QUEEN.","FOUR BATTLE DROIDS are instantly cut down. MORE DROIDS move forward and are also cut down by the JEDIS' flashing lightsabres until there is only the DROID SERGEANT left. The SERGEANT starts to run but is pulled back to QUI-GON by the Force, until finally he is dispatched by the JEDI.","QUI-GON: We should leave the streets, your highness.","SIO BIBBLE takes QUEEN AMIDALA away.","CAPTAIN PANAKA turns to the GUARDS.","CAPTAIN PANAKA: Get their weapons.","JAR JAR: Woah. Yousa guys bombad!","QUEEN AMIDALA and the OTHERS are amazed. JAR JAR is getting used to this. They move between two buildings.","QUI-GON: We're the Ambassadors, for the Supreme Chancellor.","BIBBLE: Your negotiations seem to have failed, Ambassador.","QUI-GON: The negotiations never took place. It's urgent that we make contact with the republic.","CAPTAIN PANAKA steps forward.","CAPTAIN PANAKA: They've knocked out all our communications.","QUI-GON: Do you have transports?","CAPTAIN PANAKA: In the main hanger. This way.","THEY disappear down an alleyway as the ALARMS are sounded","INT CENTRAL HANGER - HALLWAY - DAY","CAPTAIN PANAKA cracks open a side door to the central hanger. QUI-GON looks in over his shoulder. OBI-WAN, JAR JAR, and the rest of the group are behind him. They see several Naboo spacecraft guarded by about FIFTY BATTLE DROIDS. ALARMS can be heard in the distance.","CAPTAIN PANAKA: There are too many of them.","QUI-GON: That won't be a problem. (to Amidala) Your Highness, under the circumstances, Isuggest you come to Coruscant with us.","AMIDALA: Thank you, Ambassador, but my place is here with my people.","QUI-GON: They will kill you if you stay.","BIBBLE: They wouldn't dare.","CAPTAIN PANAKA: They need her to sign a treaty to make this invasion of theirs legal. They can't afford to kill her.","QUI-GON: There is something else behind all this, Your Highness. There is no logic in the Federation's move here. My feelings tell me they will destroy you.","BIBBLE: Our only hope is for the Senate to side with us ... Senator Palpatine will need your help.","AMIDALA: Either choice presents great danger.","The QUEEN turns to PADME and EIRTAE.","PADME AMIDALA: (cont'd) ... to us all.","PADME: We are brave, Your Highness.","QUI-GON: If you are to leave, Your Highness, it must be now.","AMIDALA: Then, I will plead our case to the Senate. (to Bibble as they are start to leave) Be careful, Governor.","INT CENTRAL HANGER - DAY","The door opens to the main hanger. QUI-GON, OBI-WAN, JAR JAR, CAPTAIN PANAKA, TWO GUARDS, and THREE HANDMAIDENS (PADME, EIRTAE, RABE), followed by QUEEN AMIDALA, head for a sleek chrome spacecraft. SIO BIBBLE, YANE and SACHE stay behind. The HANDMAIDENS begin to cry.","CAPTAIN PANAKA: We need to free those pilots.","CAPTAIN PANAKA points to TWENTY GUARDS, GROUND CREW, and PILOTS held in a corner by SIX BATTLE DROIDS.","OBI-WAN: I'll deal with that.","OBI-WAN heads toward the group of captured pilots.","QUI-GON and the QUEEN, CAPTAIN PANAKA, JAR JAR, and the rest Of the GROUP approach the GUARDS at the ramp of the Naboo craft.","GUARD DROID: Halt?","QUI-GON: I'm Ambassador for the Supreme Chancellor, and I'm taking these people to Coruscant.","GUARD DROID: Where are you taking them?","QUI-GON: To Coruscant.","GUARD DROID: Coruscant!? Ahh, that doesn't compute. ... Ahh, wait! ... Ahh, you're under arrest!","The DROID GUARD draws his weapon, but before any of the DROIDS can fire, they are cut down. OTHER GUARDS run to their aid.","OBI-WAN attacks the GUARDS around the PILOTS.","OBI-WAN: Go!","QUI-GON stands, fighting off DROIDS as the OTHERS rush on board the spacecraft. OBI-WAN, the FREED PILOTS (including RIC OLIE), GUARDS and GROUND CREW MEMBERS rush on board the ship. The OTHER PILOTS and GUARDS race to SIO BIBBLE. After everyone has made it onto the ship, QUI-GON jumps on board.","INT NABOO SPACECRAFT - COCKPIT","The PILOT, RIC OLIE, navigates toward the massive battleship.","EXT THEED - HANGER ENTRY - DAY (FX)","The ship exits the hanger.","INT NABOO SPACECRAFT - DROID HOLD","JAR JAR is led into a low, cramped doorway by OBI-WAN.","OBI-WAN: Now stay here, and keep out of trouble.","OBI-WAN closes the door. JAR JAR looks around and sees a long row of five short, dome-topped ASTRO DROIDS (R-2 units). The all look alike, except for thier paint color, and they all seem to be shut down.","JAR JAR: Ello, boyos.","The droids chirp and whistle in response.","INT NABOO SPACECRAFT - COCKPIT","The PILOT, RIC OLIE, navigates toward the massive battleship.QUI-GON and CAPTAIN PANAKA watch.","EXT SPACE BATTLE (FX)","The Naboo spacecraft, surrounded by EXPLOSIONS, heads even closer to the massive Federation battleships.","INT NABOO SPACECRAFT - COCKPIT","QUI-GON enters the cockpit.","RIC OLIE: There's the blockade.","OBI-WAN enters the cockpit as the blockade battleships fire upon them. ALARM SOUNDS fill the cockpit.","RIC OLIE: The shield generator's been hit.","INT NABOO SPACECRAT - DROID HOLD (FX)","A blue alarm light flashes as all the DROIDS are activated. The DROIDS rush to an exterior air lock.","One LITTLE BLUE ASTRO DROID, who is especially dedicated, lets out a loud screech as he runs into JAR JAR.","JAR JAR: How wude!","The BLUE ASTRO DROID continues to beep in exclamation as he too rushes toward the air lock.","The LITTLE DROID enters the air lock and is ejected onto the exterior of the ship.","EXT NABOO SPACECRAFT - SPACE (FX)","The LITTLE DROID rolls towards the others to help with repairs. One by one each DROID is being blown away.","INT NABOO SPACECRAT - COCKPIT","OBI-WAN: We're loosing droids... fast.","CAPTAIN PANAKA: If we can't get the shield generators fixed, we'll be sitting ducks.","EXT NABOO SPACECRAFT - ENGINES - SPACE (FX)","The Federation battleship blows away ONE MORE ASTRO DROID.","INT NABOO SPACECRAT - COCKPIT","RIC OLIE: The shields are gone.","EXT NABOO SPACECRAFT - ENGINES - SPACE (FX)","The BLUE DROID is now alone as he contines to work on the ship. He connects some wires, causing sparks to fly.","INT NABOO SPACECRAT - COCKPIT","RIC OLIE: Powers back! That little droid did it... bypassed the main power drive. Deflector shield up, at maximum.","EXT NABOO SPACECRAFT - SPACE (FX)","The lone BLUE DROID finishes his repairs and goes back into the ship. The Naboo spacecraft races away from the Federation battleship.","RIC OLIE: There's not enough power to get us to Coruscant... the hyperdrive is leaking.","QUI-GON: We'll have to land somewhere to refuel and repair the ship.","QUI-GON studies a star chart on a monitor.","OBI-WAN: Here, Master. Tatooine... It's small, out of the way, poor... The Trade Federation has no presence there.","CAPTAIN PANAKA: How can you be sure?","QUI-GON: It's controlled by the Hutts...","CAPTAIN PANAKA: You can't take Her Royal Highness there! The Hutts are gangsters ... If they discovered her ...","QUI-GON: ... It would be no different than if we landed on a system controlled by the Federation ... except the Hutts aren't looking for her, which gives us an advantage.","CAPTAIN PANAKA takes a deep breath in frustration.","EXT SPACE - FEDERATION BATTLESHIP (FX)","The Federation battleship looms over the planet of Naboo.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","NUTE and RUNE sit around a conference table with a hologram of DARTH SIDIOUS.","DARTH SIDIOUS: ... And Queen Amidala, has she signed the treaty?","NUTE: She has disappeared, My Lord. One Naboo cruiser got pat the blockade.","DARTH SIDIOUS: I want that treaty signed.","NUTE GUNRAY: My Lord, it's impossible to locate the ship. It's out of our range.","DARTH SIDIOUS: ...not for a Sith...","A second SITH LORD appears behind DARTH SIDIOUS.","DARTH SIDIOUS: (Cont'd) ... This is my apprentice. Darth Maul. He will find your lost ship.","The hologram fades off.","NUTE: This is getting out of hand ... now there are two of them.","RUNE: We should not have made this bargain.","INT NABOO SPACECRAFT - QUEENS CHAMBERS","QUI-GON, OBI-WAN, CAPTAIN PANAKA, and the LITTLE BLUE DROID stand before QUEEN AMIDALA and her THREE HANDMAIDENS, PADME, EIRTAE and RABE.","CAPTAIN PANAKA: ...An extremely well put together little droid. Without a doubt, it saved the ship, as well as our lives.","AMIDALA: It is to be commended...what is its number?","The LITTLE BLUE DROID lets out a series of bleeps. CAPTAIN PANAKA leans over and scrapes some dirt off of the side of the DROID and read the number","CAPTAIN PANAKA: R2-D2, Your Highness.","AMIDALA: Thank you, Artoo Detoo... Padme!","PADME bows before the QUEEN.","PADME AMIDALA: (Cont'd) Clean this droid up the best you can. It deserves our gratitude... (to Panaka) Continue, Captain.","CAPTAIN PANAKA looks nervously to OBI-WAN and QUI-GON.","QUI-GON: Your Highness, with your permission we're heading for a remote planet called Tatooine. It is a system far beyond the reach of the Trade Federation.","CAPTAIN PANAKA: I do not agree with the Jedi on this.","QUI-GON: You must trust my judgment, Your Highness.","AMIDALA and PADME exchange looks.","INT NABOO SPACECRAFT - MAIN AREA","PADME sits in the Main Area, cleaning R2-D2, the brave little Astro Droid. JAR JAR pops out of an open door.","JAR JAR: Hidoe!","PADME jumps. The Gungan is embarrassed that he frightened them.","JAR JAR: (Cont'd) Sorry. Whosa are yousa?","PADME AMIDALA: I'm Padme.","JAR JAR steps into the room.","JAR JAR: Mesa Ja Ja Binksss...","ARTOO wines a little as PADME looks up from the droid.","PADME AMIDALA: You're a GUNGAN, aren't you?","JAR JAR: Ah-huh.","PADME: How did you end up here with us?","JAR JAR: My no know... mesa day starten pitty okeyday witda brisky morning munchen. Den boom.... getten berry skeered, un grabbed dat Jedi, and before mesa knowen it... pow! Mesa here. (he shrugs)... getten berry berry skeered.","ARTOO BEEPS a sympathetic beep.","EXT SPACE (FX)","The Naboo cruiser speeds off towards the planet TATOOINE.","INT NABOO SPACECRAFT - COCKPIT","OBI-WAN, QUI-GON, and CAPTAIN PANAKA watch over RIC OLIE'S shoulder. A large yellow planet appears directly ahead. RIC OLIE searches his scopes.","OBI-WAN: That's it. Tatooine... There's a settlement.","QUI-GON: Land near the outskirts. We don't want to attract any attention.","EXT TATOOINE - SPACE (FX)","The ship heads toward the planet of Tatooine.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY (FX)","The Naboo spacecraft lands in the desert in a swirl of dust. The spaceport of Mos Espa is seen in the distance.","INT NABOO SPACECRAFT - ENGINE ROOM","OBI-WAN is hoisting the hyperdrive out of a floor panel.","OBI-WAN: The hyperdrive generator's gone, Master.","QUI-GON: That'll complicate things. Be wary... I sense a disturbance in the Force.","OBI-WAN: I feel it also, Master.","QUI-GON: Don't let them send ant transmissions.","EXT TATOOINE - DESERT - SPACESHIP - DAY","They start their trek across the desert toward the city of Mos Espa. In the distance, a strange looking caravan makes its way toward the spaceport.","JAR JAR: Dis sun doen murder ta mesa skin.","From the spaceship, CAPTAIN PANAKA and PADME run toward them.","CAPTAIN PANAKA: Wait!","QUI-GON stops as they catch up. PADME is dresses in rough peasant's garb.","CAPTAIN PANAKA: (Cont'd) Wait. Her Highness commands you to take her handmaiden with you.","QUI-GON: No more commands from Her Highness today, Captain. This spaceport is not going to be pleasant...","CAPTAIN PANAKA: The Queen wishes it. She is curious about this planet.","QUI-GON: This is not a good idea. Stay close to me.","He gives PADME a stern look.","EXT MOS ESPA - STREET - DAY","The little GROUP walks down the main street of Mos Espa. They pass dangerous looking citizens of all types. PADME looks around in awe at this exotic environment.","QUI-GON: ...moisture farms for the most part. Some indigenous tribes and scavengers. The few spaceports like this one are havens for those who do not wish to be found...","PADME: ... like us.","JAR JAR is in a constant state of panic.","JAR JAR: Dissen berry berry bad. (steps in ooze) Ooooh... icky... icky... goo.","ARTOO whistles along, with perfect confidence.","EXT MOS ESPA - JUNK DEALER PLAZA - DAY","The GROUP comes to a little plaza surrounded by several junk spaceship dealers.","QUI-GON: We'll try one of the smaller dealers.","They head for a little junk shop that has a huge pile of broken spaceships stacked up behind it.","INT WATTO'S JUNK SHOP - DAY","QUI-GON, JAR JAR, PADME, and ARTOO enter the dingy junk shop and are greeted by WATTO, a pudgy blue alien who flies on short little wings like a hummingbird.","WATTO: (subtitled) Guta naloya. (Good day to you.)","WATTO flies over to the visitors.","WATTO: (cont'd)(subtitled) Ha chuba da nala? (What do you want?)","QUI-GON: I need parts for a J-type 327 Nubian.","WATTO: Ah yes, ah yes. Nubian. We have lots of that. (subtitled) Peedenk! Naba dee unko (Boy, get in here! Now!)","QUI-GON: My droid here has a readout of what I need.","A disheveled boy, ANAKIN SKYWALKER, runs in from the junk yard. He is about nine years old, very dirty, and dressed in rags.","WATTO turns to ANAKIN.","WATTO: (subtitled) Coona tee-tocky malia? (What took you so long?)","ANAKIN: (subtitled) Mel tassa cho-passa... (I was cleaning the bin like you...)","WATTO: (subtitled) Chut-Chut! Ganda doe wallya. Me dwana no bata. (Watch the store. I've got some selling to do here.) (to Gui-Gon) Soooo, let me take - a thee out back. Ni you'll find what you need.","ARTOO and QUI-GON follow WATTO toward the junk yard, leaving JAR JAR with PADME and the young boy ANAKIN. JAR JAR picks up a gizmo, trying to figure out its purpose. QUI-GON takes the part out of his hand and puts it back.","QUI-GON: Don't touch anything.","JAR JAR makes a rude face to QUI-GON's back and sticks out his long tongue. ANAKIN sits on the counter, pretending to clean a part, staring at PADME. She is the most beautiful creature he has ever seen in his life. PADME is a little embarrassed by his stare, but she musters up an amused smile. Finally, he gets the courage to speak.","ANAKIN: Are you an angel?","PADME: What?","ANAKIN: An angel. I've heard the deep space pilots talk about them. They are the most beautiful creatures in the universe. They live on the Moons of Iego I think.","PADME looks at him, not knowing what to say.","PADME AMIDALA: You're a funny little boy. How do you know so much.","ANAKIN: I listen to all the traders and starpilots that come by here. I'm a pilot, you know, and some day I'm gonna fly away from this place.","PADME AMIDALA: You're a pilot?","ANAKIN: All my life.","PADME: How long have you been here?","ANAKIN: Since I was very little, three, I think. My Mom and I were sold to Gardulla the Hutt, but she lost us, betting on the Podraces.","PADME AMIDALA: You're ... a slave?","ANAKIN looks at PADME defiantly.","ANAKIN: I am a person! My name is Anakin.","PADME AMIDALA: I'm sorry. I don't fully understand. (looking around) This is a strange place to me.","ANAKIN studies her intently.","JAR JAR pushes the nose on what appears to be a LITTLE DROID, and it instantly comes to life, grows legs and arms, and starts marching around, knocking over everything. JAR JAR hold on but can't stop it.","ANAKIN: Hey...","JAR JAR: Wha?","ANAKIN: Hit the nose!","JAR JAR: Oh!","JAR JAR hits the nose, and the DROID collapses back into its original state. ANAKIN and PADME laugh.","EXT WATTO'S JUNK YARD - BEHIND SHOP - DAY","WATTO flies along as QUI-GON walks through the junk yard.","WATTO: ... a T-14 hyperdrive generator!! Thee in luck, I'm the only one hereabouts who has one... but thee might as well buy a new ship. It would be cheaper, I think... Saying of which, how's thee going to pay for all this?","QUI-GON: I have 20,000 Republic dataries.","WATTO: Republic credits?!? Republic credits are no good out here. I need something more real...","QUI-GON: I don't have anything else. (raising his hand) But credits will do fine.","WATTO: No they won'ta.","QUI-GON, using his mind power, waves his hand again.","QUI-GON: Credits will do fine.","WATTO: No, they won'ta. What you think you're some kinda Jedi, waving your hand around like that? I'm a Toydarian. Mind tricks don'ta work on me-only money. No money, no parts! No deal! And no one else has a T-14 hyperdrive, I promise you that.","INT WATTO'S JUNK SHOP - DAY","ANAKIN and PADME are still talking.","ANAKIN: ... wouldn't have lasted long if I weren't so good at fixing things.","JAR JAR pulls a part out of a stack of parts to inspect it, and they all come tumbling down. He struggles to catch them, only to knock more down. ANAKIN and PADME are oblivious.","QUI-GON hurries into the shop, followed by ARTOO.","QUI-GON: We're leaving. Jar Jar?","The stuff JAR JAR is juggling crashes to the ground. PADME gives ANAKIN a loving look.","PADME AMIDALA: I'm glad to have met you.","PADME turns, and ANAKIN looks sad as he watches her leave.","ANAKIN: I was glad to meet you too.","JAR JAR and ARTOO leave the shop.","WATTO enters the shop, shaking his head.","WATTO: (subtitled) Ootmians! Tinka me chasa hopoe ma booty na nolia. (Outlanders! They think they know everything.)","ANAKIN: (subtitled) La lova num botaffa. (They seemed nice to me.)","WATTO: (subtitled) Fweepa niaga. Tolpa da bunky dunko. (Clean the racks... then you can go home.)","ANAKIN lets out a 'yipee' and runs out the back.","INT NABOO SPACECRAFT - COCKPIT","OBI-WAN is in the cockpit of the Naboo craft.","QUI-GON: ... and you're sure there's nothing left on board?","OBI-WAN: (V.O) A few containers of supplies, the Queen's wardrobe, maybe. But not enough for you to barter with. Not in the amounts you're talking about.","QUI-GON: All right. I'm sure another solution will present itself. I'll check back later.","QUI-GON puts his comlink away and starts out into the main street. JAR JAR grabs his arm.","JAR JAR: Noah gain... Noah gain da beings hereabouts cawazy. Wesa be robbed un crunched.","QUI-GON: Not likely. We have nothing of value, that's our problem.","EXT MOS ESPA - STREET - MARKET - DAY","QUI-GON, PADME, JAR JAR, and ARTOO move out into the street. JAR JAR is walking behind the others. They walk by an outdoor cafe filled with a rough gang of aliens, one of which is especially ugly, SEBULBA, a spider-like creature. JAR JAR stops for a moment in front of a stall selling dead frogs hanging on a wire. He looks around to see if anyone is looking, then sticks out his tongue, and gets hold of one, pulling it into his mouth. Unfortunately, the frog is tied tightly to the wire. The vendor suddenly appears.","VENDOR: (subtitled) Ay, ay. Yawoba wonga? (Are you going to pay for that?)","JAR JAR turns his head in surprise.","VENDOR: Uga wupiupi wep. (It costs seven wupiupi.","JAR JAR opens his mouth and the frog snaps away., ricochets around the market, and lands in Sebulba's soup, splashing him. As JAR JAR moves away from the VENDOR, SEBULBA jumps up on the table and grabs the hapless Gungan.","SEBULBA: Chuba!!","JAR JAR: Ooops.","JAR JAR starts to whistle as he walks away.","Angry, SEBULBA gets up an hops over to JAR JAR and kicks him.","SEBULBA: (subtitled) Ni chuba ni?? (Is this yours??)","SEBULBA holds the frog up to the Gungan threateningly.","JAR JAR: Who, mesa?","SEBULBA grabs JAR JAR by the neck. QUI-GON looks around for JAR JAR and sees him in a fight.","JAR JAR turns to see ANAKNI pushing his way next to him. The boy stands up to SEBULBA in a very self-assured way.","ANAKIN: (subtitled) Chesko Sebulba... Cha pooka uman geesa... Matesa ratico ponipa chop chowa. (Careful, Sebulba... He's a big time outlander... I'd hate to see you diced before we race again.)","SEBULBA stops his assault on JAR JAR and turns to ANAKIN.","SEBULBA: (subtitled) Nic me chouwa wimo noke maka noke. (Next time we race, boy, it will be the end of you!) Una noto wo shag, me wompity du pom pom. (If you weren't a slave, I'd squash you now.)","SEBULBA turns away.","ANAKIN: (subtitled) Eh, chee bana do mullee ra. (Yeah, it'd be a pity if you had to pay for me.)","QUI-GON, PADME and ARTOO arrive.","ANAKIN: (Cont'd) Hi!","QUI-GON: Hi there.","ANAKIN: Your buddy here was about to be turned into orange goo. He picked a fight with a Dug. An especially dangerous Dug called Sebulba.","JAR JAR: Mesa haten crunchen. Dat's da last ting mesa wanten.","QUI-GON: Nevertheless, the boy is right ... you were heading for trouble... Thanks, my young friend.","PADME looks at ANAKIN and smiles; he smiles back. They start walking down the crowded street.","JAR JAR: But... but... mesa doen nutteen!","The group walks away and SEBULBA chews on the frog.","EXT TATOOINE - DESERT - SPACESHIP - DAY","OBI-WAN stands in front of the Naboo spacecraft as the wind picks up and begins to whip at his robe. CAPTAIN PANAKA exits the ship and joins him.","OBI-WAN: This storm will slow them down.","CAPTAIN PANAKA: It looks pretty bad.","CAPTAIN PANAKA's comlink sounds off.","CAPTAIN PANAKA: (Cont'd) Panaka?","RIC OLIE: (V.O.) We're receiving a message from home.","CAPTAIN PANAKA: We'll be right there.","EXT MOS ESPA - STREET - FRUIT STAND - DAY","ANAKIN and the GROUP stop at a fruit stand run by a jolly, but very poor, old lady named JIRA.","ANAKIN: Here, you'll like these pallies... Here.","QUI-GON: Thank you.","QUI-GON takes them puting them in a little pouch under his poncho, revealing for a moment, his lightsaber.","JIRA: Oh, my bones are aching ... storm's coming up, Annie. You'd better get home quick.","ANAKIN: (to QUI-GON) Do you have shelter?","QUI-GON: We'll head back to our ship.","ANAKIN: Is it far?","PADME AMIDALA: It's on the outskirts.","ANAKIN: You'll never reach the outskirts in time... sandstorms are very, very dangerous. Come on! I'll take you to my place.","The GROUP follows ANAKIN as he rushes down the windy street. ARTOO wistles along the way.","EXT MOS ESPA - SLAVE QUARTERS - STREET - SANDSTORM - DAY","The wind is blowing hard as QUI-GON, JAR JAR, and PADME follow ANAKIN down the street and into a slave hovel.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON, JAR JAR, ARTOO, and PADME enter a small living space.","ANAKIN: Mom! Mom! I'm home.","JAR JAR: Dissen cozy.","Anakin's mother, SHMI SKYWALKER, a warm, friendly woman of forty, enters from her work area and is startled to see the room full of people.","ANAKIN: These are my friends, Mom.","JAR JAR: Hidoe!","ARTOO lets out a little beep.","QUI-GON: I'm Qui-Gon Jinn.","ANAKIN: I'm building a droid. You wanna see?","QUI-GON: Your son was kind enough to offer us shelter.","ANAKIN: Come on! I'll show you Threepio!","ANAKIN leads PADME into the other room. ARTOO follows, beeping all the way.","INT ANAKIN'S HOVEL - BEDROOM - DAY","ARTOO rolls through the doorway as ANAKIN shows off his DROID, which is lying on his workbench. There is one eye in the head; the body, arms, and legs have no outer coverings.","ANAKIN: Isn't he great?! He's not finished yet.","PADME AMIDALA: He's wonderful!","ARTOO continues to lets out a few warbles.","ANAKIN: You really like him? He's a protocol droid ... to help Mom. Watch!","ANAKIN pushes a button, and the DROID sits up.","C-3PO: Oh, oh. Where is everybody?","Anakin reaches over and grabs an eye and puts it in one of the sockets.","C-3PO: Oh, hello, I am See-Threepio, Human Cyborg Relations. How might I serve you?","PADME AMIDALA: He's perfect.","C-3PO: Oh, perfect.","ANAKIN: When the storm is over, I'll show you my racer.","C-3PO starts to walk away as ANAKIN contines talking to PADME.","ANAKIN: (cont'd) I'm building a Podracer!","PADME smiles at his enthusiasm.","C-3PO: I'm not sure this floor is entirely stable. Oh, hello. I don't believe we've been introduced.","ARTOO lets out a flurry of beeps and whistles.","C-3PO: Artoo-Detoo. A pleasure to meet you. I am See-Threepio, Human Cyborg Relations.","ARTOO lets out another series of beeps and whistles.","C-3PO: I beg your pardon .... what do you mean, naked?","ARTOO beeps.","C-3PO: (Cont'd) My parts are showing? My goodness.","ARTOO releases a laugh-like twitter.","EXT TATOOINE - SANDSTORM","The sandstorm rages on.","INT NABOO SPACECRAFT - QUEENS CHAMBERS","AMIDALA, EIRTAE, RABE, and OBI-WAN watch a very bad transmission of a SIO BIBBLE hologram.","BIBBLE: ... the death toll is catastrophic...we must bow to their wishes... you must contact me ...","AMIDALA looks upset ... almost nervous.","OBI-WAN: It's a trick. Send no reply... Send no transmission of any kind.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON listens to his comlink. OBI-WAN is in the cockpit.","QUI-GON: It sounds like bait to establish a connection trace.","OBI-WAN: What if it is true and the people are dying?","QUI-GON: Either way, we're running out of time.","EXT CORUSCANT - BALCONY OVERLOOKING CITY - NIGHT","DARTH SIDIOUS and DARTH MAUL are walking along the balcony overlooking the vast city.","DARTH MAUL: Tatooine is sparsely populated. If the trace was correct, I will find them quickly, Master.","DARTH SIDIOUS: Move against the Jedi first...you will then have no difficulty in taking the Queen to Naboo to sign the treaty.","DARTH MAUL: At last we will reveal ourselves to the Jedi. At last we will have revenge.","DARTH SIDIOUS: You have been well trained, my young apprentice, they will be no match for you.","EXT MOS ESPA - SANDSTORM - DAY","The giant sandstorm engulfs the town, including the Naboo spaceship on the outskirts of the city center, where Watto's ship is; and the slave quarters, where drifts of sand begin building up against Anakin's house.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON, ANAKIN, JAR JAR, and PADME are seated around a table. JAR JAR slurps his soup as SHMI walks over pours him a drink. JAR JAR looks up at her as she moves on. ARTOO beeps as he looks on from the corner of the room.","SHMI: All slaves have transmitters placed inside their bodies somewhere.","ANAKIN: I've been working on a scanner to try and locate mine.","SHMI: Any attempt to escape...","ANAKIN: ... and they blow you up ... boom!","JAR JAR: How wude.","PADME AMIDALA: I can't believe there is still slavery in the galaxy. The Republic's anti-slavery laws...","SHMI: The Republic doesn't exist out here...we must survive on our own.","JAR JAR snatches some food from a bowl at the other end of the table with his tongue. PADME looks over at JAR JAR. QUI-GON gives him a dirty look.","JAR JAR: 'Scuse me.","ANAKIN: Has anybody ever seen a Podrace?","PADME shakes her head no.","QUI-GON: They have Podracing on Malastare. Very fast, very dangerous.","ANAKIN: I'm the only human who can do it.","QUI-GON: You must have Jedi reflexes if you race Pods.","ANAKIN smiles. JAR JAR attempts to snare another bit of food from the bowl with his tongue, but QUI-GON, in a flash, grabs it between his thumb and forefinger. JAR JAR is startled.","QUI-GON: (Cont'd) Don't do that again.","JAR JAR tries to acknowledge with some silly mumbling. QUI-GON lets go of the tongue, and it snaps back into JAR JAR's mouth.","ANAKIN: You're a Jedi Knight, aren't you?","QUI-GON: What makes you think that?","ANAKIN: I saw your laser sword. Only Jedi carry that kind of weapon.","QUI-GON leans back and slowly smiles.","QUI-GON: Perhaps I killed a Jedi and took it from him.","ANAKIN: I don't think so ... No one can kill a Jedi.","QUI-GON: I wish that were so...","ANAKIN: I had a dream I was a Jedi. I came back here to free all the slaves... have you come to free us?","QUI-GON: No, I'm afraid not ...","ANAKIN: I think you have ... why else would you be here?","QUI-GON thinks for a moment.","QUI-GON: I can see there's no fooling you ... (leans forward) We're on our way to Coruscant, the central system in the Republic, on a very important mission.","ANAKIN: How did you end up here in the outer rim?","PADME AMIDALA: Our ship was damaged, and we're stranded here until we can repair it.","ANAKIN: I can help! I can fix anything!","QUI-GON: I believe you can, but first we must acquire the parts we need...","JAR JAR: Wit no-nutten mula to trade.","PADME: These junk dealers must have a weakness of some kind.","SHMI: Gambling. Everything here revolves around betting on those awful races.","QUI-GON: Podracing ... Greed can be a powerful ally.","ANAKIN: I've built a racer! It's the fastest ever...There's a big race tomorrow, on Boonta Eve. You could enter my pod.","SHMI: Anakin! Watto won't let you...","ANAKIN: Watto doesn't know I've built it. (to Qui-Gon) You could make him think it's yours, and get him to let me pilot it for you.","QUI-GON looks to SHMI. She is upset.","SHMI: I don't want you to race. It's awful. I die every time Watto makes you do it.","ANAKIN: But Mom, I love it. The prize money would more than pay for the parts they need.","SHMI: Anakin!","QUI-GON: Your mother's right. Is there anyone friendly to the Republic who might help us?","SHMI shakes her head no.","ANAKIN: Mom... you said the biggest problem in the universe is nobody helps each other...","SHMI sighs heavily.","PADME AMIDALA: I'm sure Qui-Gon doesn't want to put your son in danger. We'll find some other way...","SHMI: No, there is no other way... I may not like it, but... he can help you... he was meant to help you.","EXT MOS ESPA - STREET - DAY","STREET PEOPLE fill the streets as a BANTHA and a few landspeeders go by. clean up the mess and rebuild their food stalls. QUI-GON, JAR JAR, and PADME are walking toward WATTOS shop. ARTOO is rolling behind thim.","PADME stops QUI-GON as he is about to enter the shop.","PADME: Are you sure about this? Trusting our fate to a boy we hardly know. The Queen will not approve.","QUI-GON: The Queen does not need to know.","PADME AMIDALA: Well, I don't approve.","QUI-GON turns and starts into the shop.","INT WATTO'S JUNK SHOP - DAY","QUI-GON walks in, and WATTO and ANAKIN join him.","WATTO: The boy tells me you wanta sponser him in a race. How can you do this? Not on Republic credits, I think, huh. (he laughs)","QUI-GON: My ship will be the entry fee.","QUI-GON pulls a small object that looks like a watch out of his pocket, and a hologram of the Naboo spacecraft appears about a foot long in front of WATTO. He studies it.","WATTO: Oh, not bad... not bad... ah Nubian, ah.","QUI-GON: It's in good order, except for the parts I need.","WATTO: ... what would the boy ride? He smashed up my Pod in the last race. It will take some time to fix it.","ANAKIN is embarrassed and steps forward.","ANAKIN: Ahhhh ... it wasn't my fault really... Sebulba flashed me with his vents. I actually saved the Pod... mostly.","WATTO: (laughing) That you did huh. The boy is good, no doubts there huh.","QUI-GON: Well, I have acquired a Pod in a game of chance. 'The fastest ever built.'","WATTO: I hope you didn't kill anyone I know for it. (laughs) So, you supply the Pod and the entry fee; I supply the boy. We split the winnings fifty-fifty, I think.","QUI-GON: If it's going to be fifty-fifty, I suggest you front the cash for the entry. If we win, you keep all the winnings, minus the cost of the parts I need... If we lose, you keep my ship.","WATTO thinks about this. ANAKIN tries not to be nervous.","QUI-GON: (Cont'd) Either way, you win.","WATTO: Deal!","QUI-GON leaves the shop.","WATTO: (cont'd) (subtitled) Yo bana pee ho-tah, meedee ya. (Your friend is a follish one, methinks.)","INT NABOO SPACECRAFT - LOUNGE","OBI-WAN stands in the lounge of the Naboo spacecraft, speaking into his comlink. QUI-GON is on the back porch of the hovel.","OBI-WAN: What if this plan fails, Master? We could be stuck here for a long time.","QUI-GON: (V.O) Well, it's too dangerous to call for help now. A ship without a power supply isn't gonna get us anywhere, and... there is something about this boy...","EXT MOS ESPA - SLAVE QUARTERS - PORCH - DAY","QUI-GON puts the comlink away as SHMI comes onto the porch. PADME, ANAKIN, JAR JAR, and ARTOO work on the engines of the Podracer in the courtyard below.","QUI-GON: You should be proud of your son. He gives without any thought of reward.","SHMI: Well he knows nothing of greed. He has a...","QUI-GON: He has special powers.","SHMI: Yes...","QUI-GON: He can see things before they happen. That's why he appears to have such quick reflexes. It is a Jedi trait.","SHMI: He deserves better than a slave's life.","QUI-GON: Had he been born in the Republic, we would have identified him early. The Force is unusually strong with him, that much is clear. Who is his father?","SHMI: There was no father. I carried him, I gave birth, I raised him, I can't explain what happened.","QUI-GON nods.","SHMI: (cont'd) Can you help him?","QUI-GON: I don't know. I didn't actually come here to free slaves.","EXT MOS ESPA - SLAVE QUARTERS - BACK YARD - DAY","KITSTER (a young boy about Anakin's age), SEEK (a red headed boy of ten), AMEE (a girl of nine), a LITTLE GIRL about six, and WALD (a RODIAN, six years old) join ANAKIN, JAR JAR, ARTOO, and PADME securing some wiring.","ARTOO whistles, hoots, in greeting.","KITSTER: Wow, a real Astro Droid... how'd you get so lucky?","ANAKIN: This isn't the half of it. I'm entered in the Boonta Race tomorrow!","KITSTER: What? With this??","WALD: (subtitled) Ona joka, Annie. (You are such a joker, Ani.)","AMEE: You've been working on that thing for years.","LITTLE GIRL: It's never gonna run.","SEEK: Come on, let's go and play ball. Keep racing, Ani, you're gonna be bug squash.","SEEK, WALD, AMEE and the LITTLE GIRL take off, laughing. JAR JAR is fiddling with one of the energy binder plates.","ANAKIN: Hey! Jar Jar! Keep away from those energy binders... If your hand gets caught in that beam, it will go numb for hours.","JAR JAR drops the tool he had, bends down to pick it up and come right up into the energy binders. It makes a little electronic pop, zaps him in the mouth and he jumps back. JAR JAR tries to say something, but his mouth is numb and his words are garbled.","JAR JAR: Ouch muy tonge is fat. Muy togne. Oucho. (Gibberish)","JAR JAR sees that a tool is stuck in the engine and reaches in to get it but gets his hand caught instead.","JAR JAR: Hey! Ou-oh. Ow, hey, I'm stuck.","C-3PO: You know, I find that Jar Jar creature very... odd.","ARTOO twitters a response.","KITSTER: You don't even know if this things gonna run.","ANAKIN jumps into the little capsule behind the two giant engines.","ANAKIN: It will.","QUI-GON approaches the GROUP and gives ANAKIN a small battery.","QUI-GON: I guess it's time we found out. Here use this power charge.","QUI-GON: Come on Kitster. Lets move away.","JAR JAR: Mm... my mout. I'm stuck. Hep I'm s..","PADME sees JAR JARS trouble and walks over to help him.","JAR JAR: Muy tonge is fat...","ARTOO beeps something.","C-3PO: You're quite right. He's very odd indeed.","JAR JAR: Ow, th... thank yous.","JAR JAR looks at ANAKIN and gives him the thumbs-up and walks away.","ANAKIN flips a switch and the engines ignite with a ROAR. EVERYONE looks at eachother with smiles.","ANAKIN: It's working! It's working!","EXT MOS ESPA - SLAVE QUARTERS - PORCH - DAY","SHMI, watching from the porch, smiles sadly.","EXT SLAVE QUARTERS - BALCONY - NIGHT","ANAKIN sits on the balcony rail of his hovel as QUI-GON tends to a cut. The BOY leans back to look at the vast blanket of stars in the sky.","QUI-GON: Stay still, Annie. Let me clean this cut.","ANAKIN: There are so many! Do they all have a system of planets?","QUI-GON: Most of them.","ANAKIN: Has anyone been to them all?","QUI-GON: (laughs) Not likely.","ANAKIN: I want to be the first one to see them all ...","SHMI yells from inside the hovel.","SHMI: (O.S.) Annie, bedtime!","ANAKIN: (cont'd) ... Ouch!","QUI-GON wipes a patch of blood off ANAKIN's arm.","QUI-GON: There we are, good as new...","SHMI: (O.S.) Ani! I'm not going to tell you again!","QUI-GON scrapes ANAKIN's blood onto a comlink chip.","ANAKIN: What are you doing?","QUI-GON: Checking your blood for infections.","QUI-GON: You have a big day tomorrow. (beat) Goodnight.","ANAKIN rolls his eyes and runs into the hovel. QUI-GON takes the blood stained chip and inserts it into the comlink, then calls OBI-WAN.","QUI-GON: (Cont'd) Obi-Wan...","OBI-WAN: Yes, Master.","QUI-GON: I need an analysis of this blood sample I'm sending you.","OBI-WAN: Wait a minute...","QUI-GON: I need a midi-chlorian count.","OBI-WAN: The reading's off the chart... over twenty thousand. (V.O.) Even Master Yoda doesn't have a midi-chlorian count that high!","QUI-GON: No Jedi has.","OBI-WAN: What does that mean?","QUI-GON: I'm not sure.","The JEDI KNIGHT looks up and sees SHMI in the doorway watching him. Embarrassed, she goes back into the kitchen while QUI-GON ponders the situation.","EXT TATOOINE - DESERT MESA - NIGHT","The sinister looking Sith spacecraft lands on top of a desert mesa at dus, scattering a herd of banthas. DARTH MAUL walks to the edge of the mesa and studies the landscape with a pair of electrobinoculars. He picks out the lights of three different cities in the distance, then pushes buttons on his electronic armband.","Three football-sized PROBE DROIDS float out of the ship and head off in three different directions toward the cities.","DARTH MAUL stands on the mesa and watches them through his electrobinoculars.","EXT MOS ESPA - ARENA - MAIN HANGER - DAY","RACE CREWS mill about outside the Main Hanger.","INT MOS ESPA - ARENA - MAIN HANGER - DAY","The hanger is a large building with a dozen or so Podracers being readied for the race. ALIEN CREWS and PILOTS rush about, making last minute fixes on their vehicles. WATTO, QUI-GON, and JAR JAR walk through the activity.","WATTO: ... I wanta see your spaceship the moment the race is over.","QUI-GON: Patience, my good friend. You'll have your winnings before the suns set, and we'll be far away from here.","WATTO: Not if your ship belongs to me, I think... I warn you, no funny business.","QUI-GON: You don't think Anakin will win?","WATTO stops before an orange racer. Sitting to one side, having his shoulders and neck massaged by TWIN YOBANAS, is SEBULBA.","WATTO: Don't get me wrongo. I have great faith in the boy. He's a credit to your race, but Sebulba there is going to win, I think.","WATTO flies over to where SEBULBA is getting a massage as JAR JAR's eyes bug out in shock.","JAR JAR: Oh-no!","QUI-GON: Why do you think that?","WATTO: He always wins. (laughs) I'm betting heavily on Sebulba.","QUI-GON: I'll take that bet.","WATTO: (suddenly stops laughing) You'll what??!!","QUI-GON: I'll wager my new racing pod against... say... the boy and his mother.","WATTO: No Pod's worth two slaves ... not by a long shot.","QUI-GON: The boy, then ...","WATTO thinks a bit as JAR JAR looks around.","WATTO: We'll let fate decide, huh. I just happen to have a chance cube here. Blue it's the boy, red his mother...","WATTO tosses the cube down. QUI-GON lifts his hand slightly; it turns blue. QUI-GON smiles. WATTO is angry.","WATTO: (Cont'd) You won the small toss, outlander, bou you won't win the race, so ... it makes little difference.","ANAKIN and PADME enter the hanger on one of the EOPIES, pulling an engine. KITSTER and SHMI, on the other EOPIE. With THREEPIO walking alongside, ARTOO trundles behind, pulling the Pod. WATTO flies off, laughing. He passes ANAKIN as he leaves.","WATTO: (subtitled) Ouna bakeesa. Bonapa keesa pateeso, o wanna meetee chobodd. (Better stop your friends betting or I'll end up owning him too.)","ANAKIN: What'd he mean by that?","QUI-GON: I'll tell you later. Goodmorning.","QUI-GON walks over to where SHMI is seated on the EOPIE and helps her down.","ARTOO beeps at THREEPIO.","C-3PO: Oh my! Space travel sounds rather perilous.","ARTOO emits a series of beeps.","C-3PO: I can assure you they will never get me onto one of those dreadful starships!","KITSTER: (to Anakin) This is so wizard Ani! I'm sure you'll do it this time.","PADME: Do what?","KITSTER: Finish the race, of course!","PADME AMIDALA: You've never won a race?","ANAKIN: Well... not exactly...","PADME: Not even finished?!","ANAKN looks sheepish.","ANAKIN: ... Kitster's right, I will this time.","QUI-GON: Of course you will.","QUI-GON and PADME look at eachother. PADME is concerned.","EXT MOS ESPA - STREET - DAY","One of Darth Maul's PROBE DROIDS slowly floats down the main street of Mos Espa. It looks in shops and studies PEOPLE as it searches for OBI-WAN, QI-GON, or the QUEEN.","EXT MOS ESPA - DESERT RACE ARENA - DAY","An EXTREME HIGH WIDE ANGLE reveals a vast arena in the Tatooine desert. A large semi-circular amphitheatre that holds at least a hundred thousand people dominates the landscape. Large viewing platforms loom over the racetrack.","INT MOS ESPA - ARENA ANNOUNCER'S BOX - DAY (FX)","A two-headed ANNOUNCER describes the scene.","Fodesinbeed Annodue (Beed): Toogi! Toogie! Toong mee cha kulkah du Boonta magi! tah oos azalus ooval Poddraces.","Fodesinbeed Annodue (Fode): That's absolutly right. And a big turnout here, from all corners of the Outer Rim territories. I see the contestants are making their way out onto the starting grid.","EXT MOS ESPA - DESERT RACE ARENA - DAY","On the left side of the tracks across from the grandstands, a line of Podracers emerges from the large hanger, surrounded by several CREW MEMBERS. Pods are pulled by a wide variety of CREATURES and are led by aliens carrying flags. The PILOTS stand facing the royal box.","Fodesinbeed Annodue (Beed): La Yma beestoo.","Fodesinbeed Annodue (Fode): I see Ben Quadinaros from the Tund system.","Fodesinbeed Annodue (Beed): ... eh Gasgano doowa newpa Ord Petrovia!","Fodesinbeed Annodue (Fode): Two time winner, Boles Roor ...","Fodesinbeed Annodue (Beed): Poo tula moosta, woe grane champio Sebulba du Pixelito! Splastyleeya bookie ookie!!","Fodesinbeed Annodue (Fode): And a late entry, Anakin Skywalker, a local boy.","Fodesinbeed Annodue (Beed): Wampa peedunkee unko.","The crowd cheers as ANAKIN waves.","Fodesinbeed Annodue (Fode): I see the flaggers are moving onto the track.","EXT MOS ESPA - ARENA - GRANDSTAND - DAY","Colorful canopies shade some of the SPECTATORS. VENDORS sell barbecued creature parts and colorful drinks.","EXT MOS ESPA - ARENA - ANAKINS POD - DAY (FX)","JAR JAR is standing near an EOPIE who makes a stink.","JAR JAR: Peeusa!","Behind JAR JAR, SEBULBA comes up to ANAKINS pod engines and disconnects something, laughing. He continues to walk toward the cockpit where ANAKIN contines to connect things.","SEBULBA: Bazda wahota, shag. Dobiella Nok. (You won't walk away from this one, Skywalker. You slave scum.)","ANAKIN: (subtitled) Cha skrundee da pat, sleemo. (Don't count on it, slime-ball.)","ANAKIN looks the evil SEBULBA in the eye with a cold stare.","SEBULBA: (subtitled) Yoka to Bantha poodoo. (You're bantha fodder!)","SEBULBA walks away as QUI-GON walks up.","QUI-GON: You all set, Ani?","ANAKIN: Yep.","QUI-GON: All right.","QUI-GON picks him up and sets him down in the racer.","QUI-GON: Remember, concentrate on the moment. Feel. Don't think. Use your instincts.","ANAKIN: I will.","QUI-GON: (cont'd) May the Force be with you.","QUI-GON steps away as ANAKIN puts on his helmet and goggles.","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","All the PILOTS bow from the waist as JABBA THE HUTT enters the box and waves to the crowd.","Fodesinbeed Annodue (Beed): O grandio lust amu intoe tah parena, Jabba Du Hutt.","The crowd ROARS. JABBA moves out of his box to greet the crowed. One other SLUG-LIKE HUTT follows, along with humans and aliens. A SLAVE GIRL on a chain is led alongside JABBA.","JABBA: (subtitled) Chowbaso! Tam ka chee Boonta rulee ya, kee madda hodrudda du wundee. (Welcome! Begin the race!)","The powerful energy binders of the various pods ignite and engines roar.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","SHMI looks nervously to QUI-GON as he enters a veiwing platform. PADME and JAR JAR are already on board. The platform rises like an elevator.","SHMI: Is he nervous?","QUI-GON: He's fine.","PADME: You Jedi are far too reckless. The Queen is not...","QUI-GON: The Queen trusts my judgment, young handmaiden. You should too.","PADME: You assume too much.","EXT MOS ESPA - ARENA ANNOUNCER'S BOX - DAY (FX)","Fodesinbeed Annodue (Fode): Start your engines.","EXT MOS ESPA - ARENA - STARTING GRID - DAY","ANAKIN flips a switch and his engines come to life. The PILOTS flip switches, and powerful energy binders shoot between the engines. Aliens carrying large flags move off the track. JAR JAR covers his eyes.","JAR JAR: Oh, dissen ganna be messy! Mesa no watchen.","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","Jabba bites off the head of a frog and spits it at a gong, signaling the start of the race.","EXT MOS ESPA - ARENA - STARTING GRID - DAY","On a bridge over the track, a great green light at the center flashes. The Podracers shoot forward with a high-pitches scream.","ANAKIN'S engine floods and coughs - then dies. All the other Podracers except one swerve around him and dissapear down the track. The slave boy struggles to get his racer started. The two-headed announcer reports.","Fodesinbeed Annodue (Beed): An dare ovv!","Fodesinbeed Annodue (Fode): Oh...wait. Little Skywalker has stalled.","The crowd laughs and points at the stalled craft.","QUADRINAROS works franticaly on his pod.","Fodesinbeed Annodue (Fode): Well it looks like Quadrinaros is having engine trouble also.","QUADRINAROS pounds on his dashboard in frustration.","JAR JAR: C'mon Ani!","Finally, Anakin's engines ignite. He zooms away after the receeding pack of competitors, leaving one quadra-Pod racer still trying to get started. The two-headed ANNOUNCER describes the race as it progresses.","Fodesinbeed Annodue (Fode): And there goes Skywalker...","JAR JAR: Go Ani, go!","Fodesinbeed Annodue (Fode): (cont'd) He'll be hard pressed to catch up with the leaders.","EXT MOS ESPA - RACETRACK - DAY (FX)","The Podracers fly across the desert. SEBULBA is running neck and neck with MAWHONIC. They round the first turn in the track, side by side. SEBULBA drives his Pod into his rival, forcing him into the wall of a large rock formation. MAWHONIC crashes in a spectacular display of fire and smoke.","ANAKIN is much faster than the back-end stragglers and passes them easily.","One of the drivers, GASGANO, won't let ANAKIN by. ANAKIN tries to pass him on one side and is cut off. He then tries to pass him on the other side ansd is cut off. As they come up on a cliff drop-off, ANAKIN backs off, then guns it as GASGANO goes over the cliff. ANAJIN accelerates so fast that he sails right over the top of GASGANO and speeds away.","Four TUSKEN RAIDERS perched above the race course fire their rifles at the Pods racing in the canyon below them. One shot ricochets off the back of Anakin's Pod.","Fodesinbeed Annodue (Fode): Looks like a few Tusken Riaders have camped out on the canyon dune turn.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","The quadra-Pod engines start just as the racers come around the corner. The DRIVER, BEN QUADRINAROS, puts it in gear, and the four engines go off in all directions, EXPLODING in a spectacular display.","Fodesinbeed Annodue (Fode): Ooo! There goes Quadrinaros power cuppling.","The Pod drops to the ground as SEBULBA enters the arena, closely followed by all the OTHER RACERS.","PADME, SHMI, JAR JAR and QUI-GON watch another screen and look worried.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","Fodesinbeed Annodue (Beed): Sebulba! Ka pa me cheespa wata!","The crowd SCREAMS. WATTO is laughing with his friends, confident in Anakin's defeat.","ODY stops in the pits. Droids work on his engines. DUM-4 stands in front of the engine and is sucked in, causing the engine to die.","DUM-4 is spit out the back of the engine, very bent up. The engine lets out one final wheeze, then EXPLODES in a puff of smoke.","Fodesinbeed Annodue (Beed): Ody Mandrell! Coona wa wunda dunko!","ODY: Droids!","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","JABBA flicks a rodent off the edge of the balcony.","EXT MOS ESPA - ARENA - PIT AREA - DAY","ARTOO, down in the pits with KITSTER, lets out a worried sigh. The driver of the quadra-Pod looks worried.","C-3PO: Where is master Anakin?","ARTOO twitters something in response.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","QUI-GON sits quietly, meditating. PADME and SHMI search the landscape for any sign of the racers.","PADME: Look, here he comes!","EXT MOS ESPA - RACETRACK - DAY (FX)","Sure enough, coming around the bend is ANAKIN, quickly gaining on the pack. The two-headed announcer describes the action. The crowd goes wild.","Fodesinbeed Annodue (Fode): It looks like Skywalker is moving up in the field...","ANAKIN continues to gain on the pack. Tension for SHMI and PADME is unbearable.","EXT MOS ESPA - ARENA - PIT AREA - DAY (FX)","KITSTER and WALD cheer as ANAKIN passes.","ARTOO lets out an excited whistle.","C-3PO: He has to complete two more circuits? Oh dear!","Lap two. SEBULBA and the pack race past the main arena. The crowd stands and YELLS as the Podracers scream off into the distance.","EXT MOS ESPA - RACETRACK - DAY (FX)","ANAKIN is powering around corners and over hills and cliffs, passing other racers right and left. SEBULBA is in the lead. He is being challenged by another racer, XELBREE.","SEBULBA slows a little, and as XELBREE pulls alongside, he opens a side vent on the racer's engine and the exhaust starts to cut through the alien's engine.","The blast cuts along the engine until finally it EXPLODES. SEBULBA deftly veers away.","Fodesinbeed Annodue (Fode): Oh, I don't care what universe you're from, that's gotta hurt.","ANAKIN works his way through a dense mass of racers as they zoom over a dune sea, kicking up dust. His Pod shakes violently as he goes over a jump. Tusken Raiders continue to shoot at the podracers. One of the Podracers, ODY, is hit by a blaster bolt and the whole thing EXPLODES.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","QUI-GON, SHMI, PADME and JAR JAR continue to look fo ANAKIN.","JAR JAR: Here he comes, yahoo!","Fodesinbeed Annodue (Fode): At the start of the third and final lap, Sebulba is in the lead, closely followed by Skywalker...","ANAKIN finally catches up with SEBULBA, and runs neck and neck over the rough terrain. JAR JAR, QUI-GON, SHMI, and PADME all SCREAM s ANAKIN comes through the arena.","EXT MOS ESPA - RACETRACK - DAY (FX)","SEBULBA uses his side exhaust port to try to cut through Anakin's engines. ANAKIN manages to avoid having his engine disabled but is forced off course.","Fodesinbeed Annodue (Fode): Skywalker's been forced onto the service ramp!","On a tight corner, ANAKIN dives to the inside and takes the lead.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): It's Skywalker!","The crowd goes wild.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): (cont'd) Amazing... a quick controlled thrust and he's back on course!","JAR JAR: Did he crashed?","SEBULBA is furious. He stay's right on Anakin's tail, crowding him and pushing him through the turns. SEBULBA pushes ANAKIN harder, and the young boy has a difficult time keeping control.","Two JAWA are watching from a distance.","One of the parts on Anakin's engines begins to shake loose.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): Skywalker's in trouble. Sebulba takes the lead.","ANAKIN sees the problem and switches over to an auxiliary system. While he is trying to accomplish this maneuver, SEBULBA races past him.","ANAKIN tries to get around SEBULBA, to no avail. Every move ANAKIN makes, SEBULBA is able to block.","Finally, ANAKIN fakes a move into the inside as he usually does, then tries to go around SEBULBA on the outside. They race side by side down the final stretch of the track.","Fodesinbeed Annodue (Fode): He's catching Sebulba.","Fodesinbeed Annodue (Beed): Inkabunga.","JAR JAR: Careful, Ani, careful, Ani!","SEBULBA veers toward ANAKIN and bangs into his Pod. He crashes into ANAKIN over and over. The young boy struggles to maintain control as the steering rods on the two Pods become hooked together. SEBULBA laughs at ANAKIN.","Fodesinbeed Annodue (Fode): That little human being is out of his mind.","Fodesinbeed Annodue (Beed): Punda tah punda!","Fodesinbeed Annodue (Fode): They're side by side!","Fodesinbeed Annodue (Beed): Bongo du bongu!","As they head for the final stretch, ANAKIN fights to unlock the steering rods by trying to pull away from SEBULBA. The strain on the steering rod is tremendous. The release of tension sends SEBULBA into a spin as he crashes. One engine EXPLODES, then the other. SEBULBA skids and slides to a smoking stop. He slams his fists against his pod in discust.","SEBULBA: Poodu!","ANAKIN flies by as the crowd stands, CHERRING. QUI-GON, SHMI and PADME smile. JAR JAR gets excited. WALD and KITSTER jump up and down in excitment. ARTOO whistles hysterically.","C-3PO: I can't believe it.","ANAKIN races over the finish line, the winner.","INT MOS ESPA - ARENA ANNOUNCERS BOX - DAY (FX)","The two-headed announcer excitedly calls the finish.","Fodesinbeed Annodue (Fode): The crowds are going nuts! Oh Ah Oh Ah (rock head in tandem with partner)","EXT MOS ESPA - ARENA - DAY","As ANAKIN stops the Podracer, KITSTER turns up, and they embrace. Hundreds of SPECTATORS join them and put ANAKIN on their shoulders, marching off, CHEERING AND CHANTING. QUI-GON, SHMI, PADME and JAR JAR rush over to him.","ANAKIN: Mom! I did it! Yeah!","INT MOS ESPA - ARENA - PRIVATE BOX - DAY","Several ALIENS leave Watto's box, laughing and counting their money. WATTO's angry.","INT MOS ESPA - ARENA - ROYAL BOX - DAY","JABBA sits asleep in his box. His TWILEK majordomo taps him on the shoulder letting him know the race is over.","EXT MOS ESPA - ARENA - MAIN HANGER - DAY","The Main Hanger is almost deserted as RACERS depart.","INT MOS ESPA - ARENA - MAIN HANGER - DAY","JAR JAR picks up ANAKIN giving him a great hug.","JAR JAR: Great job, Ani!","Then PADME gives him a hug.","PADME: We owe you everything, Ani.","Then SHMI gives him a kiss.","SHMI: It's so wonderful, Ani. You have brought hope to those who have none. I'm so very proud of you...","ANAKIN: Ah...","INT MOS ESPA - ARENA - PRIVATE BOX - DAY","WATTO sees QUI-GON standing in the doorway.","WATTO: You! You swindled me! You knew the boy was going to win! Somehow you knew it! I lost everything.","WATTO flies up to QUI-GON and puts his face right up against QUI-GON's. QUI-GON simply smiles.","QUI-GON: Whenever you gamble, my friend, eventually you'll lose. Bring the parts to the main hanger. I'll come by your shop later so you can release the boy.","WATTO: You can't have him! It wasn't a fair bet!","QUI-GON: Would you like to discuss it with the Hutts ... I'm sure they can settle this.","WATTO: Take him!","QUI-GON nods and starts to leave.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","ARTOO cruises ahead of QUI-GON and PADME, who are riding one of the EOPIES; JAR JAR rides the other. They stop in front of the sleek Naboo spacecraft. OBI-WAN comes out of the ship and joins them.","QUI-GON: Well, we have all the essential parts we need. I'm going back...some unfinished business. I won't be long.","OBI-WAN: Why do I sense we've picked up another pathetic life form...?","QUI-GON: It's the boy who's responsible for getting those parts. Get this hyperdrive generator installed.","OBI-WAN: Yes, Master. It shouldn't take long.","QUI-GON turns and rides back to town on the EOPIE.","EXT TATOOINE - STREET - SLAVE QUARTERS - DAY","Farther down the street QUI-GON and ANAKIN head toward Anakin's hovel. QUI-GON takes a handful of credits from beneath his poncho and hands them to the boy.","QUI-GON: Hi!","ANAKIN: (suddenly beaming) Yes!","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","SHMI is cleaning up as ANAKIN bursts through the door, followed by QUI-GON.","ANAKIN: Mom, he sold the Pod. Look at all the money we have!","ANAKIN pulls a bag of coins out of his pocket.","SHMI: Oh, my goodness, That's wonderful Ani.","QUI-GON: And Anakin has been freed.","ANAKIN: What?!?","QUI-GON: You're no longer a slave.","ANAKIN: Did you hear that?","SHMI: Now you can make your dreams come true, Annie. You're free! (turns to Qui-Gon) Will you take him with you? Is he to become a Jedi?","QUI-GON: Yes. Our meeting was not a coincidence. Nothing happens by accident.","ANAKIN: You mean I get to come with you in your starship?!","QUI-GON kneels down to the boy.","QUI-GON: Anakin, training to become a Jedi is not be a easy challenge. And if you succeed, it's a hard life.","ANAKIN: But I want to go. It's what I've always dreamed of doing. Can I go, Mom?!","SHMI: Anakin, this path has been placed for you; the choice is yours alone.","ANAKIN thinks a bit as he looks to his mother.","ANAKIN: I want to do it.","QUI-GON: Then, pack your things. We haven't much time.","ANAKIN: Yipee!!","ANAKIN hugs his mom and starts for the other room, then stops. ANAKIN has realized something.","ANAKIN: (Cont'd) What about Mom? Is she free too?","QUI-GON: I tried to free your mother, Ani, but Watto wouldn't have it.","ANAKIN: You're coming, aren't you, Mom?","SHMI: Son, my place is here. My future is here. It is time for you to let go...","ANAKIN: I don't want things to change.","SHMI: But you can't stop change any more than you can stop the suns from setting. Now... hurry.","ANAKIN and SHMI hug. ANAKIN runs into the other room.","SHMI: (Cont'd) Thank you.","QUI-GON: I'll watch after him. You have my word. Will you be all right?","INT ANAKIN'S HOVEL - BEDROOM - DAY","ANAKIN hurries to throw the last of his things into his backpack. He walks over and pushes the button on the droid to wake him up. THREEPIO stares at him blankly.","C-3PO: Oh! Oh my, oh. Hello Master Anakin.","ANAKIN: Well, Threepio, I'm free ... and I'm going away ... in a starship ...","C-3PO: Master, Annie, you are my maker, and I wish you well. However, I should prefer it if I were a little more... comepleted.","ANAKIN: I'm sorry I wasn't able to finish you, Threepio ... give you coverings and all ... I'm going to miss working on you. You've been a great pal. I'll make sure Mom doesn't sell you or anything.","C-3PO stares at ANAKIN as he rushes out of the room.","C-3PO: Sell me?!?","ANAKIN: Bye.","EXT MOS ESPA - STREET - SLAVE QUARTERS - DAY","QUI-GON and ANAKIN exit the hovel. SHMI stands in the doorway. QUI-GON and ANAKIN start to walk down the street, then ANAKIN stops to look back at his mother standing in the doorway. He turns back to QUI-GON, then turns and runs back to his mother. SHMI hugs ANAKIN. QUI-GON watches from the distance. She kneels down and looks him in the face.","ANAKIN: (starting to cry) I can't do it, Mom. I just can't do it.","SHMI: Annie...","ANAKIN: Will I ever see you again?","SHMI: What does your heart tell you?","ANAKIN: I hope so... yes... I guess.","SHMI: Then we will see each other again.","ANAKIN: I will come back and free you, Mom... I promise.","SHMI: Now be brave, and don't look back... don't look back.","SHMI hugs ANAKIN, then turns him around so he is facing QUI-GON, and off he marches, like the brave little trooper that he is. He marches right past QUI-GON, starring right ahead, tears in his eyes, determined not to look back.","EXT TATOOINE - DESERT MESA - DAY","The PROBE DROID beeps and whistles to DARTH MAUL. The SITH LORD gets on a speeder bike and follows the PROBE DROID into Mos Espa.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","QUI-GON and ANAKIN run toward the Naboo spacecraft. ANAKIN is having a hard time keeping up.","ANAKIN: Qui-Gon, sir, wait, I'm tired!","QUI-GON turns to answer and sees a DARK-CLOAKED FIGURE bearing down on a speeder bike.","QUI-GON: Anakin, drop!","ANAKIN drops to the ground just as DARTH MAUL sweeps over him. DARTH MAUL jumps off his speeder bike, and before he has hit the ground, the Sith Lord has swund a death blow with his laser sword that is barely blocked by QUI-GON.","ANAKIN picks himself up. The two galactic warriors, Sith and Jedi, are bashing each other with incredible blows. They move in a continual cloudof dust, smashing everything around them. This is a fierce fight. ANAKIN gets up, bewildered by the confrontation.","QUI-GON: (Cont'd) Annie, tell them to take off!","QUI-GON struggles to fend off the relentless onslaught as ANAKIN races to the ship.","INT NABOO SPACECRAFT - COCKPIT","CAPTAIN PANAKA, ANAKIN, and PADME rush into the cockpit where OBI-WAN and RIC OLIE are checking the hyperdrive.","CAPTAIN PANAKA: Qui-Gon's in trouble!","OBI-WAN: Take off. Over there! Fly low!","In the distance is a small cloud of dust.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","QUI-GON and DARTH MAUL continue their sword battle. Leaping over one another in an incredible display of acrobatics, the two warriors hear the ship fly over them a few feet off the ground. QUI-GON almost disappears for a moment.","Before DARTH MAUL knows what's happening, QUI-GON is on the spacecrat's ramp.","EXT TATOOINE - NABOO SPACECRAFT RAMP - DAY","The ramp closes, and the Naboo craft rockets away, leaving the Sith Lord standing alone.","EXT SPACE - NABOO SPACECRAFT (FX)","The sleek spacecraft rockets away from the planet Tatooine.","INT NABOO SPACECRAFT - HALLWAY","ANAKIN and OBI-WAN rush into the hallway to find QUI-GON collapsed on the floor opposite the entry. ARTOO is looking over him.","The JEDI is breathing hard, wet with sweat and covered in dirt.","ANAKIN and OBI-WAN come through the door.","ANAKIN: Are you all right?","QUI-GON: I think so.","OBI-WAN: What was it?","QUI-GON: I'm not sure... but he was well trained in the Jedi arts. My guess is he was after the Queen...","ANAKIN: What are we going to do about it?","OBI-WAN gives ANAKIN a 'who are you ? ' look. ANAKIN returns an innocent stare.","QUI-GON: We will be patient. Anakin Skywalker, meet Obi-Wan Kenobi.","ANAKIN: Hi. You're a Jedi too? Pleased to meet you.","OBI-WAN and QUI-GON look at each other.","EXT. SPACE - NABOO SPACECRAFT (FX)","The ship flies away from Tatooine.","EXT THEED - NIGHT (FX)","The Palace can be seen in the distance.","INT NABOO PALACE - THRONE ROOM - THEED - NIGHT","NUTE sits in a strange, mechanical walking chair, which moves beside SIO BIBBLE. A group of armed GUARD DROIDS march behind them.","NUTE GUNRAY: Your Queen is lost, your people are starving, and you, Governor, are going to die, much sooner than your people, I'm afraid.","BIBBLE: This invasion will gain you nothing. We're a democracy. The people have decided...","NUTE: Take him away.","BIBBLE is taken away as OOM-9 approaches NUTE.","OOM-9: My troops are in position to begin searching the swamps for these rumored underwater villages... they will not stay hidden for long.","INT NABOO SPACECRAFT - MAIN AREA","The ship is asleep. The lights are dim as PADME walks into the main room. She goes to a monitor and watches the BIBBLE plea recording. JAR JAR is stretched out in a chair, snoring. ARTOO is to one side, cooing as he rests.","PADME appears tired. She senses someone watching her and turns around with a start. She sees ANAKIN sitting in the corner, shivering and looking very dejected.","PADME: Are you all right?","ANAKIN: It's very cold.","She goes over to him. He looks up at her with tears in his eyes. He is holding his arms to keep himself warm. PADME gives him her over-jacket.","PADME: You come from a warm planet, Annie. A little too warm for my taste. Space is cold.","ANAKIN: You seem sad.","PADME AMIDALA: The Queen is... worried. Her people are suffering... dying. She must convince the Senate to intervene, I'm not sure what will happen.","ANAKIN: (he pulls something from his pocket) I made this for you. So you'd remember me. I carved it out of a japor snippet... It will bring you good fortune.","ANAKIN hands a wooden pendant to PADME. She inspects it, then puts it around her neck.","PADME AMIDALA: It's beautiful, but I don't need this to remember you by. Many things will change when we reach the capital, Ani. My caring for you will remain.","ANAKIN: I care for you too. Only I...","ANAKIN is disturbed about something. Tears are in his eyes.","PADME: ...Miss your mother.","ANAKIN looks at her, unable to speak. She hugs him.","EXT SPACE - PLANET CORUSCANT (FX)","MOVE with the ship as it heads toward Coruscant.","INT CORUSCANT - CITYSCAPE - NABOO SPACECRAFT - DAY (FX)","The spacecraft flies over the endless cityscape of Coruscant, the capital of the galaxy.","INT NABOO SPACECRAFT - COCKPIT","ANAKIN looks out the cockpit window in awe.","RIC OLIE: Coruscant... the entire planet is one big city. There's Chancellor Valorum's shuttle. And look over there, Senator Palpatine is waiting for us.","INT NABOO SPACECRAFT - DAY (FX)","The ship flies through the cityscape of Coruscant.","EXT CORUSCANT - SENATE LANDING PLATFORM - DAY","Supreme Chancellor VALORUM, SEVERAL GUARDS, and SENATOR PALPATINE stand on a landing platform.","The sleek Naboo spacecraft lands on the platform high above the street level of the galactic capital. The ramp lowers. OBI-WAN, QUI-GON, JAR JAR and ANAKIN descend the ramp first and bow before PALPATINE and VALORUM.","CAPTAIN PANAKA, TWO GUARDS, QUEEN AMIDALA, then PADME, RABE, EIRTAE, and MORE GUARDS descend the ramp. QUEEN AMIDALA stops before the group.ANAKIN and JAR JAR stand to one side, looking at the huge city. PADME smiles at ANAKIN. PALPATINE bows before the Queen.","PALPATINE: It is a great gift to see you alive, Your Majesty. With the communications breakdown, we've become very concerned. I'm anxious to hear your report on the situation. May I present Supreme Chancellor Valorum.","VALORUM: Welcome, Your Highness. It's an honor to finally meet you in person.","AMIDALA: Thank you, Supreme Chancellor.","VALORUM: (cont'd) I must relay to you how distressed everyone is over the currant situation. I've called for a special session of the Senate to hear your position.","AMIDALA: I am grateful for your concern, Chancellor.","PALPATINE starts to lead QUEEN AMIDALA and her RETINUE off the platform toward a waiting air taxi.","PALPATINE: There is a question of precedure, but I feel confident we can overcome it...","JAR JAR and ANAKIN follow the QUEEN, PALPATINE, PADME, RABE and EIRTAE to the taxi.","QUI-GON and OBI-WAN stop to speak with VALORUM as they watch the group head towards the taxi.","QUI-GON: I must speak with the Jedi Council immediately. The situation has become more complicated.","INT PALPATINE'S QUARTERS - ANTEROOM - DAY","QUEEN AMIDALA is sitting listening to PALPATINE. EIRTAE and RABE stand behind the QUEEN; PADME is nowhere to be seen. ANAKIN and JAR JAR are waiting in an adjoining room. They can see the Queen but cannot hear what is being said.","CAPTAIN PANAKA enters, then goes into the room with QUEEN AMIDALA.","INT PALPATINE'S QUARTERS - LIVING AREA - DAY","PALPATINE is pacing as CAPTAIN PANAKA enters. EIRTAE and RABE stand to one side.","PALPATINE: ...the Republic is not what it once was. The Senate is full of greedy, squabbling delegates. There is no interest in the common good. I must be frank, Your Majesty, there is little chance the Senate will act on the invasion.","AMIDALA: Chancellor Valorum seems to think there is hope.","PALPATINE: If I may say so, Your Majesty, the Chancellor has little real power... he is mired by baseless accusations of corruption. The bureaucrats are in charge now.","AMIDALA: What options have we?","PALPATINE: Our best choice would be to push for the election of a stronger Supreme Chancellor. One who will take control of the bureaucrats, and give us justice. You could call for a vote of no confidence in Chancellor Valorum.","AMIDALA: He has been our strongest supporter?","PALPATINE: Our only other choice would to be to submit a plea to the courts...","AMIDALA: The courts take even longer to decide things than the Senate. Our people are dying, Senator... We must do something quickly to stop the Federation.","PALPATINE: To be realistic, Your Majesty, I think we're going to have to accept Federation control for the time being.","AMIDALA: That is something I cannot do.","EXT TEMPLE OF THE JEDI - DAY (FX)","A unique building with it tall spires stands out against the Coruscant skyline. A small transport passes by the vast temple.","INT TEMPLE OF THE JEDI - COUNCIL CHAMBERS - DAY","QUI-GON stands in a tall stately room. Twelve JEDI sit in a semi-circle. OBI-WAN stands behind QUI-GON in the center of the room.","The Senior Jedi is MACE WINDU. To his left is an alien Jedi named KI-ADI-MUNDI, and to his right, the Jedi Master, YODA.","QUI-GON: ... He was trained in the Jedi arts. My only conclusion can be that it was a Sith Lord.","KI-ADI: Impossible! The Sith have been extinct for a millenium.","MACE WINDU: I do not believe the Sith could have returned without us knowing.","YODA: Ah, hard to see, the dark side is.","MACE WINDU: We will use all our resources here to unravel this mystery and discover the identity of your attacker... May the Force be with you.","OBI-WAN turns and leaves, but QUI-GON continues to face the Council.","YODA: (Cont'd) Master Qui-Gon more to say have you?","QUI-GON: With your permission, my Master. I have encountered a vergence in the Force.","YODA: A vergence, you say?","MACE WINDU: Located around a person?","QUI-GON: A boy... his cells have the highest concentration of midi-chlorians I have ever seen in a life form. It is possible he was conceived by the midi-chlorians.","MACE WINDU: You're referring to the prophesy of the one who will bring balance to the Force... you believe it's this boy??","QUI-GON: I don't presume...","YODA: But you do! Revealed your opinion is.","QUI-GON: I request the boy be tested, Master.","The JEDI all look to one another. They nod and turn back to OBI-WAN and QUI-GON.","YODA: Trained as a Jedi, you request for him?","QUI-GON: Finding him was the will of the Force... I have no doubt of that.","MACE WINDU: Bring him before us, then.","INT QUEENS QUARTERS - CORUSCANT - DAY","Anakin, tentative, walks down one of the long hallways in Senator Palpatine's quarters. He stops before a door that is flanked by a GUARD.","The GUARD speaks into his comlink as ANAKIN looks around a bit nervously.","GUARD: The boy is here to see Padme.","RABE: (v.o.) Let him in.","The doors open, and ANAKIN enters the Queen's quarters.","RABE greets ANAKIN as TWO OTHER HANDMAIDENS come and go into the next room.","RABE: I'm sorry, Ani, but Padme is not here right now.","The Queen speaks out in the next room.","AMIDALA: (O.S.) Who is it?","RABE: Anakin Skywalker, to see Padme, Your Highness.","The QUEEN moves into the doorway and studies ANAKIN. ANAKIN bows and looks down, then takes a peek at her.","PADME AMIDALA: I've sent Padme on an errand.","ANAKIN: I'm on my way to the Jedi temple to start my training, I hope.","The QUEEN just stares at him.","ANAKIN: (Cont'd) I may not see her again... so... I came to say goodbye.","AMIDALA: We will tell her for you. We are sure her heart goes with you.","ANAKIN bows again.","ANAKIN: Thank you, Your Highness.","The QUEEN dissapears behind the doorway, and ANAKIN exits.","EXT CORUSCANT - GALACTIC SENATE BUILDING - DAY (FX)","A large, distinctive looking domed building stands out amid the cityscape of Coruscant.","INT MAIN ROTUNDA - GALACTIC SENATE - DAY","The Senate chambers are huge. Thousands of SENATORS and their AIDES sit in the circular assembly area. CHANCELLOR VALORUM sits in an elevated area in the center. SENATOR PALPATINE, QUEEN AMIDALA, EIRTA, RABE, and CAPTAIN PANAKA sit in the Naboo congressional box, which is actually a floating platform.","VALORUM: The Chair recognizes the Senator from the sovereign system of Naboo.","The Naboo congressional box floats into the center.","PALPATINE: Supreme Chancellor, delegates of the Senate. A tragedy has occurred which started with the taxation of trade routes, and has now engulfed our entire planet in the oppression of the Trade Federation.","A second box rushes into the center of the Senate. It is filled with Federation trade barons led by LOTT DOD, the Senator for the Federation.","LOTT DOD: This is outrageous! I object to the Senator's statements!","VALORUM: The Chair does not recognize the Senator from the Trade Federation at this time. Please return to your station.","LOTT DOD reluctantly moves back to his place.","PALPATINE: To state our allegations, I present Queen Amidala, recently elected ruler of Naboo, who speaks on our behalf.","QUEEN AMIDALA stands and addresses the assembly. There is some applause.","AMIDALA: Honorable representatives of the Republic, I come to you under the gravest of circumstances. Naboo system has been invaded by the droid armies of the Trade...","LOTT DOD: I object! There is no proof. This is incredible. We recommend a commission be sent to Naboo to ascertain the truth.","A third box representing Malastare moves into the center of the room. AKS MOE, the Ambassador, addresses the convention.","AKS MOE: The Congress of Malastare concurs with the honorable delegate from the Trade Federation. A commission must be appointed.","VALORUM: The point...","VALORUM confers with several of his AIDES and VICE CHAIRMAN MAS AMEDDA. PALPATINE whispers something to the QUEEN.","PALPATINE: Enter the bureaucrats, the true rulers of the Republic, and on the payroll of the Trade Federation, I might add. This is where Chancellor Valorum's strength will dissapear.","VALORUM: The point is conceded ... will you defer your motion to allow a commission to explore the validity of your accusations?","QUEEN AMIDALA is angry but remains composed.","PADME AMIDALA: (angrily) I will not defer... I have come before you to resolve this attack on our sovereignty now. I was not elected to watch my people suffer and die while you discuss this invasion in a committee. If this body is not capable of action, I suggest new leadership is needed... I move for a 'vote of no confidence'... in Chancellor Valorum's leadership.","This causes a great stir in the assembly. A loud murmur cresendos into a roar of approval and jeers.","ASSEMBLY: Vote now! Vote now! Vote now!","CHANCELLOR VALORUM is stunned and stands back, speechless. His Vice Chair, MAS AMEDDA, takes over.","MAS AMEDDA: Order!","Things settledown a little. The Federation box settles next to AMIDALA.","PALPATINE stands next to AMIDALA.","PALPATINE: Now they will elect a new Chancellor, a strong Chancellor, one who will not let our tragedy continue...","EXT PALACE OF THE JEDI - BALCONY - SUNSET","OBI-WAN and QUI-GON stand outside the palace on a balcony.","OBI-WAN: The boy will not pass the Council's tests, Master. He's too old.","QUI-GON: Anakin will become a Jedi ... I promise you.","OBI-WAN: Do not defy the Council, Master... not again.","QUI-GON: I shall do what I must, Obi-Wan.","OBI-WAN: If you would just follow the code you would be on the council. They will not go along with you this time.","QUI-GON: You still have much to learn, my young apprentice.","INT PALACE OF THE JEDI - COUNCIL CHAMBERS - SUNSET","ANAKIN stands before the TWELVE JEDI. MACE WINDU holds a small hand-held viewing screen. In rapid succession, images flash across the screen.","ANAKIN: A ship... a cup... a ship... a speeder.","MACE WINDU turns the viewing screen off and nods toward YODA.","YODA: Hmm... how feel you?","ANAKIN: Cold, sir.","YODA: Afraid are you?","ANAKIN: No, sir.","YODA: See through you, we can.","MACE WINDU: Be mindful of your feelings...","KI-ADI: Your thoughts dwell on your mother.","ANAKIN: I miss her.","YODA: Afraid to lose her... I think, hmm?","ANAKIN: (a little angry) What's that got to do with anything?","YODA: Everything. Fear is the path to the dark side... fear leads to anger... anger leads to hate.. hate leads to suffering... I sense much fear in you.","INT PALPATINES QUARTERS - SUNSET","QUEEN AMIDALA is standing, staring out the window, with JAR JAR. The lights of the city shimmer before them. EIRTAE and SABE stand near the door. JAR JAR turns to face the QUEEN and sees her sadness.","JAR JAR: Yousa tinken yousa people ganna die?","PADME AMIDALA: I don't know.","JAR JAR: Gungans get pasted too, eh?","AMIDALA: I hope not.","JAR JAR: Gungans no die'n without a fight... wesa warriors. Wesa gotta grand army. Dat why yousa no liken us, mesatinks.","PALPATINE and CAPTAIN PANAKA rush into the room and bow before the QUEEN.","CAPTAIN PANAKA: Your Highness? Your Highness, Senator Palpatine has been nominated to succeed Valorum as Supreme Chancellor.","PALPATINE: A surprise, to be sure, but a welcome one. Your Majesty, if I am elected, I promise put an end to corruption.","AMIDALA: Who else can be nominated?","CAPTAIN PANAKA: Bail Antilles of Alderaan and Ailee Teem of Malastare.","PALPATINE: I feel confident ... our 'situation' will create a strong sympathy vote for us ... I will be Chancellor.","AMIDALA: I fear by the time you have control of the bureaucrats, Senator, there will be nothing left of our our people, our way of life...","PALPATINE: I understand your concern, Your Majesty; unfortunately, the Federation has possession of our planet.","PADME AMIDALA: Senator, this is your arena. I feel I must return to mine. I've decided to go back to Naboo.","PALPATINE: Go back!! But, Your Majesty, be realistic! They'll force you to sign the treaty.","AMIDALA: I will sign no treaty, Senator. My fate will be no different from that of our people. Captain!","CAPTAIN PANAKA: Your Highness?","AMIDALA: Ready my ship!","CAPTAIN PANAKA: Please, Your Majesty, stay here... where it's safe.","AMIDALA: It is clear to me now that the Republic no longer functions. I pray you will bring sanity and compassion back to the Senate.","AMIDALA and her RETINUE exit the room. PALPATINE is strieght-faced.","INT TEMPLE OF THE JEDI - COUNCIL CHAMBERS - TWILIGHT","ANAKIN, OBI-WAN, and QUI-GON stand before the TWELVE MEMBERS OF THE JEDI COUNCIL.","KI-ADI: The Force is strong with him.","QUI-GON: He's to be trained, then?","The COUNCIL MEMBERS look to one another.","MACE WINDU: No. He will not be trained.","ANAKIN is crestfallen and stares at MACE.","MACE WINDU: He is too old.","QUI-GON: He is the chosen one... you must see it.","YODA: Clouded, this boy's future is.","QUI-GON: I will train him, then. I take Anakin as my Padawan learner.","OBI-WAN reacts with surprise. ANAKIN watches with interest.","YODA: An apprentice, you have, Qui-Gon. Impossible, to take on a second.","MACE WINDU: The code forbids it.","QUI-GON: Obi-Wan is ready...","OBI-WAN: I am ready to face the trials.","YODA: Our own council we will keep on who is ready.","QUI-GON: He is headstrong and he has much to learn of the living Force, but he is capable. There is little more he can learn from me.","YODA: Young Skywalker's fate will be decided later.","MACE WINDU: Now is not the time for this... the Senate is voting for a new Supreme Chancellor and Queen Amidala is returning home, which will put pressure on the Federation, and could widen the confrontation.","KI-ADI: And draw out the Queen's attacker.","MACE WINDU: Go with the Queen to Naboo and discover the identity of the dark warrior. That is the clue we need to unravel this mystery of the Sith.","YODA: May the Force be with you.","OBI-WAN, QUI-GON, and ANAKIN bow then leave.","EXT CORUSCANT - SENATE LANDING PLATFORM - NIGHT","QUI-GON, OBI-WAN, and ANAKIN stand on the landing platform outside the ship. ARTOO whistles a happy tune. The wind whips at ANAKIN as he listens to the JEDI.","OBI-WAN: It is not disrespect, Master, it is the truth.","QUI-GON: From your point of view....","OBI-WAN: The boy is dangerous... they all sense it. Why can't you?","QUI-GON: His fate is uncertain, he's not dangerous. The Council will decide Anakin's future... that should be enough for you. Now get on board!","OBI-WAN reluctantly boards the Naboo spacecraft. QUI-GON goes over to ANAKIN who is standing next to ARTOO.","ANAKIN: Master Qui-Gon, sir, I don't want to be a problem.","QUI-GON: You won't be, Ani... I'm not allowed to train you, so I want you to watch me and be mindful...","ARTOO turns and rolls over to the edge of the platform watching the trafic.","QUI-GON: (cont'd) ... always remember, your focus determines your reality. Stay close to me and you will be safe.","ANAKIN: Master, sir... I heard Yoda talking about midi-chlorians. I've been wondering, what are midi-chlorians?","QUI-GON: Midi-chlorians are a microcopic lifeform that reside within all living cells.","ANAKIN: They live inside of me?","QUI-GON: In your cells, yes... and we are symbionts with them.","ANAKIN: Symbionts?","QUI-GON: Life forms living together for mutual advantage. Without the midi-chlorians, life could not exist, and we would have no knowledge of the Force. They continually speak to us, telling us the will of the Force. When you learn to quiet your mind, you will hear them speaking to you.","ANAKIN: I don't understand.","QUI-GON: With time and training, Ani... you will... you will.","Two taxis pull up, and CAPTAIN PANAKA, QUEEN AMIDALA, and her HANDMAIDENS stop before the JEDI.","QUI-GON: (Cont'd) Your Majesty, it is our pleasure to continue to serve and protect you.","AMIDALA: I welcome your help. Senator Palpatine fears the Federation means to destroy me.","QUI-GON: I assure you, I will not let that happen.","AMIDALA enters the ship, followed by her HANDMAIDENS. JAR JAR hugs QUI-GON and ANAKIN.","JAR JAR: Wesa goen home!","ANAKIN: C'mon, Artoo.","They ALL move onto the ship. The ship takes off.","INT NABOO PALACE - THRONE ROOM - THEED - NIGHT","NUTE and RUNE stand before a hologram of DARTH SIDIOUS.","DARTH SIDIOUS: Is the planet secure?","NUTE: We have taken over the last pockets of primitive life forms. We are in complete control of the planet now.","DARTH SIDIOUS: Good. I will see to it that in the Senate, things stay as they are. I'm sending my apprentice, Darth Maul, to join you.","NUTE: Yes, my Lord.","DARTH SIDIOUS fades off.","RUNE: A Sith Lord here?!!","INT SPACE - NABOO SPACECRAFT COCKPIT","ANAKIN stands next to the PILOT, RIC OLIE, pointing to various buttons and gauges.","RIC OLIE: Those are the forward stabalizers.","ANAKIN: And those two control the pitch?","RIC OLIE: You catch on pretty quick.","INT NABOO SPACECRAFT - QUEEN'S CHAMBERS","SABE and EIRTAE stand behind QUEEN AMIDALA as she talks with QUI-GON and CAPTAIN PANAKA. OBI-WAN and JAR JAR watch.","CAPTAIN PANAKA: As soon as we land the Federation will arrest you, and force you to sign the treaty.","QUI-GON: I agree... I'm not sure what you wish to accomplish by this.","PADME AMIDALA: I will take back what's ours.","CAPTAIN PANAKA: There are too few of us, Your Highness.... we have no army.","QUI-GON: And I can only protect you. I cannot fight a war for you.","AMIDALA: Jar Jar Binks!","JAR JAR looks around, puzzled.","JAR JAR: Mesa, Your Highness?","AMIDALA: Yes. I need your help.","INT NABOO CRUISER COCKPIT - DAY","The Naboo Cruiser heads toward the lush green planet. There is only one Federation battle cruiser orbiting. OBI-WAN and CAPTAIN PANAKA spot it on the view screen.","RIC OLIE: I have one battleship on my scope.","OBI-WAN: It's a droid control ship.","CAPTAIN PANAKA: They've probably spotted us.","OBI-WAN: We haven't much time.","INT NABOO SPACECRAFT - MAIN HOLD","The QUEEN, CAPTAIN PANAKA, TROOPS, and HANDMAIDENS get ready to disembark as the ship lands deep within the forest.","EXT NABOO SWAMP - DAY","The Naboo spacecraft has landed in the Gungan swamp. TROOPS unload the ships in the background as OBI-WAN approaches QUI-GON.","OBI-WAN: Jar Jar is on his way to the Gungan city, Master.","QUI-GON's thoughts are elsewhere.","QUI-GON: Good.","OBI-WAN and QUI-GON stand silently for a moment.","OBI-WAN: Do you think the Queen's idea will work?","QUI-GON: The Gungans will not easily be swayed, and we cannot use our power to help her.","OBI-WAN: I'm... I'm sorry for my behavior, Master. It is not my place to disagree with you about the boy... and I am grateful you think I am ready to take the trials.","QUI-GON looks at him for a long moment.","QUI-GON: You've been a good apprentice, Obi-Wan, and you're a much wiser man than I am. I foresee you will become a great Jedi Knight.","EXT NABOO SWAMP LAKE - DAY","JAR JAR exits the swamp lake and walks over to CAPTAIN PANAKA, OBI-WAN, and QUI-GON. QUEEN AMIDALA, PADME, EIRTAE, RABE, ANAKIN, ARTOO, FOUR PILOTS, and EIGHT GUARDS stand in the background near the starship.","JAR JAR: Dare-sa nobody dare. Da Gungan city is diserted. Some kinda fight, mesa tinks.","OBI-WAN: Do you think they have been taken to camps?","CAPTAIN PANAKA: More likely they were wiped out.","JAR JAR: Mesa no tink so.","QUI-GON: Do you know where they are, Jar Jar?","JAR JAR: When in trouble, Gungans go to sacred place. Mesa show you. C'mon, mesa show you.","EXT NABOO SWAMP - DAY","The GROUP follows JAR JAR as he moves through the swamp. JAR JAR stops and sniffs the air. The GROUP stop behind him.","EXT NABOO SACRED TEMPLE RUINS - DAY","JAR JAR, QUEEN AMIDALA, ANAKIN, ARTOO, QUI-GON, OBI-WAN, PADME, RABE, EIRTAE, and the rest of her group are led through a clearing full of GUNGAN refugees. At the far end are the ruins of a grand temple with massive carved heads. BOSS NASS and several other COUNCIL MEMBERS walk out on the top of a three-quarter-submerged head.","CAPTAIN TARPALS: You Honor, Queen Amidala of the Naboo.","JAR JAR: Ah, ello dare, ye big Boss Nass, You Honor.","BOSS NASS: Jar Jar Binks, who's da uss-en others??","QUEEN AMIDALA steps forward. CAPTAIN PANAKA and the JEDI stand behind her.","AMIDALA: I am Queen Amidala of the Naboo... I come before you in peace.","BOSS NASS: Ah, Naboo biggen. Yousa bringen da Mackineeks... Yousa all bombad.","CAPTAIN PANAKA and HALF A DOZEN GUARDS and PILOTS look around nervously, and the GUNGAN TROOPS lower their long power poles. The JEDI stay relaxed. ANAKIN watches everything with great interest.","PADME AMIDALA: We have searched you out 'cause we wish to form an alliance...","Suddenly, PADME steps forward.","PADME: Your Honor...","BOSS NASS: Whosa dis?","PADME: I am Queen Amidala.","JAR JAR and ANAKIN are stunned.","PADME: (points to Queen) This is my decoy... my protection... my loyal bodyguard.","OBI-WAN and QUI-GON give each other a knowing look.","PADME AMIDALA: (Cont'd) ... I am sorry for my deception, but it was necessary to protect myself. Although we do not always agree, Your Honor, our two great societies have always lived in peace. The Trade Federation has destroyed all that we have worked so hard to build. If we do not act quickly, all will be lost forever... I ask you to help us... (PADME drops to her knees before the GUNGANS.)... no, I beg you to help us. We are your humble servants...","There is a gasp from CAPTAIN PANAKA, HIS TROOPS, and the HANDMAIDENS.","PADME AMIDALA: (Cont'd) ... Our fate is in your hands.","Slowly, CAPTAIN PANAKA and his TROOPS bow down before the GUNGAN COUNCIL. Then the HANDMAIDENS, ANAKIN, and finally the JEDI. The GUNGANS are puzzled by this. BOSS NASS begins to laugh.","BOSS NASS: Yousa no tinken yousa greater den da Gungans.. Mesa like dis.","QUI-GON and OBI-WAN smile at each other.","BOSS NASS: (cont'd) Maybe wesa bein friends.","PADME and the others start to smile and laugh at the situation.","INT NABOO PALACE - THRONE ROOM - DAY","NUTE, RUNE, and DARTH MAUL walk with a hologram of DARTH SIDIOUS.","NUTE GUNRAY: ... we've sent out patrols. We've already located their starship in the swamp... It won't be long, My Lord.","DARTH SIDIOUS: This is an unexpected move for her. It's too aggressive... Lord Maul, be mindful. Let them make the first move.","DARTH MAUL: Yes, my Master.","EXT NABOO EDGE OF SWAMP/ GRASS PLAINS - DAY","A GUNGAN SENTRY sits on top of the ancient temple heah, searching the landscape with a pair of electrobinoculars. He sees something and yells down to ANAKIN at the foot of the statue.","GUNGAN LOOKOUT: Daza comen!","ANAKIN: All right...","ANAKIN yells and runs over to PADME and the JEDI, who are discussing a battle plan with FIVE GUNGAN GENERALS.","ANAKIN: (cont'd) ... They're here.","PADME: Good, they made it.","THREE SPEEDERS pull up to the GROUP. CAPTAIN PANAKA and a DOZEN OR SO GUARDS and PILOTS pile out and join the group.","BOSS NASS puts his arm around JAR JAR.","BOSS NASS: Yousa doen grand. Jar Jar bringen usen an da Naboo together.","JAR JAR: Oh, no, no, no...","BOSS NASS: So, wesa make yous Bombad General.","JAR JAR: General??! Oh, no..","JAR JAR's eyes roll back, his tongue flops out and he faints.","BOSS NASS laughs and walks over to where CAPTAIN PANAKA is talking with PADME and the JEDI.","PADME: What is the situation?","CAPTAIN PANAKA: Almost everyone's in camps. A few hundred police and guards have formed an underground resistance movement. I brought back as many of the leaders as I could. The Federation Army's also much larger than we thought, and much stronger. Your Highness, this is a battle I do not think we can win.","PADME: The battle is a diversion. The Gungans must draw the Droid Army away from the cities. (to Artoo) Artoo, we can enter the city using the secret passages on the waterfall side. Once we get to the main entrance, Captain Panaka will create a diversion. Then we can enter the palace and capture the Viceroy. Without the Viceroy, they will be lost and confused.","QUI-GON and OBI-WAN look on with interest.","PADME AMIDALA: (Cont'd) What do you think, Master Jedi?","QUI-GON: The Viceroy will be well guarded.","CAPTAIN PANAKA: The difficulty's getting into the throne room. Once we're inside, we shouldn't have a problem.","QUI-GON: There is a possibility, with this diversion many, Gungans will be killed.","BOSS NASS: Wesa ready to do are-sa part.","ANAKIN watches with interest.","PADME: We have a plan which should immobilize the Droid Army. We will send what pilots we have to knock out the Droid control ship orbiting the planet.","QUI-GON: A well-conceived plan. However, there's great risk. The weapons on your fighters may not penetrate the shields.","OBI-WAN: And there's an even bigger danger. If the Viceroy escapes, Your Highness, he will return with another droid army.","PADME: Well that is why we must not fail to get to the Viceroy. Everything depends on it.","INT THEED - PALACE - THRONE ROOM - DAY","NUTE, RUNE, DARTH MAUL, OOM-9, and a hologram of DARTH SIDIOUS walk through the throne room.","DARTH SIDIOUS: ... she is more foolish than I thought.","NUTE: We are sending more troops to meet this army assembling in the swamp. It appears to be made up of primitives.","DARTH SIDIOUS: This will work to our advantage.","NUTE: I have your approval to proceed then, My Lord.","DARTH SIDIOUS: Wipe them out... all of them.","INT NABOO SWAMP LAKE - DAY (FX)","All is peaceful. Suddenly there is a disturbance in the middle of the lake. A rush of bubbles, then a GUNGAN SOLDIER riding a KAADU emerges from the fog, followed by SEVERAL OTHERS.","SOLDIERS on huge, lizard-like FAMBAAS with large shield generators mounted on their backs follow the marching WARRIORS.","The GUNGAN ARMY heads out of the swamp and onto the rolling grassy hills. HUNDREDS OF GUNGAN WARRIORS march in lon lines toward the horizon.","The GUNGAN, GENERAL CEEL, sees the tanks on the ridge and orders a halt. The GUNGANS are spread out in a large line. JAR JAR is nervous.","GENERAL CEEL signals to the shield operators.","GENERAL CEEL: Halt! Starten up the shield.","A red ray shoots out of the generator and blasts into a large dish on the back of a second FAMBAA and spreads like an umbrella over the assembled WARRIORS.","Federation tanks move up to a ridge and stop. In the distance they see the GUNGAN ARMY waiting for them.","BATTLE DROID CAPT.: Pull 'em forward.","The Federation tanks fire upon the GUNGAN army hitting thier shields.","EXT THEED - CENTRAL PLAZA - DAY","PADME, followed by EIRTAE, OBI-WAN, QUI-GON, ANAKIN, and ARTOO, stealthily makes her way toward the entrance to the main hanger. They are followed by about TWENTY NABOO GUARDS, PILOTS, and TROOPS. They stop, and PADME uses a small red laser light to signal across the plaza to CAPTAIN PANAKA, RABE and TWENTY OTHER ASSORTED NABOO TROOPS. They signal back. QUI-GON leans over to ANAKIN.","QUI-GON: Once we get inside, you find a safe place to hide and stay there.","ANAKIN: Sure.","QUI-GON points a stern finger at ANAKIN.","QUI-GON: (cont'd) Stay there!","DROID TROOPS mill about the tank-filled plaza. At the far end of the plaza, SEVERAL DROIDS begin to run and fire. NABOO SOLDIERS begin to fire back at the BATTLE DROIDS.","As the ruckus erupts at one end of the plaza, PADME and her TROOPS rush into the main hanger. CAPTAIN PANAKA and HIS SOLDIERS continue to engage the DROIDS outside.","INT THEED - PALACE THRONE ROOM - DAY","NUTE, RUNE, and FOUR COUNCIL MEMBERS watch the plaza battle on a large view screen.","NUTE: I thought the battle was going to take place far from here... this is too close!","INT THEED - CENTRAL HANGER - DAY","QUI-GON: Ani, find cover, quick!","ANAKIN hides behind one of the Naboo fighters, ducking as large bolts whiz past and EXPLODE near him. PADME and the TWO JEDI destroy BATTLE DROIDS right and left. The QUEEN'S TROOPS and EIRTAE also blast away at the DROIDS. PADME signals to her pilots.","PADME: Get to your ships!","The PILOTS and ARTOO UNITS run for the Naboo fighter craft stacked in the hanger bay. ","The ship begins to levitate out of the hanger. BATTLE DROIDS fire at it as it falls in behind five other fighters. ARTOO whistles to ANAKIN from a fighter not far away. ANAKIN runs and jumps into the fighter to hide.","EXT THEED - CENTRAL HANGER - DAY","SEVERAL FIGHTERS take off. One is hit which causes it to pinwheel into the ground and EXPLODE.","INT THEED - CENTRAL HANGER - DAY","CAPTAIN PANAKA and several GUARDS rush for cover as the remaining fighters exit the hanger.","PADME and the JEDI defend themselves against the remaining BATTLE DROIDS.","EXT NABOO FIGHTERS - SPACE (FX)","The fighters fly past the planets moon towards the DROID CONTROL SHIP of the FEDERATION.","RIC OLIE: Fighters straight ahead.","BROVO TWO: Roger, Brovo Leader.","BROVO THREE: Roger, Brovo Leader.","EXT NABOO GRASS PLAINS - DAY (FX)","The Federation tanks begin to fire on the GUNGANS, but they are protected by their energy shield.","OOM-9: Cease fire!","The tanks stop firing, and the GUNGANS watch for a minute.","JAR JAR: (to the group) Steady, steady.","The GUNGANS continue to wait as they see the doors to the massive transports open, and racks of BATTLE DROIDS are pulled out and lined up.","The GUNGANS get ready for an attack by activating individual shields. The WARRIORS dump large balls of energy into thier catapults readying themselves for the impending battle.","EXT SPACE (FX)","The battle rages on around the DROID CONTROL SHIP.","INT FEDERATION BATTLESHIP - CONTROL ROOM","RUNE: Activate the droids.","TEY HOW: Yes, sir!","TEY HOW presses a switch on her control pad.","EXT NABOO GRASS PLAINS - DAY (FX)","The BATTLE DROIDS reconfigure into their standing position. They turn and aim their blasters at the GUNGANS.","CAPTAIN TARPALS: (to Jar Jar) Ouch time.","THOUSANDS OF DROIDS march toward the GUNGANS.","The DROIDS slowly march through the protective shield and start firing.","CAPTAIN TARPALS: Fire!","The GUNGANS throw their power poles and fling small balls of energy with slingshots towards the DROIDS.","The KAADU JAR JAR is mounted on rears up an nocks JAR JAR to the ground.","JAR JAR and another GUNGAN pick up a few enegy balls and fling them towards the DROIDS. OOM-9 watches from a tank on a hill overlooking the battle.","INT THEED - CENTRAL HANGER - DAY","CAPTAIN PANAKA, SABE and NABOO TROOPS rush into the hanger and overwhelm the few remaining BATTLE DROIDS. PADME, OBI-WAN, and QUI-GON join forces with CAPTAIN PANAKA.","PADME: My guess is the Viceroy is in the throne room.","She looks to QUI-GON.","CAPTAIN PANAKA: Red Group, Blue Group, everybody, this way.","They start to head for the exit, on the way passing the fighter where ANAKIN is hiding. ARTOO whistles a greeting as ANAKIN peeps out of the cockpit.","ANAKIN: Hey! Wait for me.","QUI-GON: Anakin, stay where you are. You'll be safe there.","ANAKIN: But, I...","QUI-GON: Stay in that cockpit.","They head for the exit. As they are about to go through the door, suddenly everyone halts, revealing DARTH MAUL standing in the doorway. CAPTAIN PANAKA, PADME, and HER TROOPS back away. QUI-GON and OBI-WAN step forward.","QUI-GON: (Cont'd) We'll handle this...","PADME AMIDALA: We'll take the long way.","DARTH MAUL takes off his hood, and the TWO JEDI take off their capes.","At the far end of the hanger, THREE WHEEL DROIDS roll in and transform into their battle position. ARTOO calls ANAKIN's attention to the DROIDS.","PADME and HER TROOPS run for cover as they see the DESTROYER DROIDS.","ANAKIN: We've gotta do something, Artoo!","DARTH MAUL ignites his laser sword as the JEDI ignite theirs. Both ends of the sword light up.","The JEDI begin to fight the Sith Lord.","The DROIDS begin to advance and start firing on PADME and HER TROOPS.","ARTOO whistles a reply. Suddenly, the ship's systems go on, and the ship begins to levitate.","ANAKIN: I'm trying to. I don't know where the trigger is.","ANAKIN pushes a button, and the ship begins to roll towards the DROIDS.","ANAKIN: (Cont'd) Oops, wrong one.. Maybe this one....","ANAKIN pulls down on a lever and the hatch closes.","ANAKIN: No. Wait, here it is.","He pulls back on it and hits the button. The lasers begin to fire, wiping out all DESTROYER DROIDS.","PADME AMIDALA: Let's go!","ANAKIN: Ah... It's on automatic pilot.","CAPTAIN PANAKA, PADME, and HER TROOPS exit into a palace hallway.","The fighter rockets out of the hanger. ARTOO and ANAKIN hold on for dear life.","INT NABOO STARFIGHTER - COCKPIT - DAY","ARTOO beeps.","ANAKIN: Try and override it.","ARTOO beeps.","ANAKIN puts on his helmet as the ship continues to speed towards space.","INT THEED - CENTRAL HANGER - DAY","The JEDI are engaged in a fierce sword fight with DARTH MAUL. They have moved into the center of the hanger.","The SITH LORD's moves are incredible. He is fighting the TWO JEDI at once, flipping into the air, outmaneuvering them at every turn.","The SITH LORD drives the JEDI out of the hanger and nto the power generator area next door.","The SITH LORD does a back flip over the chasm as the JEDI follow in pursuit.","INT THEED - PALACE - HALLWAY - DAY","PADME, CAPTAIN PANAKA, EIRTAE, SABE and THIER TROOPS are trapped in a hallway by BATTLE DROIDS.","PADME AMIDALA: We don't have time for this, Captain.","INT NABOO STARFIGHTER - COCKPIT - SPACE","A giant dogfight ensues. ANAKIN's fighter flies into space above Naboo. ARTOO beeps a worried concern.","ANAKIN: Look! There they are! That's where the autopilot is taking us.","ANAKIN's fighter flies toward the Federation Battleship.","EXT NABOO GRASS PALINS - DAY","A HALF DOZEN WHEEL DROIDS roll out toward the battle. They slowly roll through the deflector shields, then transform themselves once they get on the other side.","JAR JAR's clumsiness works for him in the battle. He falls off his KAADU and a DROID jumps on him. He drops the DROID and gets caught up in the DROIDS wiring, dragging the torso around with him, the DROID's gun firing randomly, accidentally blasting SEVERAL DROIDS in one process.","The GUNGANS blast the WHEEL DROIDS with energy balls. The DESTROYER DROIDS blast many GUNGANS.","INT NABOO STARFIGHTER - COCKPIT - SPACE","The SQUADRON attacks the space station.","RIC OLIE: Their deflector shield is too strong.","ANAKIN finds himself in the middle of the space battle. A ship explodes behind him (over his left shoulder).","ANAKIN: This is tense!","He looks forward to see enemy ships approaching head on.","ANAKIN: (Cont'd) Artoo, get us off this Autopilot! It's gonna get us both killed!","ARTOO screams a reply.","ANAKIN: (Cont'd) You did it, Artoo!","ANAKIN flips switches.","ANAKIN: (Cont'd) Okay, let's go left!","He moves the controls left and the ship responds, turning left.","ARTOO beeps","ANAKIN: (Cont'd) Go back!?! Qui-Gon told me to stay in this cockpit and that's what I'm gonna do.","An enemy fighter comes into his sights. ANAKIN pushes the controls and instead of firing, his fighter accelerates past the enemy ship.","Now the enemy ship is on his tail. He tries evasive maneuvers.","ANAKIN: (Cont'd) I'll try spinning, that's a good trick.","ANAKIN rolls the ship as ARTOO screams desperately.","ANAKIN: (Cont'd) I know we're in trouble! Just hang on!","INT THEED - PALACE - HALLWAY - DAY","CAPTAIN PANAKA blasts a hole in the window.","CAPTAIN PANAKA: Go!","They make their way outside the building onto a ledge about six stories above a raging waterfall. SABE, EIRTAE and about TWENTY NABOO SOLDIERS stay in the hallway to hold off the BATTLE DROIDS.","EXT THEED - PALACE - OVER WATERFALL - DAY","PADME, CAPTAIN PANAKA, and about SIX OTHER NABOO SOLDIERS are lined up along the edge. They have pulled small attachments out of their pistols and fire at a ledge about four stories above them. Thin cables shoot out of the pistols and are embedded into the ledge. PADME, CAPTAIN PANAKA, and the OTHERS begin to climb up the wall. Once they reach the ledge they aim thier blasters at the window.","INT THEED - PALACE - HALLWAY TO THRONE ROOM","A window in the hallway blasts apart. PADME, CAPTAIN PANAKA, and HER SOLDIERS climb into the hallway. They head for the door to the throne room.","INT THEED - POWER GENERATOR PIT - DAY","Three swords are crossed in an intense display of swordsmanship. The JEDI and the SITH LORD fight their way across the narrow bridge of the Theed power generator. The laser sword battle continues on the small catwalk around the vast power pit. DARTH MAUL kicks OBI-WAN off one of the ramps and he falls several levels. QUI-GON knocks the DARK LORD off another ramp, and he lands hard on a ramp two levels below. QUI-GON jumps down after him. The DARK LORD backs away along the catwalk into a small door. QUI-GON follows as OBI-WAN leaps up and runs to join QUI-GON in battle.","INT THEED - POWER GENERATOR ELECTRON BEAM - HALLWAY","The SITH LORD, followed by QUI-GON, enters a long hallway filled with a series of deadly rays that go on and off in a pulsing pattern that shoots down the corridor every minute or so. DARTH MAUL makes it down several walls of deadly rays before they close. QUI-GON is one wall away from the DARK LORD. OBI-WAN is just starting into it and is five walls way from DARTH MAUL. The JEDI must wait until the next pulse to advance down the corridor. OBI-WAN is impatient and paces, waiting for the wall of rays to open. QUI-GON sits and meditates. DARTH MAUL hits the wall with the blade of his laser sword causing it to short out temporarily.","EXT NABOO GRASS PLAINS - DAY","The GUNGAN ARMY is no match for the DESTROYER DROIDS. A DESTROYER DROID blasts one of the shield generators, causing it to EXPLODE. The protective shield begins to weaken and fall apart. The GUNGAN GENERAL signals a retreat as the tanks enter the battle.","The GUNGANS flee as fast as they can. JAR JAR mutters something in a panic as he runs for cover under a wagon.","JAR JAR: Dis is nuttsen.","The driver of the wagon starts to leave, uncovering JAR JAR.","JAR JAR: O, oh.","He attempts to escape on the wagon of energy balls but only manages to unhitch the back gate, causing all of the energy balls to roll out of the wagon and down the hill.","The GUNGANS renew their attack on the DROID ARMY. JAR JAR's bumbling destroys several more DESTROYER DROIDS. JAR JAR scrambles to avoid being hit by one of the balls. A TANK isn't so lucky.","JAR JAR: Hey, hey! Gimme a lift.","A GUNGANS riding by on a KAADU picks up JAR JAR.","An explosion hits the GUNGAN and JAR JAR is blown off his KAADU and lands on one of the tank guns. JAR JAR is scared.","CAPTAIN TARPALS: Ja Ja! Usen da booba!","JAR JAR: Wat! Mesa no have a booba.","CAPTAIN TARPALS pulls an energy ball out of his pouch.","CAPTAIN TARPALS: Here, taken dis one.","The GUNGAN throws JAR JAR an electric ball. JAR JAR struggles to catch it and it lands in the face of DROID in control of the tank.","The tank looses control and vears off to the left digging a path in the ground. JAR JAR struggles to hang on as he hangs from the cannon.","CAPTAIN TARPALS rides by on his KAADU.","CAPTAIN TARPALS: Ja Ja! Jump Ja Ja! Jump!","The TWO GUNGANS roll from the force of the fall and come to a stop amidst a FEW DOZEN BATTLE DROIDS.","INT THEED - PALACE - HALLWAY TO THRONE ROOM","PADME, CAPTAIN PANAKA, and HER SOLDIERS hurry toward the throne room. Suddenly, two DESTROYER DROIDS skitter in front of the door. PADME turns around and sees TWO MORE appear at the far end of the hallway, trapping them in the middle.","PADME throws down her pistol and turns to CAPTAIN PANAKA.","PADME: Throw down your weapons. They win this round.","CAPTAIN PANAKA and HIS MEN throw down their weapons.","A HALF DOZEN BATTLE DROIDS come up behind them.","INT NABOO STARFIGHTER - COCKPIT - SPACE","The battle rages on around ANAKIN's starfighter as he continues to spin.","ARTOO screams in protest.","ANAKIN: We're hit Artoo! Wah...!","ANAKIN's ship spins out of control into the hangar of the Federation Battleship.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ARTOO squeals in exclamation.","ANAKIN: I'm tring to stop. I'm tring to stop.","ANAKIN hits the reverse thrusters and the ship skids to a stop on the hanger deck. ARTOO gives out a worried whistle.","ANAKIN: (Cont'd) Everything's overheated.","ARTOO sees DROIDS approaching, and beeps frantically.","ANAKIN: Oops! This is not good.","ANAKIN sees the lights turn from green to red as he flips switches and presses buttons.","INT THEED - POWER GENERATOR ELECRIC BEAM - HALLWAY","When the wall between QUI-GON and DARTH MAUL opens, QUI-GON is in a split second fighting the DARK LORD with a ferocity not seen before. The wall of the deadly rays turn away, and OBI-WAN starts running toward QUI-GON and the DARK LORD. They move into the area at the end of the corridor called the melting pit, a small area that is mostly made up of a deep hole.","The electron ray gates begin to close. OBI-WAN tries to make it to the melting pit but is caught one gate short. He slides to a stop just before he hits the deadly electron field.","QUI-GON and DARTH MAUL battle around the melting pit as a frustrated OBI-WAN watches.","DARTH MAUL catches QUI-GON off guard. The SITH makes a quick move, bashes his lightsaber handle into QUI-GON's chin, and runs his lightsaber through his mid-section. QUI-GON slumps to the floor in a heap.","OBI-WAN: Noooo!","The SITH LORD withdrawls his lightsaber and turns and walks toward OBI-WAN who is still trapped by the electron ray wall.","EXT NABOO GRASS PLAINS - DAY","The GUNGANS have been overrun. Some flee into the hills, chased by BATTLE DROIDS on STAPS. Many OTHERS are herded into groups by BATTLE DROIDS and DESTROYER DROIDS.","JAR JAR and GENERAL CEEL are held in a small group with OTHER OFFICERS.","GENERAL CEEL: No given up General Ja Ja. Wesa tink of sometin.","BATTLE DROID CAPT.: Hands up!","JAR JAR: My giv up. My giv up.","GENERAL CEEL covers his eyes in shame shaking his head.","INT THED - PALACE THRONE ROOM - DAY","PADME, CAPTAIN PANAKA, and SIX OTHER OFFICERS are brought by TEN BATTLE DROIDS before NUTE and RUNE and FOUR NEIMOIDIAN COUNCIL MEMBERS.","NUTE: Your little insurrection is at an end, Your Highness. Time for you to sign the treaty... and end this pointless debate in the Senate.","SABE dressed like the Queen appears in the doorway with SEVERAL TROOPS. SEVERAL DESTROYED BATTLE DROIDS can be seen in the distance.","SABE: Viceroy, your occupation here has ended!","NUTE and THE OTHERS are stunned to see a SECOND QUEEN. NUTE yells at the TEN GUARDS in the room.","HER SOLDIERS shoot down to of the DROIDS in the room.","NUTE: After her! This one is a decoy!","SIX OF THE DROIDS rush out of the throne room after SABE.","PADME slumps down on her throne and immediately hits a security button that opens a panel in her desk opposite CAPTAIN PANAKA.","PADME grabs two pistols, tosses one of the to CAPTAIN PANAKA and one to an OFFICER. She takes a third pistol and BLASTS the last of the BATTLE DROIDS.","CAPTAIN PANAKA: (to his officers) Jam the doors!","The OFFICERS rush to the door control panel as PADME hits the switch to close the door. The OFFICER at the door jams the controls. CAPTAIN PANAKA throws more pistols to the OTHERS GUARDS. The NEIMODIANS are confused and afraid.","PADME: Now, Viceroy, we will discuss a new treaty.","INT THEED - POWER GENERATOR - MELTING PIT","The pulsing electron gate opens, and OBI-WAN attacks the SITH LORD. The JEDI is relentless in his assault on the SITH LORD.","OBI-WAN slices through the center of THE DARK LORD's laser sword and he looses half.","The JEDI flips as DARTH MAUL gets up to continue the fight.","As OBI-WAN grows weary, he is kicked in the chin by the DARK LORD.","The TWO continue to fight DARTH MAUL FORCE THROWS OBI-WAN into a melting pit. He is barely able to hold onto a nozzle on the side of the pit. DARTH MAUL grins evilly at OBI-WAN as he kicks OBI-WAN's lightsaber down the endless shaft.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ARTOO whistles.","ANAKIN sees the dashboard lights go from red to green.","ANAKIN: Yes! We have power. Shields up.","ANAKIN flips a switch and the ship levitates, knocking over the BATTLE DROID CAPTAIN. The OTHER DROIDS shoot, but the lasers are deflected by ANAKIN's shields. ARTOO beeps.","ANAKIN: Take this!...","ANAKIN fires lasers as the ship begins to rotate.","ANAKIN: (cont'd)... and this!","He presses a button and launches two torpedoes which miss the DROIDS.","ANAKIN: Woa!","The two torpedoes fly down a hallway and explode inside the reactor room.","ANAKIN: Oops.","INT FEDERATION BATTLESHIP - BRIDGE","TEY HOW turns to CAPTAIN DOFINE.","TEY HOW: Sir, we're losing power... There seems to be a problem with the main reactor...","DOFINE: Impossible!! Nothing can get through our shield.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ANAKIN continues to fire, maneuvering the ship towards the exit.","ANAKIN: Let's get out of here.","ARTOO beeps in agreement.","INT NABOO FIGHTER - COCKPIT - SPACE","RIC OLIE watches in amazement as the Federation battleship starts to explode from the inside out.","BRAVO TWO: What's that?? It's blowing up from the inside.","RIC OLIE: We didn't hit it.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ANAKIN's ship roars through the hanger deck, bouncing over the DROIDS.","ANAKIN: (Cont'd) Now, this is Podracing!","INT NABOO FIGHTER - COCKPIT - SPACE","A lone NABOO FIGHTER comes into view.","BRAVO THREE: Look! One of ours! Outta the main hold!!","ANAKIN: Whoo, hoo!","All the pilots start to cheer and laugh in ANAKIN's excitement.","INT FEDERATION BATTLESHIP - BRIDGE","The bridge explodes as DOFINE and TEY HOW look for a way to escape.","EXT NABOO GRASS PLAINS - DAY","Suddenly, all of the DROIDS begin to shake upside down, run around in circles, then stop. The GUNGANS carefully move out to inspect the FROZEN DROIDS. JAR JAR pushes one of the BATTLE DROIDS, and it falls over.","JAR JAR: Whatsen dey doin?","CAPTAIN TARPALS: The control ship has been destroyed. Look!","He pushes one over to show what he means.","JAR JAR: Dey all broken.","The GUNGANS cheer.","INT THEED - POWER GENERATOR - MELTING PIT","The SITH LORD smiles as he goes in for the kill. At the last moment, OBI-WAN jumps up out of the pit, calls QUI-GON's lightsaber to him, throwing DARTH MAUL off. The young JEDI swings with a vengeance, cutting the SITH down. DARTH MAUL falls into the melting pit to his death.","OBI-WAN rushes over to QUI-GON, who is dying.","QUI-GON: It is too late... It's...","OBI-WAN: No!","QUI-GON: Obi-Wan promise ... promise me you'll train the boy...","OBI-WAN: Yes, Master...","QUI-GON: He is the chosen one... he will... bring balance... train him!","QUI-GON dies. OBI-WAN cradles his Master, quietly weeping.","INT MAIN HANGER - COURTYARD - DAY","The large, grand cruiser of the Supreme Chancellor lands in the courtyard of the main hanger. CAPTAIN PANAKA and TWENTY TROOPS guard NUTE GUNRAY and RUNE HAAKO. OBI-WAN, the QUEEN, and her HANDMAIDENS stand before the NEIMOIDIANS.","PADME: Now, Viceroy, you are going to have to go back to the Senate and explain all this.","CAPTAIN PANAKA: I think you can kiss your Trade franchise goodbye.","The main ramp of the cruiser is lowered as OBI-WAN and CAPTAIN PANAKA lead the VICEROY and HIS ASSISTANT toward the ship. The GRAND CHANCELLOR PALPATINE and SEVERAL REPUBLIC GUARDS descend the walkway, followed by YODA and SEVERAL OTHER JEDI MASTERS.","The CHANCELLOR PALPATINE walks up to OBI-WAN and ANAKIN. The JEDI bow before him.","PALPATINE: (to Obi-Wan) We are indebted to you for your bravery, Obi-Wan Kenobi. (to Anakin) And you, young Skywalker, we will watch your career with great interest.","The CHANCELLOR PALPATINE is greeted by the QUEEN.","AMIDALA: Congratulations on your election, Chancellor.","PALPATINE: Your boldness has saved our people, Your Majesty. It is you who should be congratulated. Together we shall bring peace and prosperity to the Republic.","INT. TURRET ROOM - NABOO PALACE - LATE DAY","The sun streams into the multi-windowed room at a low angle. It is not quite sunset. YODA paces before OBI-WAN, who is kneeling in the center of the room.","YODA: Confer on you, the level of Jedi Knight the Council does. But agree on you taking this boy as your Padawan learner, I do not.","OBI-WAN: Qui-Gon believed in him.","YODA: The Chosen One the boy may be; nevertheless, grave danger I fear in his training.","OBI-WAN: Master Yoda, I gave Qui-Gon my word. I will train Anakin. Without the approval of the Council if I must.","YODA: Qui-Gon's defiance I sense in you. Need that, you do not. Agree with you, the council does. Your apprentice, Skywalker will be.","EXT THEED - CENTRAL PLAZA - FUNERAL TEMPLE STEPS - SUNSET","QUI-GON's body goes up in flames as the JEDI COUNCIL, the QUEEN, SIO BIBBLE, CAPTAIN PANAKA, the HANDMAIDENS, and ABOUT ONE HUNDRED NABOO TROOPES, TWENTY OTHER JEDI, PALPATINE, OBI-WAN (standing with ANAKIN), JAR JAR, BOSS NASS, and TWENTY OTHER GUNGAN WARRIORS watch. There is a drum roll that stops. Doves are released, and the body is gone. ANAKIN looks to OBI-WAN.","ANAKIN: What will happen to me now?","OBI-WAN: The Council has granted me permission to train you. You will be a Jedi, I promise.","To one side, MACE WINDU turns to YODA.","MACE WINDU: There's no doubt. The mysterious warrior was a Sith.","YODA: Always two there are.... no more... no less. A master and an apprentice.","MACE WINDU: But which one was destroyed, the master or the apprentice?","They give each other a concerned look as the camera pans over to PALPATINE.","EXT THEED - CENTRAL PLAZA - DAY","CHILDEREN SING and throw flowers on the passing GUNGAN SOLDIERS. The CROWDS CHEER. It is a grand parade.","QUEEN AMIDALA stands next to the SUPREME CHANCELLOR PALPATINE, ANAKIN, OBI-WAN, SIO BIBBLE, and the JEDI COUNCIL. ARTOO stands in front of the QUEEN'S HANDMAIDENS and whistles at the parade. QUEEN AMIDALA and PALPATINE smile at one another.","In the parade are BOSS NASS and his GUARDS, JAR JAR and GENERAL CEEL. The GUNGANS ride KAADU. They stop before the QUEEN and walk up the steps to stand by her side. BOSS NASS holds up the Globe of Peace.","BOSS NASS: Peace!"],[oA.attack]:["PAN UP through a vast sea of stars to reveal the amber city-planet of Coruscant. Two yellow N-1 Naboo starfighters fly OVER CAMERA towards the planet, followed by a large chrome-covered Naboo cruiser and one more fighter.","INT. NABOO CRUISER -- DAWN","A LIEUTENANT and TWO SECURITY OFFICERS address SENATOR AMIDALA as the Cruiser nears the planet. ","LIEUTENANT: Senator, we're making our final approach in to Coruscant. ","PADME: Very good, Lieutenant. ","EXT. CITYSCAPE (CORUSCANT) ' DAWN","The ships skim across the surface of the city landscape. The sun glints off the chrome hulls of the sleek Naboo spacecraft as they navigate between the buildings of the capital planet. The ships fly into a thick bank of smog that covers the skyline.  ","EXT. LANDING PLATFORM (CORUSCANT) ' DAWN","Two Naboo fighters land on one leaf of a three-leaf-clover landing platform. The Naboo Cruiser lands on the central leaf, and the third fighter lands on the remaining platform. ","A small GROUP OF DIGNITARIES waits to welcome the Senator. A FEMALE PILOT steps out of her N-1 and walks toward the group. Behind her, ARTOO-DETOO drops down from the Naboo fighter. The other FIGHTER PILOT jumps from the wing of his ship and removes his helmet, revealing himself as a black man with an eyepatch over one eye. He is CAPTAIN TYPHO, Senator Amidala's Security Officer. He moves over to the FEMALE PILOT. ","TYPHO: We made it. ","The ramp lowers. TWO NABOO GUARDS appear first. Then Senator Amidala, her handmaiden VERSE and FOUR TROOPERS descend the ramp. Amidala is more beautiful now than she was ten years earlier when, as Queen, she was freeing her people from the yoke of the Trade Federation. The dignitaries start to move forward. ","TYPHO: I guess I was wrong, there was no danger at all'","FEMALE PILOT: There's always danger, Captain. Sometimes we're just lucky enough to avoid it.","Senator Amidala reaches the foot of the ramp --  ","-- when suddenly there is a blinding FLASH and a HUGE EXPLOSION!!! The dignitaries and pilots are hurled to the ground as the gleaming starship is instantly destroyed. ","Klaxons blare, alarms sound! In what seems like an instant, many dead and wounded victims lay scattered about the platform. Captain Typho and the escort pilot gets up and run to where Senator Amidala lies dying. The female pilot pulls off her helmet, revealing herself as the real PADME NABERRIE AMIDALA, Senator of Naboo.","PADME: Corde'","Padme kneels down and gathers her decoy double in her arms. The woman is horribly injured ' it's clear nothing can save her. Corde's eyes open. She looks up at her'","CORDE: I'm so sorry, m'lady' i've failed you, senator'.","PADME: No'.","Corde dies in Padme's arms without hearing her denial. She hugs her late decoy, sobbing uncontrollably.","TYPHO: M'Lady, you are still in danger here.","Padme lowers Corde's lifeless body to the ground, slowly gets up, and looks with tear-streaked eyes at the devastation around her. Artoo Detoo rolls up alongside them -- Typho's Artoo unit lies destroyed in the distance. Typho looks around nervously.","PADME: I shouldn't have come back.","TYPHO: This vote is very important. You did your duty -- Corde did hers. Now come.","Padme doesn't move. She continues to stare glassy-eyed at the carnage around her. ","TYPHO: Senator Amidala, please!","She slowly turns, and they walk away. Artoo lets out a small whimper and rolls after them.","EXT. SENATE BUILDING ' DAY","The massive Senate Building glistens in the afternoon sun. Small patches of fog have still to burn off. ","INT. SENATE CHAMBER ' DAY","The vast rotunda is buzzing with chatter. MAS AMEDDA, the Supreme Chancellor's majordomo, tries to quiet things down as SUPREME CHANCELLOR PALPATINE confers with an aide, UV GIZEN, who rides on a small one-man floating scooter. ","UV GIZEN: They are afraid, Supreme Chancellor. Many have heard reports of demonstrations, even violent activity near this very building. The separatists '","PALPATINE: They are a troublesome group. It would seem that Count Dooku has whipped them into murderous frenzy. Or perhaps their frustrations are mounting despite the effort of that estimable former Jedi to calm them. Either way, the separatists must be taken seriously. ","Mas Amedda pounds the podium for silence. ","MAS AMEDDA: Order! We shall have order! The motion for the Republic to commission an army takes precedence, and that is what we will vote on at this time.","Everything quiets down. The aide disperses, and with a grim look on his face, Palpatine then steps to the podium.","PALPATINE: My esteemed colleagues, excuse me'I have just received some tragic and disturbing news. Senator Amidala of the Naboo system'has been assassinated. ","There is a shocked silence in the vast arena. ","PALPATINE: This' grievous blow'is especially personal to me. Before I became Chancellor, I served Amidala when she was Queen. She was a great leader who fought for justice ' not only here in this honorable assembly, but also on her home planet. (sad beat, then continues) She was so loved, the people would have gladly elected her Queen for life. She believed in public service, and she fervently believed in democracy. Her death is a great loss to us all. We will all mourn her as a relentless champion of freedom' and as a dear friend. ","A moment of silence. Then three-eyed Senator ASK AAK of the Congress of Malastare raises his floating podium into view before Chancellor Palpatine's podium. ","ASK AAK: How many more senators will die before this civil strife ends?!? We must confront these rebels now, and we need an army to do it!!","A second pod comes into view. Inside it is DARSANA, Ambassador of Glee Anselm. ","DARSANA: Why weren't the Jedi able to stop this assassination?? We are no longer safe under their protection!!","Senator ORN FREE TAA floats into view next. ","ORN FREE TAA: The Republic needs more security NOW ' before it comes to war!! ","PALPATINE: Must I remind the Senator from Malastare that negotiations are continuing with the separatists? Peace is our objective here, not war -- ","ORN FREE TAA: (incredulous) You say this while your friend lies dead, assassinated by those same people with whom you wish to negotiate?!? ","The crowd erupts in a fury. Dissenting opinions fill the air, and Mas Amedda tries to calm things down. Suddenly, to Palpatine's and the Senate's surprise, Senator Amidala (with Captain Typho, a well-dressed JAR JAR BINKS and the handmaiden DORME in tow) comes forward in her pod!! ","PADME: My noble colleagues, I concur with the Supreme Chancellor. At all costs, we do not want war!! ","A shocked beat of silence. Then the Senate fills with wild cheering and applause. Palpatine is stunned, but quickly recovers. ","PALPATINE: I-it is with great surprise and joy the chair recognizes the Senator from Naboo, Padme Amidala. ","PADME: Less than an hour ago, an assassination attempt was made against my life. One of my bodyguards and six others were ruthlessly and senselessly murdered. (lets that sink in) I was the target. But more importantly, I believe this security measure before you was the target. I have led the opposition to build an army'but there is somebody in this body who will stop at nothing to assure its' passage'","Several Senators leap out of their seats, booing Padme loudly. Others shake their heads in confusion ' is Padme accusing one of them of attempted murder?!?","PADME: I warn you. If you vote to create this army, war will follow. I have experienced the misery of war firsthand ' I do not wish to do so again. ","The Senate is filled with jeers and boos. ","ORN FREE TAA: This is insanity, I say! I move that we defer this vote immediately! ","The Senators are now arguing and yelling at each other, both for and against her statements. Padme's iron temper slips. ","PADME: WAKE UP, SENATORS!!!","The Senate is stunned into silence. ","PADME: You must wake up!! If we offer the separatists violence, they can only show us violence in return! Many will lose their lives, ALL will lose their freedom! This decision could well destroy the very foundation of our great Republic! I pray you do not let fear push you into a disastrous decision. VOTE DOWN this security measure, which is nothing less than a declaration of war! Does anyone here WANT that?? I cannot believe they do'","There is an undercurrent of boos and groans from the Senators. Orn Free Taa moves his pod next to Padme's. ","ORN FREE TAA: My motion to defer the vote must be dealt with first. That is the rule of law. ","Padme stares daggers at the obese Twi'lek senator. Palpatine looks at her with a mixture of pity and weariness. ","PALPATINE: In view of the lateness of the hour and the seriousness of this motion, we will take up these matters tomorrow. Until then, the Senate stands adjourned. ","On Padme's pod, a small viewscreen comes up, saying that the Chancellor wants to meet with her in private. ","EXT. EXECUTIVE QUARTERS BUILDING - DAY ","The giant towers of the Republic Executive Building seem to reach the heavens. Traffic clogs the smoggy sky.","INT. CHANCELLOR'S OFFICE ' DAY","A weary Chancellor Palpatine sits behind his desk with his female aide SLY MOORE alongside him. Two RED-CLAD ROYAL GUARDS stand on either side of the door at the other end of the room. YODA, PLO KOON, KI-ADI MUNDI and MACE WINDU sit across from him. Behind them stand the Jedi LUMINARA UNDULI and her Padawan, BARRISS OFFEE.","PALPATINE: I don't know how much longer I can hold off the vote, my friends. And I fear that further delay on this definitive issue might well erode the Republic through attrition. More and more star systems are joining the separatists.","MACE WINDU: When the vote is done, if they do break away - ","PALPATINE: No! I will not let this Republic that has stood for a thousand years be split in two! My negotiations will not fail. ","MACE WINDU: If they do, you must realize there aren't enough Jedi to protect the Republic. We are keepers of the peace, not soldiers.","PALPATINE: Master Yoda, do you think it will really come to war?","The little green Jedi Master closes his eyes and concentrates.","YODA: Worse than war, I fear'much worse. ","PALPATINE: What?","MACE WINDU: What do you sense, Master?","YODA: Hmm'The Dark Side clouds everything. Impossible to see, the future is. But this I am sure of'(opens his eyes) Do their duty, the Jedi will. ","A muted buzzer sounds. A hologram of a Rodian aide, DAR WAC, appears on the Chancellor's desk. ","DAR WAC: (in Huttese) The Loyalist Committee has arrived, Your Honor. ","PALPATINE: Good. Send them in. We will discuss this matter later.","Mace rubs his chin, his thoughts troubled. The others all stand as Senator Amidala, Captain Typho, Mas Amedda, Dorme, and Senators (BAIL ORGANA, Jar Jar Binks, and HOROX RYYDER) and their ATTENDANTS enter the office. As Yoda moves to greet the Senator, he taps Amidala with his cane. ","YODA: Padme, your tragedy on the landing platform'terrible. With you the Force is strong, young Senator. Seeing you alive brings warm feelings to my heart. ","PADME: Thank you, Master Yoda. Do you have any idea who was behind this attack? ","MACE WINDU: (gets up and joins them) Our intelligence points to disgruntled spice miners on the moon of Naboo. ","Padme frowns, shaking her head. ","PADME: I don't wish to disagree'but I think that Count Dooku was behind it. ","The assembled group looks at each other in surprise. Mace Windu is most disturbed of all. ","KI-ADI MUNDI: He is a political idealist. Not a murderer.","MACE WINDU: You know, my Lady, Count Dooku was once a Jedi. (smiles) He couldn't assassinate anyone. It's not in his character. ","PALPATINE: Count Dooku has always avoided any kind of conflict. It appears he has no desire to start a war. Why would he kill you? To what end?","PADME: I don't know. But everything in my being tells me he was behind it. ","YODA: Hmm. In dark times, nothing is what it appears to be. But the fact remains for certain, Senator'in grave danger you are. ","Palpatine walks to the window and looks out at the vast city, his back to the others. He thinks for a moment, then turns around. ","PALPATINE: (to Mace) Master Jedi, may I suggest the Senator be placed under the protection of your graces. ","BAIL ORGANA: Do you really think that is a wise decision under these stressful times? Thousands of systems have gone over to the separatists, and many more may soon join them. The Jedi are our -- ","PADME: Chancellor, if I may comment, I do not believe the '","PALPATINE: (finishes her sentence) -- situation is that serious, no. But I do, Senator. ","PADME: Chancellor, please! I don't want any more guards! ","Palpatine considers this. Unnoticed, Yoda narrows his eyes and scowls at him. ","PALPATINE: I realize all too well that additional security might be disruptive for you. But perhaps someone you are familiar with, an old friend, like'Master Kenobi?","He looks at Mace as he suggests this. Mace nods. ","MACE WINDU: That's possible. He's just returned from a border dispute on Ansion. ","PALPATINE: You must remember him, M'Lady ' he watched over you during the blockade conflict. ","PADME: This is not necessary, Chancellor. ","PALPATINE: I insist ' do it for me, M'Lady, please. I will rest easier. We had a big scare today. The thought of losing you' is unbearable. ","Padme lets out a reluctant sigh. ","MACE WINDU: I will have Obi-Wan report to you immediately, M'Lady. ","PADME: (resigned) Thank you, Master Jedi. ","Mace bows before Padme and leaves. Yoda hobbles to her side next and leans into her ear. ","YODA: Too little about yourself you worry Senator, and too much about politics. Be mindful of your danger, Padme. Accept our help.  ","The Jedi leave the office.","EXT. APARTMENT BUILDING ' LATE DAY","A graceful skyscraper shines in the sunset light of Coruscant.","INT. APARTMENT BUILDING ELEVATOR ' LATE DAY","In a moving windowed elevator attached to the outside of the Senate Building, two Jedi wait. They are OBI-WAN KENOBI and ANAKIN SKYWALKER. Obi-Wan is now thirty-five, with long hair and a graying beard. He strongly resembles the late Qui-Gon Jinn now, in more ways than one. Anakin, meanwhile, is virtually unrecognizable. The nineteen-year-old towers over Obi-Wan, and is lanky and handsome. While he wears his hair in the manner of a Padawan Learner (short and spiky with a long braid), his uniform is darker and more stylish than the usual apprentice. Obi-Wan waits patiently as the elevator climbs; Anakin squirms and nervously rearranges his robes. ","OBI-WAN: You seem a little on edge. ","ANAKIN: Not at all. ","OBI-WAN: I haven't felt you this tense since'since we fell into that nest of gundarks. ","ANAKIN: You fell into that nightmare, Master, and I rescued you. Remember? ","OBI-WAN: (beat) Oh...yes. ","Obi-Wan laughs quietly. Anakin grins, but remains on edge. ","OBI-WAN: You're sweating. Relax. Take a deep breath. ","ANAKIN: I haven't seen her in ten years, Master'","OBI-WAN: She's not the Queen anymore. ","ANAKIN: (under his breath) That's not why I'm nervous. ","INT. APARTMENT BUILDING ' APARTMENT CORRIDOR ' TWILIGHT","The door to the apartment slides open. Jar Jar walks into the corridor, and spots Obi-Wan and Anakin exiting the elevator. He recognizes Obi-Wan and becomes extremely excited, jumping around in glee, shaking his hand. ","JAR JAR: Obi? OBI!! Mesa sooooo smilin' to see yousa!! WAHOOO!!! ","OBI-WAN: (grins) It's good to see you too, Jar Jar. ","Jar Jar calms down and looks over at Anakin.","JAR JAR: And dis, mesa guessin', issen yousa appren'tice' (like Andy Kaufman's Latka) Nooooooo!!! ANI?!?","Anakin nods and smiles. ","JAR JAR: Nooooooo!! Little bitty Ani?!?","Anakin nods again, grinning. ","JAR JAR: NOOOOOOO!! Yousa so biggen!!  Yiyiyiyiyi!! Ani!! ","ANAKIN: Hi, Jar Jar. ","Jar Jar grabs hold of Anakin and envelops him in a huge hug. ","JAR JAR: Shesa expecting yousa. Ani'Mesa no believen!","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT -- TWILIGHT","Padme is in a conference with Captain Typho and Dorme at the open balcony of her apartment. Jar Jar enters the room, followed by the two Jedi.","JAR JAR: Senator Padme! Mesa palos here. Lookee lookee, Senator. Desa Jedi arriven!","Padme, Dorme and Typho leave the balcony and walk into the apartment as Obi-Wan and Anakin stop before the Senator. Obi-Wan steps forward and bows before Padme. Anakin stares at Padme; she glances at him.  ","OBI-WAN: It's a great pleasure to see you again, M'Lady.","Padme walks over to Obi-Wan and takes his hand in hers. ","PADME: It's been far too long, Master Kenobi. I'm so glad our paths have crossed again'but I must warn you that I think your presence here is totally unnecessary. ","OBI-WAN: Well, I'm sure the Jedi Council has their reasons. ","Padme's eyes go wide as she notices'","PADME: ANI?!?","She doesn't seem to recognize the now fully-grown Anakin. The apprentice steps forward before her.","PADME: My goodness, you've grown. ","They stare at each other for a long moment. ","ANAKIN: So have you'grown more beautiful, I mean.\t","Obi-Wan glares at Anakin's attempt to be smooth. Anakin notices and gets nervous. ","ANAKIN: Well, for a Senator, I mean'","Padme laughs and shakes her head. ","PADME: Ani, you'll always be that little boy I knew on Tatooine. ","Anakin blushes and looks down as Obi-Wan and Typho smile. ","OBI-WAN: Our presence here will be invisible, M'Lady, I can assure you.","The group sits down to discuss the security arrangements. ","TYPHO: I'm Captain Typho, head of Her Majesty's security service. Queen Jamillia has been informed of your assignment. I'm very grateful you're here, Master Kenobi. The situation is more dangerous than the Senator will admit.","PADME: I don't need more security, I need answers. I want to know who's trying to kill me!","OBI-WAN: (frowning) We're here to protect you Senator, not to start an investigation.","ANAKIN: We will find out who's trying to kill you, Padme. I promise you. ","Obi-Wan looks askance at Anakin as he boldly declares this. He's done it again. Anakin bites his lip, in frustration and shame. ","OBI-WAN: We will not exceed our mandate, my young Padawan learner.","ANAKIN: I meant in the interest of protecting her, Master, of course'","OBI-WAN: We will not go through this exercise again, Anakin. And you will pay attention to my lead.","ANAKIN: Why?","OBI-WAN: (sharply) What??!!","Jar Jar gulps.","ANAKIN: Why else do you think we were assigned to protect her, if not to find the killer? Protection is a job for local security, not Jedi. It's overkill, Master. Investigation is implied in our mandate.","OBI-WAN: We will do exactly as the Council has instructed. (beat) And you will learn your place, young one.","Anakin lowers his head. Padme and Typho have been watching this scene sympathetically. Now Padme gets up. ","PADME: Perhaps with merely your presence, the mysteries surrounding this threat will be revealed.  Now, if you will excuse me, I will retire.","Everyone else gets up. Obi-Wan gives Amidala a slight bow as she and Dorme leave the room.","TYPHO: Well, I know I feel a lot better having you here. ","ANAKIN: What have you learned? ","Obi-Wan throws Anakin a warning look. ","TYPHO: Not much. She's very determined to deal with the separatists through negotiation and not force. But the attempts on her life, even though they've failed, have only strengthened the opposition to her viewpoint in the Senate. ","OBI-WAN: And since the separatists would not logically wish to see a Republic army formed'","TYPHO: We're left without a clue. In any such incident, the first questioning eyes turn towards Count Dooku and the separatists'(quickly, on Obi-Wan's sour look) or to some of those loyal to his movement at least. But why they'd go after Senator Amidala is anyone's guess. ","OBI-WAN: ('end of discussion') And we are not here to guess, but merely to protect. ","TYPHO: (bows) I'll have an officer situated on every floor, and I'll be at the control center downstairs. ","Typho leaves, and Obi-Wan starts to look around the apartment. ","JAR JAR: Mesa busten wit happiness seein yousa again, Ani. Desa bad times, bombad times.","ANAKIN: (despondent) She hardly even recognized me, Jar Jar. I've thought about her every day since we parted, and' she's forgotten me completely. ","JAR JAR: Shesa happy. Happier den mesa seein her in a longo time. ","OBI-WAN: You're focusing on the negative, Anakin. Be mindful of your thoughts. (kind smile) She was pleased to see us. Now lets check the security. ","ANAKIN: Yes, my master.","EXT. SKYSCRAPER LEDGE ' NIGHT","An armor-clad bounty hunter, JANGO FETT, waits on the ledge of a skyscraper as another bounty hunter, ZAM WESELL, a woman with a veiled face, steps from her hovering green speeder and approaches Fett. ","JANGO FETT: You know that we failed? ","ZAM WESELL: You told me to kill those in the Naboo starship. I hit the ship, but they used a decoy. Those who were aboard are all dead. ","JANGO FETT: We'll have to try something more subtle this time, Zam. 'My client is getting impatient. '","Fett hands Zam a transparent tube about a foot long, containing centipede-like KOUHUNS.","JANGO FETT: Take these. 'Be careful. 'They're very poisonous.","She turns to leave, but Fett calls her back. ","JANGO FETT: Zam' there can be no mistakes this time. She had better not escape you. ","ZAM WESELL: She won't.","Zam attaches her veil across the bottom of her face. She turns again and walks toward her speeder.","EXT. JEDI TEMPLE (CORUSCANT) ' NIGHT","The vast Jedi Temple sits on an endless flat plain, silhouetted against the traffic-filled sky.","INT. JEDI TEMPLE, CORRIDOR -- NIGHT ","Mace Windu and Yoda walk down a long hallway, silhouetted by a lit room at the end.","MACE WINDU: Why couldn't we foresee this attack on the Senator? This should have been no surprise. ","YODA: Masking the future is this disturbance in the Force. ","MACE WINDU: (sighs) The prophecy is coming true ' the Dark Side is growing. ","YODA: And only those who have turned to the Dark Side can sense the possibilities of the future.","MACE WINDU: It's been ten years, and the Sith still have yet to show themselves. Do you think they are behind this'disturbance?","YODA: (long beat) Out there, they are. A certainty that is.","MACE WINDU: Do you think Obi-Wan's apprentice will be able to bring balance to the Force?","YODA: Only if he chooses to follow his destiny.","There is a long silence as they walk away. Only footsteps are heard.","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM ' NIGHT","Anakin is standing in the living room. He is in a meditative state. It is quiet. We hear distant footsteps in the corridor outside the apartment. Suddenly Anakin's eyes pop open. His eyes dart around the room. He reaches for his lightsaber, then smiles and puts it back on his belt.","The door to the apartment slides open, and Obi-Wan enters.","OBI-WAN: Captain Typho has more than enough men downstairs. No assassin will try that way. Any activity up here? ","ANAKIN: Quiet as a tomb. I don't like just waiting here for something to happen to her.","Obi-Wan checks a palm-sized view scanner he has pulled out of his utility belt. It shows a shot of Artoo by the door, but no sign of Padme on the bed.","OBI-WAN: What's going on?","Anakin shrugs.","ANAKIN: Aw, she covered the cameras. (sigh) I don't think she liked me watching her.","OBI-WAN: What is she thinking?","ANAKIN: She programmed Artoo to warn us if there is an intruder.","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM ' NIGHT","Padme is asleep in her bed, lit only by the light of the city outside her window coming through the blinds. Artoo stands in the corner of the bedroom. His power is off. ","OBI-WAN: (V.O.) It's not an intruder I'm worried about. There are many other ways to kill a Senator.","ANAKIN: (V.O) I know, but we also want to catch this assassin. Don't we, Master?  ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM -- NIGHT","Anakin and Obi-Wan continue their conversation. ","OBI-WAN: (sour) You're using her as bait.","ANAKIN: It was her idea. Don't worry, no harm will come to her ' I can sense everything going on in that room. Trust me. ","OBI-WAN: It's too risky. Besides, your senses aren't that attuned, my young apprentice. ","ANAKIN: And yours are? ","Obi-Wan glowers at the implied challenge. ","OBI-WAN: Possibly. ","ANAKIN: Time will tell then, who's more in touch with the Force. ","EXT. SKYSCRAPER LEDGE ' NIGHT","Standing on the skyscraper ledge, Zam Wesell loads the cylinder carrying the deadly kouhuns into a PROBE DROID. She sends the probe droid out into the Coruscant night.  ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM -- NIGHT","Anakin and Obi-Wan continue their conversation, moving out onto the apartment's balcony. ","OBI-WAN: You look tired. ","ANAKIN: I don't sleep well anymore. ","OBI-WAN: Because of your mother? ","ANAKIN: (nods) I don't know why I keep dreaming about her. I haven't seen her since I was little' ","OBI-WAN: Your love for her was, and remains, deep. That's hardly reason for despair. ","ANAKIN: But these are more than ' (shakes his head) Are they dreams, or visions? Of something that is yet to be? ","OBI-WAN: I'm not sure what it means... but dreams pass in time. ","The two walk back into the apartment. ","ANAKIN: I'd much rather dream of Padm'. Just being around her again is' intoxicating. ","OBI-WAN: Be mindful of your thoughts, Anakin, they betray you. You've made a commitment to the Jedi Order, a commitment not easily broken. And the Jedi's stand on such relationships is uncompromising. Attachment is forbidden. (snorts) And don't forget she's a politician, and they're not to be trusted. ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM ' NIGHT","ANAKIN: (V.O.) She's not like the others in the Senate, Master.","As Padme sleeps, the probe droid approaches outside her window. It sends out several small arms that attach to the window, creating sparks that shut down the security system. Then a large arm cuts a small hole in the glass. A faint sound is heard as the small section of glass is removed from the window. ","OBI-WAN: (V.O.) It's my experience that Senators focus only on pleasing those who fund their campaigns... and they're by no means scared of forgetting the niceties of a democracy to get those funds.","ANAKIN: (V.O.) Not another lecture, Master. At least not on the economics of politics. It's too early in the morning'","The probe droid attaches a little tube to the hole in the window. The two deadly looking centipede-like kouhuns exit the tube, crawl through the blinds, and head toward the sleeping Padme. Artoo wakes up, and his lights go on. The kouhuns have scurried behind the bed on the opposite side from Artoo, however, and the little droid doesn't see them. Artoo looks around, makes a plaintive little sound, then shuts down again. The creatures scurry up onto the bed'","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM ' NIGHT","Anakin and Obi-Wan continue their conversation. ","ANAKIN: And besides, you're generalizing. The Chancellor doesn't appear to be corrupt. ","OBI-WAN: Palpatine is a politician. ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM ' NIGHT","The kouhuns are only inches away from Padme's face. They hiss, and wicked stinger tongues flicker from their mouths'","OBI-WAN: (V.O.) I have observed that he is very clever at following the passions and prejudices of the Senators.","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM ' NIGHT","ANAKIN: I think he's a good man. My instincts are very positive about' that'.","A stunned look comes over Anakin's face. He looks sharply at Obi-Wan. ","OBI-WAN: I sense it too.","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM ' NIGHT","Artoo whoops in alarm and shines a light on the bed. ","Obi-Wan and Anakin burst into the room. The kouhuns stand on their hind legs and hiss as Padme wakes up. Anakin throws himself in front of her, whacking in half the deadly creatures with his lightsaber.","Obi-Wan notices the droid outside the window and rushes straight at it, crashing through the blinds as he goes through the window. ","EXT. WINDOW LEDGE, APARTMENT BUILDING -- NIGHT","Obi-Wan flies through the glass window and flings himself at the probe droid, grabbing onto the deadly machine before it can flee. The probe droid sags under the weight of Obi-Wan, but continues to stay afloat and fly away with the Jedi hanging on for dear life, a hundred stories above the city.... ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT -- NIGHT","Anakin and Padme stare at the sight of Obi-Wan being carried off by the droid. Anakin turns to her. She pulls her nightdress around her shoulders.","ANAKIN: Stay here!","Anakin rushes out the door as Captain Typho, Dorme and two guards rush in. ","DORME: Are you all right, M'Lady?","Padme nods yes. ","EXT. CITYSCAPE, CORUSCANT -- NIGHT","The probe droid sends several protective electrical shocks across its' surface, causing Obi-Wan to almost lose his grip. As they dart in and out of the speeder traffic, Obi-Wan disconnects a wire on the back of the droid. Its power shuts off! Obi-Wan and the droid drop like rocks. Obi-Wan realizes the error of his ways and quickly puts the wire back. The droid's systems light up again, and it takes off. The droid bumps against a wall, hoping to knock the Jedi loose. It moves behind a speeder afterburner to scorch him. It takes the Jedi wildly between buildings and finally skims a rooftop as Obi-Wan is forced to lift his legs, then run across the roof, tenaciously hanging on to the droid.  ","EXT. SENATE APARTMENTS ' ENTRANCE -- NIGHT","Anakin charges out of the building and runs to a line of parked speeders. He vaults into an open one and takes off, gunning it fast toward the line of speeder traffic high above. ","EXT. CITYSCAPE, CORUSCANT -- NIGHT ","The droid moves into incoming air traffic, trying to knock Obi-Wan off. The Jedi desperately dodges incoming speeders. In one speeder, a Dug shakes its fist at him. ","DUG: JEDI POODOO!!","The droid heads for a dirty, beat-up speeder hidden in an alcove of a building about twenty stories up. When the pilot of the speeder, the scruffy bounty hunter Zam Wesell, sees the droid approach with Obi-Wan hanging on, she pulls a long rifle out of the speeder and starts to fire at the Jedi. Explosions burst all around Obi-Wan. ","OBI-WAN: I have a bad feeling about this'","Zam grins and raises the rifle a bit higher. ","ZAM WESELL: Dodge this. ","The droid takes a direct hit and explodes. Zam runs to her speeder, jumps in, and takes off. Obi-Wan plummets fifty stories'","'and clutches on to the back of a speeder! Groaning with effort, he flips over into the passenger seat and sits down next to the driver ' Anakin.  ","ANAKIN: (grinning) That was wacky! I almost lost you in the traffic! ","OBI-WAN: What took you so long?!? ","ANAKIN: Oh you know Master, I couldn't find a speeder I really liked, with an open cockpit'and with the right speed capabilities'and then you know I had to get a really gonzo color'","They zoom out in hot pursuit of Zam. Zam Wesell turns into incoming traffic, deliberately trying to throw the Jedi off her trail. Oncoming speeders honk and swerve to avoid her and the Jedi.","OBI-WAN: (rolls his eyes) If you'd spend as much time working on your saber skills as you do your wit, young Padawan, you would rival Master Yoda as a swordsman. ","ANAKIN: I thought I already did. ","OBI-WAN: Only in your mind, my very young apprentice.","As this conversation is going on, Anakin deftly moves in and out of the oncoming traffic. Zam then flies her speeder sharply downward. Anakin steers his speeder down after her. The two speeders plunge straight down through moving lanes of air traffic. She finally levels off near a huge building; Anakin keeps shooting straight down, straight towards the roof. Obi-Wan tenses up as the building looms ever closer. ","OBI-WAN: Pull up, Anakin' PULL UP!!","Laughing, Anakin finally pulls up just before he can smash into the building. The speeder misses the roof by inches. Obi-Wan is white as a sheet; Anakin's having the time of his life. ","OBI-WAN: You know I don't like it when you do that!!!","ANAKIN: Sorry, Master. I forgot you don't like flying. ","OBI-WAN: I don't mind flying ' but what you're doing is suicide! ","As he says this, Anakin barely avoids a commuter train. Obi-Wan jumps. They race at high speed across a wide, flat surface of the city planet. Zam weaves around flaming smokestacks at very close range, trying to set her pursuers on fire. ","The chase heads for a power refinery. Pulling out her laser pistol, Zam shoots a power coupler causing voltage, like lightning, to jump across a gap from one coupler to another. But Anakin stays on course, piloting the speeder directly through the arc. Anakin and Obi-Wan's bodies ripple with blue power. Huge electrical bolts shoot between the buildings as the speeders pass. ","OBI-WAN: Anakin, how many times have I told you to stay away from power couplings?!? ","The speeders finally fly out of the lightning. ","OBI-WAN: (sarcastic) Oh, that was good'","ANAKIN: That was crazy!!!","The Jedi tear after Zam. Zam goes up and down, through cross-traffic. There is a near miss as a speeder almost hits them. Zam turns down and left, into a transit tunnel built into a huge building. Anakin pulls up and to the right. ","OBI-WAN: Where are you going?!? He went that way!!  ","ANAKIN: Master, if we keep this chase going any longer, that creep is gonna end up deep fried! And personally, I'd very much like to find out who he is and who he's working for!! This is a shortcut'I think.  ","OBI-WAN: What do you mean, 'You think?'","Zam's speeder shoots out of the other end of the transit tunnel. Anakin's speeder is nowhere in sight. Zam removes the veil from her face, smirking in satisfaction. ","Anakin turns up a side street, zooming up several small passageways. He comes to a stop, hovering about fifty stories up. Obi-Wan folds his arms and looks disapprovingly at the searching Anakin. ","OBI-WAN: Well, you've lost him. ","ANAKIN: (he doesn't mean it) I'm deeply sorry, Master.","Anakin looks around front and back. He spots something. He seems to start counting to himself as he watches something below approach.","OBI-WAN: That was some shortcut, Anakin. He went completely the other way. Once again, you've proved --","ANAKIN: If you'll excuse me? ","Suddenly Anakin jumps out of the speeder!! Obi-Wan looks down and sees Zam's speeder about five stories below them cruising past. ","OBI-WAN: I hate it when he does that. ","Anakin miraculously lands on top of the bounty hunter's speeder. The speeder wobbles under the impact. Zam looks up and realizes what has happened. Suddenly, Zam just stops, and Anakin flies forward to the left front fork. Zam shoots at him with a laser pistol. There is a blast near Anakin's hand, which breaks off a piece of the speeder. Anakin slides to the right fork of the speeder, where Zam can't reach him. He scrambles to the top, holding onto an air scoop. Zam takes off, and Anakin slides to the back strut and almost slips off, but he manages to hang on. He works his way back to the speeder's cockpit. Zam briefly changes back into her gray reptilian Clawdite form and sneers at him.","Obi-Wan has jumped into the driver's seat of his speeder and is deftly gaining on the rogue speeder. The two speeders dive through oncoming traffic and then through cross traffic. Soon Anakin is able to get hold of his lightsaber and starts to cut his way through the roof of the speeder. Zam takes out her laser pistol and starts firing at the helpless Jedi, knocking the sword out of Anakin's hand. Obi-Wan races under the speeder and catches the Jedi weapon in the passenger's seat. ","Anakin sticks his hand into the cockpit and grabs the gun in Zam's hand. They struggle for the weapon. It goes off, blowing the dashboard and speeder controls to bits. The speeder careens wildly out of control. Zam struggles to pull the speeder out of its' nosedive. Obi-Wan gets slowed down by traffic and loses sight of the bounty hunter's speeder. ","Just as the speeder is about to nose dive into the ground, Zam pulls it out, and it slides hard on the pavement in a shower of sparks. Anakin goes flying into the street. ","EXT. ENTERTAINMENT STREET ' NIGHT","Anakin slowly pulls himself up, clutching his ribs painfully. Zam leaps out of the smoking speeder and rushes out into the crowd. Anakin moves to give chase into the very crowded street. ","It's the seedy underbelly of the city. Broken sidewalks, garish lights reflected in filthy puddles. It's pretty crowded with various alien lowlifes, panhandling droids, and the occasional group of upper-class slummers. Anakin barges into several of them as he chases after the fleeing Zam. He loses the bounty hunter in the crowd, then sees her again. The young Jedi is having a very difficult time getting through the crowd. Obi-Wan lands the speeder in the nearby street. He gets out and runs through the crowd toward Anakin.","Ahead, Zam turns in through a door and disappears. A nightclub sign is flashing over the door. Anakin is just about to follow Zam into the nightclub when Obi-Wan catches up to him. ","OBI-WAN: Anakin!","ANAKIN: She went into the club, Master --","OBI-WAN: Patience. Use the Force. Think.","ANAKIN: Sorry, Master. ","OBI-WAN: He went in there to hide, not to run. ","ANAKIN: Yes, Master. ","Obi-Wan then offers Anakin his lightsaber.","OBI-WAN: Here. Next time try not to lose it. ","Anakin reaches for the lightsaber, but Obi-Wan holds it back. ","OBI-WAN: This weapon is your life. ","ANAKIN: (getting irritated) I've heard this lesson before ' ","Obi-Wan finally gives Anakin the lightsaber. ","OBI-WAN: But you haven't learned anything, Anakin. ","Obi-Wan releases hold of the lightsaber. ","ANAKIN: I try, Master.","Obi-Wan walks ahead through the club entrance. Anakin follows him.","OBI-WAN: Why do I get the feeling you're going to be the death of me?","INT. NIGHTCLUB (CORUSCANT) ' NIGHT","Obi-Wan and Anakin enter the nightclub bar, and everyone stares at them. Anakin flinches at Obi-Wan's last line, his eyes showing a bit of fear. ","ANAKIN: Don't say that, Master. You're the closest thing I have to a father. I love you, I don't want to cause you pain. ","OBI-WAN: Then why don't you listen to me?!?","ANAKIN: I am trying. ","The two Jedi look around the crowded nightclub. Beings of all shapes, sizes and races are lounging around drinking and chatting. At the far wall, three giant screens are depicting sports events ' a Podrace, droid football, and a nuna race. ","OBI-WAN: Can you see him? ","ANAKIN: I think he is a she'and I think she's a changeling.  ","OBI-WAN: In that case, be extra careful. (nods to the room) Go and find her.","Obi-Wan starts to move away. ","ANAKIN: Where are you going, Master? ","OBI-WAN: For a drink. ","Obi-Wan heads for the bar. Anakin blinks in surprise, then moves into the room where alien faces look back at him with hostility, suspicion, and invitation as he moves among the tables. ","Obi-Wan arrives at the bar. He nods to the bartender and points out a drink. ","CLOSE SHOT ' Elsewhere in the room, someone unsnaps the safety on their holstered blaster'","As Obi-Wan picks up his blue drink, he is immediately disturbed by a young gravelly-voiced troublemaker named ELAN SLEAZEBAGGANO. ","ELAN: You want to buy some death sticks? ","Without even looking at him, Obi-Wan casually waves his hand in front of Elan's face.","OBI-WAN: You don't want to sell me death sticks. ","ELAN: I don't want to sell you death sticks'","OBI-WAN: You want to go home and rethink your life.","ELAN: I want to go home and rethink my life'","The young thug wanders off, hypnotized. Obi-Wan downs his drink in one gulp. ","CLOSE SHOT. The blaster leaves its' holster. Zam starts to move stealthily toward the bar'","Anakin continues to wander through the bar, searching the faces for the assassin. Obi-Wan signals to the bartender for another drink. Zam sneaks up behind him as he reaches for his drink, blaster raised and aiming at the Jedi's back'","With lightning speed, Obi-Wan whirls around, igniting his lightsaber, and chops Zam's blaster-arm clear across the room. Zam stumbles back with a gasp and lands on her rear, clutching her burnt stump. All talk in the room stops instantly. Anakin rushes over as Obi-Wan hauls up the injured Zam.","ANAKIN: (to the crowds) Easy. Jedi business ' go back to your drinks.","Slowly, the patrons sit down and resume their merriment. The performers onstage resume their show. The two Jedi drag Zam out of the room. ","EXT. ALLEY OUTSIDE NIGHTCLUB -- NIGHT","Obi-Wan and Anakin carry Zam into an alley behind the nightclub and lower her to the ground. Obi-Wan starts to tend to her bleeding arm stump as she stares daggers at him and Anakin both. ","OBI-WAN: Do you know who it was you were trying to kill? ","She winces in pain, then nods. ","ZAM WESELL: It was the Senator from Naboo'","OBI-WAN: And who hired you? ","She stares coldly at him. ","ZAM WESELL: It was just a job. ","ANAKIN: Who hired you?!? Tell us... ","ZAM WESELL: That Senator's gonna die soon anyway. It won't end with me. And the next one won't make the same mistake I did. ","OBI-WAN: (frowning at the stump) This wound's going to need treatment'","ANAKIN: Tell us ' TELL US NOW!!","She stares glassy-eyed at Anakin, her lips twitching under Anakin's Force-powered demand. Obi-Wan stares at him in surprise. ","ZAM WESELL: It was a bounty hunter called ' ","FZZZT!! Zam suddenly seizes up, convulsing. The two Jedi look up at a WHOOSHING sound from above. A man, fully armored, his face hidden by a metal helmet, rises from a roof high above into the sky on a jetpack and flies out of sight. Zam's face begins to undulate'then settles into a gray reptilian form as Zam, with a last gurgling noise and eyeblink of surprise, sags in death. Obi-Wan looks down at the dead Zam'and gingerly plucks a small metal dart out of the front of her neck. ","OBI-WAN: Toxic dart'","He looks back up at where the armored man had flown away from. ","EXT. JEDI TEMPLE ' DAY","The tall spires of the Jedi Temple stand out against the blue sky. ","INT. JEDI TEMPLE, COUNCIL CHAMBER -- DAY","Obi-Wan and Anakin stand in the center of a very worried Jedi Council. The Council members pass the toxic dart around each other. ","YODA: Track down this bounty hunter you must, Obi-Wan. ","MACE WINDU: Most importantly, find out who he's working for. ","OBI-WAN: What about Senator Amidala? She will still need protecting. ","YODA: Handle that, your Padawan will'","Anakin is overjoyed to hear this. ","MACE WINDU: Anakin, escort the Senator back to her home planet of Naboo. She'll be safer there. And don't use registered transport ' travel as refugees. ","ANAKIN: As the leader of the opposition, it will be very difficult to get Senator Amidala to leave the capitol. ","YODA: Until caught this killer is, our judgment she must respect. ","MACE WINDU: Anakin, go to the Senate and ask Chancellor Palpatine to speak with her about this matter. Keep a low profile, Anakin ' we want you off Coruscant before they can strike again. ","ANAKIN: Yes, Master. ","MACE WINDU: You are dismissed. ","YODA: May the Force be with you. ","The two Jedi bow and leave the Council Chamber. ","INT. SENATE BUILDING, PALPATINE'S OFFICE -- DAY","Anakin joins Palpatine at the great window of his office, both staring side-by-side out at the vast city.","PALPATINE: I will talk with her. Senator Amidala will not refuse an executive order. I know her well enough to assure you of that. ","ANAKIN: Thank you, Your Excellency. ","Palpatine smiles warmly. ","PALPATINE: And so, my young Padawan'they have finally given you an assignment. Your patience has paid off. ","ANAKIN: Your guidance, more than my patience. ","Anakin and Palpatine turn away from the windows and walk through the office towards the door. ","PALPATINE: You don't need guidance, Anakin. In time you will learn to trust your feelings'then you will be invincible. I have said it many times, you are the most gifted Jedi I have ever met.","ANAKIN: (pleased at the compliments) Thank you, your Excellency. ","PALPATINE: I see you becoming the greatest of all the Jedi, Anakin. Even more powerful than Master Yoda. ","Anakin's head is swimming with the Chancellor's flattery. ","INT. JEDI TEMPLE, ATRIUM -- DAY","Obi-Wan walks alongside Mace Windu in one of the Temple's many vast corridors. Yoda floats alongside on a tiny repulsor chair.","OBI-WAN: I am concerned for my Padawan. He is not ready to be given this assignment on his own yet. ","YODA: The Council is confident in its' decision, Obi-Wan. ","MACE WINDU: The boy has exceptional skills. ","OBI-WAN: But he still has much to learn, Master. His abilities have made him' well'. arrogant. ","YODA: Yes, yes. A flaw more and more common among Jedi. Hmm'too sure of themselves they are. Even the older, more experienced ones. ","MACE WINDU: Remember, Obi-Wan ' if the prophecy is true, your apprentice is the only one who can bring the Force back into balance. ","OBI-WAN: (foreboding) If he follows the right path. ","EXT. APARTMENT BUILDING -- DAY","Outside Senator Amidala's bedroom, a pair of floating droids fit a new window pane into place. ","INT. APARTMENT BUILDING, AMIDALA'S APARTMENT ' DAY","Anakin looks on as Padme and Jar Jar talk, standing near the door of the anteroom to Padme's bedroom. Dorme moves about, frantically packing luggage.  ","PADME: I'm taking an extended leave of absence. It will be your responsibility to take my place in the Senate. Representative Binks, I know I can count on you.  ","JAR JAR: You betcha yousa bottoms! ","PADME: (grin) What?!? ","Jar Jar cringes and clears his throat. ","JAR JAR: Mesa honored to be taken on dissa heavy burden. (pompously) Mesa accept dis with muy'muy humility anda --","Padme cuts Jar Jar off in mid-speech with a hug and a kiss on the cheek. The Gungan blushes. ","PADME: Jar Jar' I don't wish to hold you up. I'm sure you have a great deal to do. ","JAR JAR: Of course, M'Lady. ","The Gungan bows, turns and leaves with a dazzling smile on his face. Padme walks briskly over to Anakin, in a very sour mood. ","PADME: I do not like this idea of hiding. ","ANAKIN: Don't worry. Now that the Council has ordered an investigation, it won't take Master Obi-Wan long to find this bounty hunter.","Padme crosses over to her closet and starts to throw clothes into a suitcase on her bed.","PADME: (frustrated) I've haven't worked for a year to defeat the Military Creation Act to not be here when its' fate is decided!!","ANAKIN: Sometimes we have to let go of our pride and do what is requested of us. ","PADME: PRIDE?!? Ani, you're young and you don't have a very firm grip on politics. I suggest you reserve your opinions for some other time!!","Anakin is shaken by the hurt in Padme's voice. ","ANAKIN: Sorry, M'Lady. I was only trying to ' ","PADME: Ani, NO!","ANAKIN: Please don't call me that. ","PADME: What??","ANAKIN: Ani. ","PADME: I've always called you that. It is your name, isn't it? ","ANAKIN: It's Anakin. When you say Ani it's like I'm still a little boy' and I'm not. ","PADME: I'm sorry -- Anakin. It's impossible to deny that you've'(smiles as she looks him over) that you've grown up. ","Anakin becomes a little shy. ","ANAKIN: Master Obi-Wan manages not to see it. ","He crosses over to the new window as Padme continues to pack. He picks up a metal sphere and mentally raises it into the air, floating it around his arm with the Force. ","ANAKIN: Don't get me wrong ' Obi-Wan is a great mentor. As wise as Master Yoda and as powerful as Master Windu. I am truly thankful to be his apprentice. ","He puts the sphere back. ","ANAKIN: Only' although I'm a Padawan Learner, in some ways'in a LOT of ways'I'm really ahead of him. I'm ready for the trials, I KNOW I am! He knows it too! But he feels that I'm too unpredictable. Other Jedi my age have gone through the trials and made it. I know I started my training late, but he won't let me move on.","Padme looks at him knowingly. ","PADME: That must be frustrating. ","ANAKIN: It's worse. He's overly critical, he never listens -- he doesn't understand!! It's not fair'","PADME: Well, mentors have a way of seeing more of our faults than we would like. It's the only way we grow.","Padme fails to suppress a laugh, and shakes her head. Anakin scowls at her. ","PADME: I'm sorry. You sounded exactly like that little boy I once knew, when he didn't get his way. ","ANAKIN: (pouting) I'm not whining! I'm not. ","Padme just smiles, as Dorme laughs in the background.   ","PADME: I didn't say it to hurt you.","Anakin sighs and sits back on the bed. ","ANAKIN: I know'","A brief pause, then Padme walks over to Anakin. ","PADME: Anakin' don't try to grow up too fast. ","Anakin gets up and meets her gaze, and the air between them becomes electric. They look deeply into each other's eyes. ","ANAKIN: But I am grown up. You said it yourself. ","Padme blinks first. ","PADME: Please don't look at me like that. ","ANAKIN: Why not? ","PADME: Because I can see what you're thinking. ","ANAKIN: (half laugh) Ah'so you have Jedi powers too? ","Dorme looks at Padme with growing concern. ","PADME: It makes me feel uncomfortable. ","ANAKIN: (he doesn't mean it) Sorry, M'Lady. ","Padme moves away from Anakin and continues packing. The Jedi apprentice has a sly smirk on his face. ","EXT. CORUSCANT, SPACEPORT FREIGHTER DOCKS, TRANSPORT BUS -- DAY","A small airbus speeds toward the massive freighter docks of Coruscant's industrial area. The spaceport is bustling with activity. Transports of various sizes move supplies and passengers as giant floating cranes life cargo out of the starships. The bus stops before a huge, intergalactic freighter starship. It parks in the shadows of an overhang. ","INT. CORUSCANT, SPACEPORT FREIGHTER DOCKS, TRANSPORT BUS -- DAY","Padme and Anakin, dressed in Outland peasant clothing, get up and head for the door where Captain Typho, Dorme and Obi-Wan are waiting to hand them their luggage. ","TYPHO: Be safe, M'Lady.","PADME: Thank you, Captain. Take good care of Dorme...the threat's on you two now. ","DORME: He'll be safe with me.","The group laughs. Dorme starts to weep as Padme tenderly embraces her surviving handmaiden in a fond farewell. ","PADME: You'll be fine. ","DORME: It's not me, M'Lady. I worry about you. What if they realize you've left the capitol'? ","PADME: Well, then my Jedi protector will have to prove how good he is. ","Dorme laughs through her tears as Padme grins at Anakin. Obi-Wan notices the grin, and with a frown pulls Anakin aside and whispers. ","OBI-WAN: Anakin, you stay put on Naboo. Do not attract any attention to either yourself or the Senator. Don't do anything without first consulting either myself or the Council. ","ANAKIN: Yes, Master. ","Obi-Wan looks at him uneasily, as if gauging his sincerity, but turns back to Padme. ","OBI-WAN: I'll get to the bottom of this plot quickly, M'Lady. You'll be back here in no time. ","PADME: I'll be most grateful for your speed, Master Jedi. ","ANAKIN: It's time to go. ","PADME: I know. ","Padme gives Dorme one last hug, as Anakin picks up the luggage. The two exit the speeder bus, where Artoo is waiting for them. ","OBI-WAN: Anakin, may the Force be with you.","ANAKIN: May the Force be with you, Master. ","The two young people disappear into the spaceport with Artoo. ","PADME: Suddenly, I'm afraid'","ANAKIN: This is my first assignment on my own. I am too. ","Padme is wide-eyed, but recovers quickly. ","ANAKIN: But don't worry'we have Artoo with us. ","Artoo beeps in the affirmative as Padme laughs. ","Back at the speeder taxi, Obi-Wan continues to stare with worry at the spaceport. ","OBI-WAN: I do hope he doesn't try anything foolish. ","TYPHO: I'd be more concerned about her doing something than him.  ","EXT. FREIGHTER DOCKS, CORUSCANT -- DAY","The freighter slowly rises from the dock area, and shoots into the crowded sky.","INT. JEDI TEMPLE, MAIN HALLWAY - LATE DAY","From high above, light streams down from the lofty ceilings. Obi-Wan crosses the floor of the great hallway, heading for the Analysis Rooms.","INT. JEDI TEMPLE, ANALYSIS CUBICLES - LATE DAY","Obi-Wan walks past several glass cubicles where work is going on. He comes to an empty one and sits down in front of a console. A SP-4 ANALYSIS DROID comes to life, and a tray slides out of the console before the Jedi Master. ","SP-4: Place the subject for analysis on the sensor tray, please. ","Obi-Wan puts the dart onto the tray, which retracts into the console. The droid activates the system, and a screen lights up in front of Obi-Wan. ","OBI-WAN: It's a toxic dart. I need to know where it came from and who made it. ","SP-4: One moment please' ","Diagrams and scan data appear on the console in a blur of speed as SP-4 whirs quietly to itself. Obi-Wan waits. Finally the screen goes blank, and the tray slides back out. ","SP-4: Markings cannot be identified. As you can see on your screen, subject weapon does not exist in any known culture. Probably self-made by a warrior not associated with any known society. Stand away from the sensor tray please. ","OBI-WAN: Excuse me? Could you try again, please?","SP-4: Master Jedi, our records are very thorough. They cover eighty percent of the galaxy. If I can't tell you where it came from, nobody can.","Obi-Wan frowns in frustration as he takes the dart.","OBI-WAN: Thank you for your assistance. ","He thinks for a moment, then brightens. ","OBI-WAN: I know who can identify this'","SP-4 gives an incredulous sniff as Obi-Wan walks off. ","IRIS IN:","EXT. CORUSCANT, DOWNTOWN, BACK STREET -- MORNING","Obi-Wan walks down the street. It is a pretty tough part of town. Old buildings, warehouses, beat up speeders and transporter rigs thundering past. Above, the old elevated monospeed with occasional 'shiny freighters' hissing through. ","Obi-Wan comes to a kind of alien diner. On the steamed-up windows it says 'Dex's Diner,' in alien lettering. He goes inside. ","INT. CORUSCANT, DEX'S DINER -- MORNING","A WAITRESS DROID, WA-7, is carrying plates of half-eaten food. There is a counter with stools and a line of booths along the wall by the window. A number of CUSTOMERS are eating ' TOUGH-LOOKING WORKERS, FREIGHTER DRIVERS, ETC. The waitress droid looks up as Obi-Wan comes in.  ","WA-7: Can I help ya? ","OBI-WAN: I'm looking for Dexter. ","The waitress droid approaches Obi-Wan. ","WA-7: Waddya want him for? ","OBI-WAN: Relax ' he's not in trouble. It's personal. ","There is a brief pause, then the droid goes to the open serving hatch behind the counter. ","WA-7: Someone to see ya, honey. (whisper) A Jedi by the looks of him. ","Steam billows out from the kitchen hatch behind the counter as a huge head pokes through. ","DEXTER JETTSTER: Obi-Wan!","Obi-Wan grins like a schoolboy. ","OBI-WAN: Hello, Dex. ","DEXTER JETTSTER: Take a seat! I'll be right with ya!","Obi-Wan sits in a booth. ","WA-7: You want a cup of java juice? ","OBI-WAN: Oh yes, thank you.  ","The waitress droid moves off as the door to the counter opens and DEXTER JETTSTER appears. He is big ' bald and sweaty, old and alien. Not someone to tangle with. He arrives, beaming hugely, and hugs Obi-Wan with three of his four arms ' his other arm pulls his pants up. ","DEXTER JETTSTER: Hey, ol' buddy!","OBI-WAN: Hey, Dex. ","Dexter eases himself into the seat opposite Obi-Wan. With his huge girth, he can just make it.  ","DEXTER JETTSTER: So, my friend. What can I do for ya? ","OBI-WAN: You can tell me what this is. ","Obi-Wan places the dart on the table between them. Dex's eyes widen, and he puts down his mug before he drinks it. ","DEXTER JETTSTER: (softly) Wow, waddya know'","Dexter picks up the dart delicately between his puffy fingers and peers at it.","DEXTER JETTSTER: I ain't seen one of these since I was prospecting on Subterrel, beyond the Outer Rim! ","OBI-WAN: Can you tell me where it came from? ","The waitress droid rolls up with Obi-Wan's drink. ","OBI-WAN: (as he takes the drink) Thank you. ","Dexter grins and puts the dart down between them. ","DEXTER JETTSTER: I know exactly where it's from. This baby belongs to them cloners. What you got here is a Kamino saberdart. ","OBI-WAN: Kamino saberdart'I wonder why it didn't show up in the analysis archives?  ","DEXTER JETTSTER: (indicates the dart) It's these funny little cuts on the side that give it away. Those analysis droids you've got over there only focus on symbols, you know. Heh -- I should think that you Jedi would have more respect for the difference between knowledge and'heh heh heh' wisdom.","OBI-WAN: (smirk) Well Dex, if droids could think, there'd be none of us here, would there?  ","The two laugh. ","OBI-WAN: Kamino'I'm not familiar with it. Is it in the Republic? ","DEXTER JETTSTER: No no, it's out beyond the Outer Rim. I'd say about twelve parsecs outside the Rishi Maze towards the south. It should be easy to find, even for those droids in your archives. These, uh' Kaminoans keep to themselves. They're cloners. Damned good ones, too. ","Obi-Wan picks up the dart, holding it midway between them. ","OBI-WAN: Cloners? Are they friendly?","DEXTER JETTSTER: (mysterious smile) Oh, depends. ","OBI-WAN: Depends on what, Dex? ","Dexter's grin grows wider. ","DEXTER JETTSTER: On how good your manners are'and how big your, uh, pocketbook is...","Dex laughs heartily, as a smiling Obi-Wan looks down at the dart again. ","INT. JEDI TEMPLE, JEDI HALL OF RECORDS ' DAY","The bronze bust of an elderly bearded man stands among a line of other busts of Jedi in the Archive Room. Obi-Wan stops in front of it, studying the striking features of the chiseled face. On the walls, lighted computer panels seemed to stretch into infinity. Farther along the room in the background, five Jedi are seated at tables, studying archival material.","Obi-Wan studies the bust for a few moments before Madame JOCASTA NU, the Jedi Archivist, comes up and stands next to him. She is an elderly, frail-looking human Jedi dressed in a yellow and brown robe. She's tough as old boots and smart as a whip. ","JOCASTA NU: Did you call for assistance? ","OBI-WAN: (slightly distracted) Yes'yes, I did. ","Jocasta Nu notices the bust Obi-Wan's studying. ","JOCASTA NU: He has a powerful face, doesn't he? He was one of the most brilliant Jedi I have had the privilege of knowing. ","OBI-WAN: I never understood why he quit. Only twenty Jedi have ever left the Order.","JOCASTA NU: (sigh) 'The Lost Twenty'' Count Dooku was the most recent and the most painful. No one likes to talk about it. His leaving was a great loss to the order.","OBI-WAN: What happened? ","JOCASTA NU: Well'Count Dooku was always a bit out of step with the decisions of the Council. Much like your old Master, Qui-Gon Jinn. ","OBI-WAN: (surprised) Really? ","JOCASTA NU: Oh, yes. They were alike in many ways. Very individual thinkers, idealists' ","Jocasta Nu gazes at the bust as she speaks. ","JOCASTA NU: He was always striving to become a more powerful Jedi. He wanted to be the best. With a lightsaber, in the old style of fencing, he had no match. His knowledge of the Force was'unique. (beat) In the end, I think he left because he lost faith in the Republic. He believed that politics were corrupt, and he felt the Jedi betrayed themselves by serving the politicians. He always had very high expectations of government. He disappeared for nine or ten years, then just showed up recently as the head of the separatist movement.","OBI-WAN: It's very interesting. I'm not sure I completely understand.","JOCASTA NU: Well, I'm sure you didn't call me over here for a history lesson. Are you having a problem, Master Kenobi?","Obi-Wan leads Jocasta over to the computer terminal he was working on.","OBI-WAN: Yes. Um, I'm trying to find a planetary system called Kamino. It doesn't show up in any of the archive charts. ","JOCASTA NU: Kamino? It's not a system I'm familiar with. Let me see'","Jocasta Nu leans over Obi-Wan's shoulder, studying the screen closely. ","JOCASTA NU: Are you sure you have the right coordinates? ","OBI-WAN: (nods) According to my information, it should appear in this quadrant here. Just south of the Rishi Maze. ","Jocasta Nu types some commands on the keyboard, and frowns at what she sees. ","JOCASTA NU: No coordinates? It sounds like the sort of directions you'd get from a street tout. Some old miner, or Furbog trader'","OBI-WAN: (smiles) All three, actually. ","JOCASTA NU: Are you sure it exists?","OBI-WAN: Absolutely. ","Jocasta grows more worried at what she sees on the monitor. ","JOCASTA NU: Let me do a gravitational scan' ","On the monitor, a star map hologram comes up. Several items blink up for attention. ","JOCASTA NU: Hmm. There are some inconsistencies here. Maybe the planet you're seeking was destroyed. ","OBI-WAN: Wouldn't that be on record? ","JOCASTA NU: It ought to be, unless it was very recent. (types some more, then shakes her head) I hate to say it, but it looks like the system you're searching for doesn't exist. ","OBI-WAN: Impossible'perhaps the archives are incomplete. ","JOCASTA NU: (archly) The archives are comprehensive and totally secure, my young Jedi. One thing you may be absolutely sure of - if an item does not appear in our records, it does not exist!","With an arrogant sniff, Jocasta Nu turns and notices a young boy approach. She walks away from Obi-Wan and leaves with the youngster. Obi-Wan stares at her, then looks back to the map.","EXT. SPACE, STARSHIP FREIGHTER ","The massive, slow-moving Freighter moves through space.","INT. STARFREIGHTER , STEERAGE HOLD -- DAY","The dark lower hold of the starfreighter is packed with emigrants of all shapes, sizes and races. Artoo rolls through the heavy crowds towards a food line at one end of the hold. With two tiny claws that shoot out from his side, Artoo picks up two empty bowls and joins the line. At the beginning of the line, the cooks are ladling mush into bowls for the passengers. ","SERVER DROID: Keep moving, keep moving'","Artoo then moves down the line, extending a small straw into one of the tubs of mush at the bar. With the straw, the little droid sucks a huge amount of the mush. Another claw comes out of the droid's side and it takes up a few rolls of bread. The server droid glowers at little Artoo. ","SERVER DROID: HEY YOU!! NO DROIDS!! GET OUTTA HERE!!","With an 'Excuse me' set of beeps, Artoo takes one last suck at the mush and rolls away from the line with the two bowls and the bread rolls as the server droid shouts after him.  ","The little droid moves past groups of eating or sleeping emigrants including Sullustans, Aqualish, Ishi Tib and other species. He comes to where Anakin is sound asleep. The young Jedi seems to be having a nightmare and is very restless.","ANAKIN: n'no'mom, no'","The Jedi apprentice is covered in sweat as he tosses and turns. Padme leans over him and starts to wipe the sweat away from his brow, and Anakin awakens with a start. ","ANAKIN: Wha--??","Artoo hands Padme the two bowls. Extending the straw again, it begins to dispense mush from its' body into the bowls like a beer tap. ","PADME: You seemed to be having a nightmare. ","Anakin stares at Padme, wondering how much of his nightmare she overheard. She hands him one of the bowls and a bread roll. ","PADME: Are you hungry? ","ANAKIN: (quickly) Yeah. ","He pulls himself up, and the two sit across the bunk and use it as a small table. ","ANAKIN: Thanks. ","PADME: Thank you, Artoo. ","Artoo beeps happily and rolls away. ","PADME: We went to lightspeed a while ago. ","ANAKIN: I'm looking forward to seeing Naboo again. I've thought about it every day since I left. It's by far the most beautiful place I've ever seen'","His eyes never leave Padme as he speaks. The intensity of his stare unnerves her, and she concentrates on her food. ","PADME: You were just a little boy then. It may not be as you remember it. Time changes perception. ","ANAKIN: Sometimes it does. Sometimes for the better. ","Padme is growing very uncomfortable with this talk. As Anakin eats, she tries to change the subject. ","PADME: It must be difficult, having sworn your life to the Jedi. Not being able to visit the places you like'or do the things you like'","ANAKIN: 'or be with the people that I love. ","PADME: Are you allowed to love? I thought that was forbidden for a Jedi. ","ANAKIN: Attachment is forbidden. Possession is forbidden. Compassion ' which I would define as unconditional love ' is central to a Jedi's life. So you might say that'we are encouraged to love. ","PADME: (smiles wistfully) You have changed so much'","ANAKIN: You haven't changed a bit. You're exactly the way I remember you in my dreams.","Padme blushes. ","ANAKIN: I doubt if Naboo has changed much either. ","PADME: It hasn't ' ","ANAKIN: (stepping over her words) I can't wait to breathe the sweet breeze that comes off the rolling hills. Whenever I try to visualize the Force, those hills are what I see. (pause) I love Naboo. ","Another awkward moment. Anakin's words say he loves Naboo, but his intent stare at Padme says something else entirely. Padme again tries to change the topic. ","PADME: You were dreaming about your mother earlier, weren't you? ","ANAKIN: (quiet) Yes. It's true. (looks down) I left Tatooine so long ago, my memory of her is fading. I don't want to lose it. Recently I've been seeing her in my dreams. Vivid dreams. (beat, then whisper) Scary dreams. I worry about her'","Padme gives a small, sympathetic smile.","PADME: I'd be disappointed if you didn't. You didn't leave her in the best of circumstances. ","Anakin winces. Padme puts her hand on his forearm. ","PADME: Trust me, Anakin'you did the right thing in going. For yourself, but more importantly, for your mother. ","Anakin can't argue with that. ","INT. JEDI TEMPLE, MAIN HALLWAY ' DAY","Obi-Wan walks through the main hallway of the Jedi Temple to the training area. ","INT. JEDI TEMPLE, TRAINING VERANDA -- DAY","Obi-Wan comes out onto the veranda and stops. He watches twenty or so four year olds of various races doing training exercises, supervised by Jedi Master Yoda. The younglings wear helmets over their eyes and try to strike little training droids with their miniature lightsabers. The droids dance in front of them. ","YODA: Reach out and sense the Force around you. Use your feelings, you must. ","Yoda notices Obi-Wan and taps the ground with his cane. ","YODA: Younglings ' Younglings, enough! A visitor we have. Welcome him.","The children take off their helmets and turn off their lightsabers. The training droids float up to the ceiling, out of sight. ","YODA: Master Obi-Wan Kenobi, meet the mighty Bear Clan.","CHILDREN: Hello, Master Obi-Wan!","OBI-WAN: Hello. (to Yoda) I am sorry to disturb you, Master.","YODA: What help can I be, Obi-Wan? Hmm? ","OBI-WAN: I'm looking for a planet described to me by an old friend. I trust him. But the systems don't show in the archive maps.","YODA: Hmm. Lost a planet Master Obi-Wan has. How embarrassing, how embarrassing...","One of the children smothers a giggle. ","YODA: Liam, the shades. An interesting puzzle' ","One of the children, LIAM, closes the shades. ","YODA: Gather around the map reader. Clear your minds, and find Obi-Wan's wayward planet we will. Bobby, the lights please'","BOBBY turns off the lights, casting the room into darkness. Yoda gathers the younglings around the map reader. The map reader is a small shaft with a hollow opening at the top. The children gather around it. Obi-Wan takes out a little glass ball and places it into the bowl. The window shades close darkening the room and the reader lights up, projecting the star map hologram into the room. The children laugh. Some of them reach up to try and touch the nebulae and stars. Obi-Wan walks into the display. ","OBI-WAN: (pointing) It ought to be'here' but it isn't. Gravity is pulling all the stars in the area towards this spot. ","YODA: Most interesting' Gravity's silhouette remains, but the star and all the planets'disappeared, they have. How can this be?","Yoda turns to the class. ","YODA: Now younglings'in your mind, what is the first thing you see? An answer, hmm? A thought? Anyone? ","There is a brief pause. Then a child puts its hand up. Yoda nods.","JK BURTOLA: Master? Because someone erased it from the archive memory.","CHILDREN: That's right! Yes! That's what happened! Someone erased it!","MARI AMITHEST: (another of the children) If the planet blew up, the gravity would go away.","YODA: (chuckles) Truly wonderful, the mind of a child is. Uncluttered. The Padawan is right ' go to the center of gravity's pull, and find your planet you will.","Yoda and Obi-Wan move away from the children. With a hand movement, Obi-Wan causes the star map to disappear. He uses the Force to call the glass ball back to his hand as the two walk into an adjoining room. ","YODA: Hmm'the data must have been erased. ","OBI-WAN: But Master Yoda, who could empty information from the archives? That's impossible, isn't it?","YODA: (frowns) Dangerous and disturbing this puzzle is. Only a Jedi could have erased those files. But who and why'harder to answer. Meditate on this, I will. May the Force be with you. ","Obi-Wan bows and walks off as Yoda walks back toward the children.","EXT. ANOTHER LANDING PLATFORM ' DAY","Obi-Wan's red-and-white Delta-7 starfighter is ready for takeoff. Obi-Wan and Mace Windu stand beside it.","MACE WINDU: Be wary, the disturbance in the Force is growing stronger.","Obi-Wan nods'then sighs with worry. ","OBI-WAN: Master, he should not have been given this assignment. I'm afraid Anakin won't be able to protect the Senator.","MACE WINDU: Why?","OBI-WAN: He has a' an emotional connection with her. It's been there since he was a boy. Now he is confused, distracted...","MACE WINDU: Obi-Wan, you must have faith that he will take the right path.","Obi-Wan then climbs into the cockpit of his starfighter. Mace smiles and waves. ","MACE WINDU: May the Force be with you.","OBI-WAN: (to his droid) Set course for the hyperspace ring, Arfour. ","Mace steps back as the Jedi Starfighter warms up and lifts off into the sky.","EXT. NABOO SPACEPORT  ' DAY","The starfreighter lands in the giant port city of Theed. Among the departing passengers are Anakin and Padme (dressed as peasants) and Artoo. They head over to the main plaza where they board a speeder bus. ","EXT. NABOO PALACE, GRAND COURTYARD -- AFTERNOON","The speeder bus pulls up and stops at the Grand Courtyard of Theed, and Anakin, Padme and Artoo get out. Anakin stares out at the wide, beautiful courtyard in wonder. The great courtyard stretches before them, and they see the rose-colored domes of the palace on the far side. Artoo whistles. They pick up their gear and start to cross the courtyard. Artoo trundles behind them. ","ANAKIN: If I grew up here, I don't think I'd ever leave. ","PADME: (laughs) I doubt that. ","ANAKIN: No, really. When I started my training, I was very homesick and very lonely. This city and my Mom were the only pleasant things I had to think about' (beat) The problem was, the more I thought about my Mom, the worse I felt. But I would feel better if I thought about the palace. The way it shimmers in the sunlight. The way the air always smells of flowers'","PADME: (wistful) 'and the soft sound of the distant waterfalls. The first time I saw the capitol, I was very young. I'd never seen a waterfall before. I thought they were so beautiful'I never dreamed one day I'd live in the palace. ","ANAKIN: Well, tell me, did you dream of power and politics when you were a little girl?","PADME: (laughing) No! That was the last thing I thought of. But the more history I studied, the more I realized how much good politicians could do. After school I became a Senatorial advisor, with such a passion that before I knew it I was elected Queen. Partly because I scored so high on my education certificate, but for the most part it was my conviction that reform was possible. (beat) I wasn't the youngest Queen ever elected, but now that I think back on it, I'm not sure I was old enough. I'm not sure I was ready.","ANAKIN: The people you served thought you did a good job. I heard they even tried to amend the Constitution so you could stay in office.","Padme frowns at this. ","PADME: Popular rule is not democracy, Ani. It gives the people what they want, not what they need. And, truthfully, I was relieved when my two terms were up.","She looks down at the ground in contemplation. ","PADME: So were my parents. They worried about me during the blockade and couldn't wait for it all to be over. Actually, I was hoping to have a family by now' (grins at Anakin) My sisters have the most amazing, wonderful kids' but when the Queen asked me to serve as Senator, I couldn't refuse her.","ANAKIN: I agree with her! I think the Republic needs you' I'm glad that you chose to serve. I feel things are going to happen in our generation that will change the galaxy in profound ways.","PADME: I think so too.","Anakin and Padme walk toward the palace. Artoo continues to follow. ","INT. NABOO PALACE, THRONE ROOM -- AFTERNOON","QUEEN JAMILLIA is seated on the throne, flanked by SIO BIBBLE and a COUPLE OF ADVISORS. FOUR HANDMAIDENS stand close by, and GUARDS are at the doors. Outside the throne room, Artoo waits. ","QUEEN JAMILLIA: We've been worried about you. (takes Padme's hand) I'm so glad you're safe, Padme. ","PADME: Thank you, your Highness. I only wish I could have served you better by staying on Coruscant for the vote. ","SIO BIBBLE: Supreme Chancellor Palpatine has explained it all. Given the circumstances, Senator, returning home was the only real choice you could have made. ","Padme gives Bibble a resigned nod. ","QUEEN JAMILLIA: How many systems have joined Count Dooku and the separatists?","PADME: Thousands. And more are leaving the Republic every day. If the Senate votes to create an army, I'm sure it's going to push us into a civil war. ","Both Jamillia and Sio are shaken by this. ","SIO BIBBLE: It's unthinkable! There hasn't been a full-scale war since the formation of the Republic!","QUEEN JAMILLIA: Do you see any way, through negotiations, to bring the separatists back into the Republic?","PADME: Not if they feel threatened. The separatists don't have an army, but if they are provoked, they will move to defend themselves. I'm sure of that. And with no time or money to build an army, my guess is they will turn to the Trade Federation or the Commerce Guilds for help.","QUEEN JAMILLIA: The armies of commerce! Why has nothing been done in the Senate to restrain them?!? ","PADME: I'm afraid that, despite the Chancellor's best efforts, there are still many bureaucrats, judges, and even Senators on the payrolls of the Guilds. ","SIO BIBBLE: It's outrageous that after all of those hearings and four trials in the Supreme Court, Nute Gunray is still the viceroy of the Trade Federation. I fear the Senate is powerless to resolve this crisis. Do those money mongers control everything?","QUEEN JAMILLIA: Remember, Counselor, the courts were able to reduce the Federation's armies. (beat) That's a move in the right direction.","PADME: (winces) There are rumors, Your Highness, that the Federation Army was not reduced as they were ordered.","ANAKIN: The Jedi have not been allowed to investigate. It was' considered to be too dangerous for the economy.","QUEEN JAMILLIA: (smiles) We must keep our faith in the Republic. ","The Queen rises from her throne, and everyone else rises with her. She crosses over to Padme. ","QUEEN JAMILLIA: The day we stop believing democracy can work is the day we lose it.","PADME: Let's pray that day never comes.","QUEEN JAMILLIA: In the meantime, we must consider your own safety.","Anakin, Padme, the Queen, and Bibble walk towards the open throne room doors. The handmaidens trail along behind them.","SIO BIBBLE: What is your suggestion, Master Jedi? ","PADME: Oh, Anakin's not a Jedi yet. He's still a Padawan Learner. (To Jamillia) But I was thinking ' ","ANAKIN: Hey, hold on a minute'","PADME: (stern look at Anakin) Excuse me! (back to Jamillia) I was thinking I would stay in the Lake Country. There are some places up there that are very isolated. ","ANAKIN: Excuse me! I am in charge of security here, M'Lady!!","The tension between the two fills the room. Bibble and Jamillia look at each other with worry. ","PADME: Ani, my life is at risk. And this is my home. I know it very well, that is why we're here. I think it would be wise if you took advantage of my knowledge in this instance. ","Anakin takes a deep breath and forces a polite smile, though his eyes still blaze with anger. ","ANAKIN: Sorry, M'Lady. ","SIO BIBBLE: (half amused) She's right. The Lake Country is the most remote part of Naboo. Not many people, and a clear view of the surrounding terrain. ","QUEEN JAMILLIA: Perfect. It's settled then. Padme, I had an audience with your father yesterday. I told him what was happening. He hopes you will visit your mother before you leave ' your family's very worried about you'","PADME: Thank you, your Highness. ","Padme looks worried as she and Jamillia walk out of the throne room and down a staircase. Anakin and Bibble follow them. ","EXT. THEED, RESIDENTIAL AREA, SIDE STREET ' AFTERNOON","PEOPLE are passing through a small street of Theed. OLD MEN are sunning themselves, WOMEN are gossiping, KIDS are playing. Anakin, Padme and Artoo turn onto a side street. Anakin is back in his Jedi robes and holding Padme's luggage. Padme is wearing a beautiful simple dress. She stops, beaming.","PADME: There's my house!","Padme starts forward; Anakin hangs back.","PADME: What? Don't say you're shy!","ANAKIN: (untruthfully) No, but I --","Suddenly, there are shouts from two little girils, RYOO (age 6) and POOJA (age 4). They come running toward Padme.","RYOO & POOJA: Aunt Padme!! Aunt Padme!!","PADME: Ryoo!! Pooja!!","Padme scoops up Ryoo and Pooja and hugs them.","PADME: I'm so happy to see you! This is Anakin. Anakin, this is Ryoo, and this is Pooja.","Anakin and the girls say hello to each, both shyly. Then","PADME: Go wake up Artoo. ","RYOO & POOJA: ARTOO!!","As they see the droid, they run up and hug him. Artoo whistles and beeps with happiness. Padme laughs, and she and Anakin go on toward the house. The girls stay and play with little Artoo.","INT. PADME'S PARENTS' HOUSE, MAIN ROOM (NABOO) - AFTERNOON","SOLA, Padme's beautiful older sister, comes in from the kitchen carrying a big bowl of food.","SOLA: (over her shoulder) They're eating over at Jev Narran's later, Mom. They just had a snack. They'll be fine.","Sola puts the bowl down on the table, where Anakin, Padme and RUWEE NABERRIE (Padme's father) are coming into the room.","SOLA: Padme! (hugging her) You're late. Mom was worried. ","PADME: We walked. Anakin, this is my sister, Sola.","SOLA: Hello, Anakin.","ANAKIN: Hello.","Sola sits, as JOBAL NABERRIE (Padme's mother) comes in with a heaped bowl of steaming food.","PADME: And this is my mother. ","JOBAL: You're just in time for dinner. I hope you're hungry, Anakin.","ANAKIN: A little.","PADME: He's being polite, Mom. We're starving.","RUWEE: (grinning) You came to the right place at the right time. Sit down, son.","Everyone sits and starts passing food.","JOBAL: (to Padme) Honey, it's so good to see you safe. We were so worried.","Padme gives her mother a dirty look. Ruwee smiles as he watches.","RUWEE: Dear...","JOBAL: I know, I know... but I had to say it. Now it's done.","SOLA: Well, this is exciting! Do you know, Anakin, you're the first boyfriend my sister's ever brought home?","Padme blanches, and rolls her eyes at her sister. ","PADME: So-la!! He isn't my boyfriend! He's a Jedi assigned by the Senate to protect me.","JOVAL: A bodyguard?! Oh, Padme, they didn't tell us it was that serious'","PADME: It's not, Mom, I promise. (glances at Jobal) Anyway, Anakin's a friend. I've known him for years. Remember that little boy who was with the Jedi during the blockade crisis?","They nod.","PADME: (wryly) He grew up.","JOBAL: Honey, when are you going to settle down? Haven't you had enough of that life? I certainly have!","PADME: Mom, I'm not in any danger.","RUWEE: (to Anakin) Is she?","Anakin hesitates.","ANAKIN: Yes. I'm afraid she is.","PADME: (quickly) But not much.","EXT. PADME'S PARENTS' GARDEN - AFTERNOON","Anakin and Ruwee are walking.","RUWEE: Sometimes I wish I'd traveled more... but I must say, I'm happy here.","ANAKIN: Padme tells me you teach at the university?","RUWEE: (nodding) Yes, and before that, I was a builder. I also worked for the Refugee Relief Movement when I was very young.","ANAKIN: You seem quite interested in public service. ","RUWEE: Naboo is generous. We have all that we want, all that we could want. Food is plentiful, climate is comfortable, surroundings are ' ","ANAKIN: Beautiful. ","RUWEE: Quite so. We are a very fortunate people, and we know it. That good fortune shouldn't be taken for granted, so we try to share and try to help. In doing so, we become something larger than ourselves, and more fulfilled than one can become from idly enjoying good fortune. ","ANAKIN: It's the same with the Jedi, I suppose. We've been given great gifts, and we train hard to make the most of them. And then we use our powers to try to help the galaxy, to make everything a little bit better. ","RUWEE: And to make the things we love a little bit safer. ","Anakin smiles and nods. Ruwee looks at him with gratitude and respect. ","INT. NABERRIE LAKE RETREAT' DINING ROOM -- DAY","Padme, Sola, and Jobal are clearing the table. ","SOLA: Why haven't you told us about him?","PADME: What's there to talk about? He's just a boy. ","SOLA: A boy? Have you seen the way he looks at you?","PADME: Sola, stop it! ","SOLA: It's obvious he has feelings for you. Are you saying, little baby sister, that you haven't noticed?","PADME: I'm not your baby sister, Sola. Anakin and I are friends' our relationship is strictly professional. ","Sola gives a knowing 'Sure it is' grin. ","PADME: Mom, would you tell her to stop it?","SOLA: (laughing) Well, maybe you haven't noticed the way he looks at you. I think you're afraid to.","PADME: Cut it out!!","JOBAL: Sola's just concerned'we all are. ","PADME: Oh, Mom, you're impossible. What I'm doing is important.","JOBAL: You've done your service, Padme. It's time you had a life of your own. You're missing so much!","EXT. PADME'S PARENTS' GARDEN (NABOO) - AFTERNOON","Ruwee pauses in his walk, and Anakin stops as well. ","RUWEE: Now tell me, son'how serious is this thing? How much danger is my daughter really in? ","ANAKIN: (hesitantly) There have been two attempts on her life. Chances are there'll be more. ","Ruwee is pained to hear this. ","ANAKIN: My master is tracking down the assassins, I'm sure he'll find out who they are. This situation won't last long. ","Ruwee nods, sadly. ","RUWEE: I don't want anything to happen to her'","ANAKIN: I don't either.  ","INT. NABERRIE LAKE RETREAT' DINING ROOM -- DAY","Padme and Sola are now alone in the room. Padme stares at her older sister with some exasperation. ","SOLA: What? ","PADME: Why do you keep saying such things about me and Anakin? ","SOLA: Because it's obvious. You see it ' you can't deny it. ","Padme sighs. ","SOLA: I thought Jedi weren't supposed to think such things. You think more like a Jedi than he does ' and you shouldn't. ","PADME: What do you mean? ","SOLA: You're so tied up in your responsibilities that you don't give any weight to your desires. ","PADME: You don't know how I feel about Anakin. ","SOLA: And neither do you ' because you won't let yourself think about it. It's funny ' you act as if you're prohibited and you're not, while Anakin acts as if he's under no such prohibitions, and he is! ","PADME: You're way ahead of everything! Anakin and I have only been together for a few days ' before that, I hadn't seen him in a decade! ","Sola shrugs and puts an arm around Padme's shoulder. ","SOLA: I know how he feels. And so do you. ","Padme gazes down at the floor, troubled. Sola lifts her chin and makes Padme face her. ","SOLA: It frightens you. What are you afraid of? Are you afraid of his feelings'or of your own? (beat) You're right, I don't know how you feel. But I suspect that it's something new to you. Something scary'but something wonderful. ","Padme can't answer that.","INT. PADME'S PARENTS' HOUSE, PADME'S ROOM - AFTERNOON","Padme throws some things into a bag.","PADME: Don't worry, this won't take long.","ANAKIN: I just want to get there before dark.","Padme goes on packing, and Anakin looks around the room.","ANAKIN: You still live at home.","PADME: I move around so much, I've never had a place of my own. Official residences have no warmth. I feel good here. I feel at home.","ANAKIN: I never had a real home. Home was always where my mom was.","Anakin picks up a framed hologram and shows it to her.","ANAKIN: Is this you?","The hologram shows Padme at age seven or eight surrounded by forty or fifty little green creatures. She is holding one in her arms. They are all smiling hugely.","PADME: That was when I went with a relief group to Shadda-Bi-Boran. Their sun was imploding, and the planet was dying. I was helping to relocate the children. See that little one I'm holding? His name was N'a-kee-tula, which means 'sweetheart.' He was so full of life... All those kids were. (somber) I did everything I could to save him, but he died... they all did. They were never able to adapt. To live off their native planet.","Anakin picks up another hologram. It shows Padme at age ten or eleven. She is wearing official robes and standing between two robed legislators. Her expression is severe.","PADME: My first day as an Apprentice Legislator. Notice the difference?","Padme pulls a face, and Anakin grins. She continues packing. Anakin sets the two holograms down side by side - the beaming little girl, and the stern, unsmiling adolescent.","EXT. SPACE ' NEAR KAMINO","The view is just like the star map hologram, plus the storm-shrouded planet of Kamino, which is exactly where it ought to be. Obi-Wan's Starship leaps out of hyperspace and disengages from the hyperspace transport ring. The starship, painted red-and-white and wedge-shaped, flies OVER CAMERA and heads down toward the planet.","INT. COCKPIT, JEDI FIGHTER, SPACE","Obi-Wan sits in the starship's cockpit, wearing a headset. He studies the console readouts. ","OBI-WAN: There it is, Arfour, right where it should be. Our missing planet, Kamino. Those files were altered. ","On the side of the ship, a red-and-white ARFOUR DROID beeps in worry. ","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","Heavy rains and hard-driving winds lash the platform as Obi-Wan's Starship approaches. The huge, ultra-modern city of Tipoca rests on great stilts that keep it above the pounding and ever-present waves that cover the surface of this watery world. ","The Starfighter lands. Obi-Wan gets out and makes his way through the howling wind toward a tower on the far side of the platform. A door slides open. A shaft of brilliant light pierces the swirling rain. Obi-Wan passes through it and goes inside. ","INT. TIPOCA CITY, CORRIDOR ENTRANCE -- DAY ","Brilliant white light. Obi-Wan pushes the soaking hood from his face. ","TAUN WE: Master Jedi, so good to see you. Welcome to Tipoca City.","OBI-WAN wipes the rain from his face and blinks in surprise at a tall, pasty-white alien named TAUN WE. She has large almond shaped eyes, and speaks with a slow, melodic singsong voice.","TAUN WE: Everything is ready. The Prime Minister is expecting you.","OBI-WAN: (warily) I'm expected?!?","TAUN WE: Of course! He is anxious to meet you. After all these years, we were beginning to think you weren't coming. Now please, this way'","INT. TIPOCA CITY, PRIME MINISTER'S OFFICE ' DAY","The door slides open. Obi-Wan and Taun We enter and cross to where LAMA SU rises smiling from his chair, which, like all the furniture on Kamino, seems made out of pure light.","TAUN WE: May I present Lama Su, Prime Minister of Kamino. And this is Master Jedi ' ","OBI-WAN: Obi-Wan Kenobi. ","LAMA SU: Please'","Lama Su gestures to a seat, which Obi-Wan does not take. Lama Su sits as well, while Taun We hovers beside him. The room is bathed in brilliant white light. The whole place is ultra high-tech. ","LAMA SU: I trust you are going to enjoy your stay. We are most happy you have arrived at the best part of the season. ","OBI-WAN: You make me feel most welcome. ","LAMA SU: (indicates the chair again) Please'? ","Obi-Wan finally sits down.","LAMA SU: And now to business: You will be delighted to hear that we are on schedule. Two hundred thousand units are ready, with a million more well on the way. ","Obi-Wan is lost, but improvises as best he can. ","OBI-WAN: That's'good news. ","LAMA SU: Please tell your Master Sifo-Dyas that his order will be met on time and in full. He is well, I hope.","OBI-WAN: I'm sorry? Master ' ?","LAMA SU: Jedi Master Sifo-Dyas is still a leading member of the Jedi Council, is he not?","Obi-Wan is visibly puzzled. ","OBI-WAN: Master Sifo-Dyas was killed almost ten years ago. ","LAMA SU: Oh. I'm so sorry to hear that. But I'm sure he would have been proud of the army we've built for him. ","OBI-WAN: The army'!?","LAMA SU: Yes ' a clone army. And I must say, one of the finest we've ever created. ","OBI-WAN: (thinking furiously) Tell me, Prime Minister' when my Master first contacted you about the army, did-did he say who it was for? ","LAMA SU: Of course he did. The army is for the Republic. ","Obi-Wan is visibly rocked by this. Lama Su stands up. ","LAMA SU: But you must be anxious to inspect the units for yourself. ","OBI-WAN: (grins and shrugs) That's why I'm here. ","Obi-Wan and Lama Su rise and walk toward the door. ","EXT. NABOO LAKE RETREAT, WATER SPEEDER, LANDING PLATFORM - LATE AFTERNOON","A water speeder driven by PADDY ACCU, the retreat caretaker, docks at an island landing platform. Anakin and Padme disembark the water speeder at the base of a lodge rising on the beautiful island in the middle of the lake. ","EXT. NABOO LAKE RETREAT, LODGE, GARDEN TERRACE -- LATE AFTERNOON","Anakin and Padme walk up the stairs from where the water speeder is parked onto the garden terrace overlooking a lovely garden. Behind them, Paddy Accu follows. Anakin and Padme stop at the balustrade. Padme looks out across the garden to the shimmering lake and the mountains rising beyond. Anakin looks at her. ","PADME: When I was in Level Three, we used to come here for school retreat. See that island? We used to swim there every day. I love the water. ","ANAKIN: I do too. I guess it comes from growing up on a desert planet.","Padme suddenly becomes aware that Anakin is looking only at her. ","PADME: We used to lie out on the sand and let the sun dry us, and try to guess the names of the birds singing.","ANAKIN: I don't like sand. It's coarse and rough and irritating, and it gets everywhere. Not like here'","Anakin touches Padme's arm, caressing it. Padme's intensely uncomfortable, but starting to like the attention in spite of herself. ","ANAKIN: Here everything's soft' and smooth'","PADME: There was a very old man who lived on the island. He used to make glass out of sand ' and vases and necklaces out of the glass. They were magical.","ANAKIN: Everything here is magical.","Padme keeps trying to avoid his gaze, but Anakin keeps bringing her eyes to meet his. ","PADME: You could look into the glass and see the water. The way it ripples and moves. It looked so real' but it wasn't.","ANAKIN: Sometimes'when you believe something to be real' it becomes real. ","Anakin flashes a dazzling, heart-melting smile. But Padme forces herself to continue with her story.","PADME: I used to think' if you looked too deeply into glass'you would lose yourself. ","ANAKIN: I think it's true. ","Slowly, tenderly, he kisses her. She doesn't resist' at first. She pulls away after a moment. ","PADME: No. I shouldn't have done that'","ANAKIN: I'm sorry'","He stares at the lake, a bewildered 'what did I do wrong' look on his face. ","INT. TIPOCA CITY, CLONE CENTER, HATCHERY ' DAY","Obi-Wan is led by Lama Su and Taun We through a transparent glass tunnel to a vast clone hatchery all around them, where thousands upon thousands of translucent tubes can be seen, sticking out from the floor and ceiling at all angles, and an embryonic form in each of them. ","OBI-WAN: Very impressive.","LAMA SU: I'd hoped you would be pleased. Clones can think creatively. You'll find that they are immensely superior to droids.","Obi-Wan gazes at the nearest embryos.","OBI-WAN: How many are there'? ","LAMA SU: We have several hatcheries throughout the city. This, of course, is the most crucial phase ' though with our techniques, we expect a survival rate of over ninety percent. Every so often, an entire batch will develop a'an issue, but we expect production to remain steady, and with our accelerated growth methods, these before you will be fully matured and ready for battle in just over a decade. ","Obi-Wan can't suppress a shudder. Lama Su gestures far below the tunnel at a distant classroom. Inside, a group of small identical ten-year-old boys in blue outfits sit at desks and rapidly move complex puzzles into completion in mere seconds. There are patches on each of the children's shoulders. ","LAMA SU: We take great pride in our combat education and training programs. This group was created about five years ago. ","OBI-WAN: You mentioned growth acceleration...","LAMA SU: Oh yes, it's essential. Otherwise, a mature clone would take a lifetime to grow. Now, we can do it in half the time. The items you will soon see on the parade ground were started ten years ago, when Sifo-Dyas first placed the order, and they're already mature...","Lama Su points down at a large eating area. Seated and eating at tables are HUNDREDS OF CLONES who look exactly alike, all physically about twenty years old, dressed in red outfits. They also have patches on their shoulders.  ","OBI-WAN: I see. ","LAMA SU: You'll find they are totally obedient, taking any order without question. We modified their genetic structure to make them less independent than the original host. ","The trio continue to walk down the glass tunnel. ","OBI-WAN: And who was the original host?","LAMA SU: A bounty hunter called Jango Fett. We felt a Jedi would be the perfect choice, but Sifo-Dyas handpicked Jango Fett himself.","Obi-Wan notes the words 'bounty hunter,' but keeps his expression neutral. ","OBI-WAN: And where is this bounty hunter now?","LAMA SU: Oh, we keep him here. After a few hundred thousand clones, the genetic pattern starts to fade, so we take a fresh supply. He lives here, but he's free to come and go as he pleases.","The tour continues through a long corridor filled with narrow, transparent tubes into which clones are climbing. Once in the tube, the clone goes to sleep. The other side of the tunnel looks out upon a vast training area when clones of various ages go through rigorous martial arts matches.","OBI-WAN: Very disciplined. ","LAMA SU: That is the key. Disciplined, and yet able to think creatively. It is a mighty combination. Sifo-Dyas explained to us the Jedi aversion to leading droids. He told us Jedi could only command an army of life forms. ","OBI-WAN: So this Jango Fett willingly lives here? ","LAMA SU: The choice is his alone. Apart from his pay, which is considerable, Fett demanded only one thing - an unaltered clone for himself. Curious, isn't it?","OBI-WAN: Unaltered?","The tour now moves over a vast grouping of lines. Several hundred adult clones, now in white armor, move to a conveyor belt where white helmets are rolling along. Each clone takes a helmet, dons it, and moves out. ","LAMA SU: Pure genetic replication. No tampering with the structure to make it more docile... and no growth acceleration...","OBI-WAN: I should very much like to meet this Jango Fett.","TAUN WE: I would be very happy to arrange it for you.","Finally the tunnel ends, and Obi-Wan, Lama Su and Taun We come out onto a balcony. Below is a huge parade ground. The rain and wind are brutal. THOUSANDS OF CLONE TROOPERS can be seen below, and each are wielding a blaster rifle. They move in perfect military formation, entire formations moving as one, in a stunning parade of might despite the pouring rain. ","LAMA SU: (beaming) Magnificent, aren't they? ","Obi-Wan nods slowly. He is both awed and terrified at the sight before him.","EXT. NABOO, MOUNTAIN MEADOW ' LATE AFTERNOON","Padme and Anakin are in the middle of an idyllic hilly meadow, its lush grasses sprinkled with flowers. At a distance, a herd of SHAAKS graze contentedly. Beyond is the shimmering expanse of waterfalls of the lake. Several other lakes stretch to the horizon. The air is full of little floating puffballs. They sit on the grass, in a playful, coy mood, talking. Padme is picking flowers. ","PADME: I don't know'","ANAKIN: Sure you do. You just don't want to tell me. ","PADME: Are you going to use one of your Jedi mind tricks on me?","ANAKIN: They only work on the weak-minded. You are anything but weak-minded.","PADME: All right'I was twelve. His name was Palo. We were both in the Legislative Youth Program. He was a few years older than I' very cute. Dark curly hair. Dreamy eyes. ","ANAKIN: All right, I get the picture'whatever happened to him? ","PADME: I went into public service. He went on to become an artist. ","ANAKIN: Maybe he was the smart one. ","PADME: (thoughtful) You really don't like politicians, do you? ","Anakin shrugs. ","ANAKIN: I like two or three, but I'm not really sure about one of them. ","Padme giggles. ","ANAKIN: I don't think the system works. ","PADME: How would you have it work? ","ANAKIN: We need a system where the politicians sit down and discuss the problem, agree what's in the best interests of all the people, and then do it.","PADME: That's exactly what we do. Th-the trouble is that people don't always agree. In fact, they hardly ever do.","ANAKIN: Then they should be made to.","PADME: By whom? Who's going to make them?","ANAKIN: I don't know. Someone.\t","PADME: You?\t\t\t\t","ANAKIN: Of course not me.","PADME: But someone.","ANAKIN: Someone wise.\t","PADME: Sounds an awful lot like a dictatorship to me.","ANAKIN: Well' if it works'","She stares at him, confused. Anakin can't keep a straight face, and finally grins. Padme busts out laughing. ","PADME: (laughs) You're making fun of me! ","ANAKIN: (grinning) Oh no, I'd be much too frightened to tease a Senator.","PADME: You're so bad! ","She picks up a piece of fruit and throws it at him. He catches it. Padme throws two more, and he catches them both. ","ANAKIN: You're always so serious'","PADME: I'm so serious?!?","Anakin then starts to juggle the fruit. Padme laughs and throws more fruit at him. He manages to juggle them too. She throws more and more until there are too many, and he loses control and ducks, letting food fall on his head. They both laugh.","Anakin then gets up and stands in front of a Shaak, yelling at it and waving his arms. Padme starts laughing as Anakin runs in circles, chased by the Shaak.","EXT. NABOO, MOUNTAIN MEADOW, LATE AFTERNOON","The Shaak crosses in front of Padme. Anakin is now standing on top of it, riding on its back. The Shaak bucks, and Anakin falls off. Padme laughs even harder. Anakin lies still, face down in the grass. Padme's smile fades. ","PADME: Ani ' ANI!! Are you all right? ","She jumps up and runs to where Anakin is lying and turns him over. He is laughing at her. She yelps in mock fury and takes a swing at him. He catches her arm. She struggles. They roll over in the grass. They stop with Padme lying on top of Anakin. Suddenly, they become aware of the contact between them. They let go of each other quickly and sit up, looking away.","Anakin stands up and holds out his hand to her. She takes it. He pulls her up. And now they are easy together, not self-conscious any more. Padme scrambles up onto the Shaak behind Anakin. She puts her arms around his waist and leans against his back. Anakin digs his heels in. The Shaak starts forward, and they ride away.","EXT. TIPOCA CITY (RAINSTORM) ' DAY","Rain lashes the city. Below, mighty waves pound the stilts, breaking almost to the height of the platforms. A large avian carrying a rain-soaked rider bursts out of the sea and flies above the water toward a floating city. ","INT. JANGO FETT'S APARTMENT (KAMINO) ' DAY","Obi-Wan and Taun We arrive at an apartment. Taun We waves her hand, and a muted bell rings. As they wait, Obi-Wan notes the lock mechanism on the door. Then the door slides open to reveal a young ten-year-old boy identical to the ones in the classroom before ' identical, that is, except for his sharper, more aware expression.","TAUN WE: Boba, is your father here?","There is a brief pause.","BOBA FETT: Yep. ","TAUN WE: May we see him?","BOBA FETT: Sure.","Another brief pause, then Boba Fett steps aside, and Taun We and Obi-Wan go through.","INT. TIPOCA CITY, FETT APARTMENT -- DAY","Obi-Wan, Taun We and Boba Fett enter the apartment. Obi-Wan looks around the room. ","BOBA FETT: Dad, Taun We's here! ","JANGO FETT comes in from the bedroom. He wears a jumpsuit. He is unshaven and mean looking, his face pitted with the scars of old wounds. There are a couple of weird tattoos on his muscular forearms.  He eyes Obi-Wan with suspicion.","TAUN WE: Jango, welcome back. Was your trip productive? ","JANGO FETT: Fairly. ","Obi-Wan and Jango Fett size each other up. Boba notices this and studies the two closely. ","TAUN WE: This is Jedi Master Obi-Wan Kenobi. He's come to check on our progress. ","JANGO FETT: That right'? ","Jango Fett's eyes fix Obi-Wan coldly. ","OBI-WAN: Your clones are very impressive. You must be very proud. ","JANGO FETT: (shrug) I'm just a simple man trying to make my way in the universe, Master Jedi. ","OBI-WAN: Aren't we all? ","Obi-Wan finally gives up the staredown and looks around the apartment. His gaze falls upon the half-open bedroom door'and beyond it, scraps of some very familiar body armor. Jango smoothly puts himself between Obi-Wan and the door. ","OBI-WAN: (pointedly) Ever made your way as far into the interior as Coruscant? ","JANGO FETT: Once or twice. ","OBI-WAN: Recently? ","JANGO FETT: Possibly. ","Jango's maintaining a perfect poker face, with a hint of a smile. ","OBI-WAN: Then you must know Master Sifo-Dyas?","JANGO FETT: (in Huttese) Boba, close the door. (back to Obi-Wan) Master who? ","Boba Fett moves in to close the bedroom door. ","OBI-WAN: Sifo-Dyas. Is he not the Jedi who hired you for this job? ","JANGO FETT: Never heard of him. ","OBI-WAN: Really. ","JANGO FETT: I was recruited by a man called Tyranus, on one of the moons of Bogden. ","OBI-WAN: No? I thought --","TAUN WE: Sifo-Dyas told us to expect him, and he showed up just when your Jedi Master said he would. We have kept the Jedi's involvement a secret until your arrival, just as your master requested'","Obi-Wan is even more concerned at this. ","OBI-WAN: Curious'","JANGO FETT: Do you like your army?","OBI-WAN: I look forward to seeing them in action.  ","JANGO FETT: (smirk) They'll do their job well, I'll guarantee that. ","OBI-WAN: Thank you for your time, Jango. ","JANGO FETT: Always a pleasure to meet a Jedi. ","Obi-Wan and Taun We leave. The door slides closed. Jango looks over at Boba thoughtfully. ","BOBA FETT: What is it, Dad?","JANGO FETT: Pack your things. We're leaving. ","Boba starts to reply ' ","JANGO FETT: NOW!!","Boba almost trips over himself rushing into the bedroom. ","EXT. NABOO LAKE RETREAT, LOUNGE -- LATE AFTERNOON","The setting sun touches the mountain peaks. The lake glows in the rose-tinted light. Floating lamps glean softly like jewels at the lodge. ","INT. NABOO LAKE RETREAT, DINING ROOM - LATE AFTERNOON","NANDI places dessert in front of Padme. TECKLA does the same for Anakin. The dessert is some kind of fruit. ","ANAKIN: And when I got to them, we went into'aggressive negotiations. (to Teckla) Thank you. ","PADME: 'Aggressive negotiations.' What's that? ","ANAKIN: Uh, well'negotiations with a lightsaber. ","PADME: (laughing) Oh. ","Padme picks up her fork and goes to spear a piece, but it moves! She frowns and tries again - the fruit moves. She looks up at Anakin. His eyes are focused on his plate.","PADME: You did that?","Anakin looks up - wide-eyed innocence.","ANAKIN: What?","Padme scowls at him and jabs at the fruit - Anakin subtly moves his hand and it lifts up from the plate and hovers in front of her!","PADME: That! Now stop it!","The two laugh. She reaches out for the fruit - it loops.","PADME: Anakin!!","Anakin moves his fingers. The fruit flies into his hand.","ANAKIN: I'm not really supposed to do that... for fun, I mean. If Master Obi-Wan caught me doing this, he'd be very grumpy.","Grinning, Anakin cuts the fruit into several pieces and sends one back to Padme. She spears it out of the air with her fork and takes a bite out of it. A warm, childlike smile brightens Anakin's face. ","INT. NABOO LAKE RETREAT, LODGE, FIREPLACE ALCOVE - TWILIGHT","A fire blazes in the open hearth. Padme is sitting in front of it, gazing at the flames.","She looks up as Anakin arrives. She makes room for him. Brief pause.","ANAKIN: May I tell you something?","PADME: I don't know.","ANAKIN: Then how can I tell you?","PADME: Maybe you should use your Jedi intuition.","ANAKIN: It doesn't work around you. My mind is always a muddle... I can only think of you.","PADME: (sighs) Anakin, no...","Anakin can't stop now. The words rush out in a torrent. ","ANAKIN: From the moment I met you, all those years ago, not a day has gone by when I haven't thought of you. And now that I'm with you again, I'm in agony. ","Anakin's voice begins to quiver. ","ANAKIN: The closer I get to you, the worse it gets. Th-the thought of not being with you makes my stomach turn over ' my mouth goes dry. I feel dizzy. I can't breathe. I'm haunted by the kiss that you should never have given me. My heart is beating, hoping that that kiss will not become a scar. You are in my very soul, tormenting me. What can I do? I will do anything you ask...","Silence. The logs flame in the hearth. Padme meets his eye, then looks away. ","ANAKIN: If you are suffering as much as I am, please tell me'","PADME: (voice shaking) I can't. We can't. It's just not possible.","ANAKIN: Anything is possible, Padme. Listen to me '","Padme gets up quickly and puts distance between herself and Anakin.","PADME: No, you listen. We live in a real world. Come back to it. You're studying to become a Jedi Knight, I'm'I'm a Senator. If you follow your thoughts through to conclusion, it'll take us to a place we cannot go... regardless of the way we feel about each other.","ANAKIN: Then you do feel something! There's an extraordinary connection between us. You can't deny that.","PADME: Ani, it doesn't make any difference. Jedi aren't allowed to love. You swore an oath, remember? You'd be expelled from the Order. I will not let you give up your responsibilities, your future, for me.","ANAKIN: (gets up) I was destined to be a Jedi. I don't think I could be anything else. But you're asking me to be rational. That is something I know I cannot do. Believe me, I wish that I could just wish away my feelings... but I can't.","PADME: I will not give into this!! I'm not going to throw my life away!! I have more important things to do' than fall in love'","Silence. Anakin turns away from her and walks off a bit, thinking.","ANAKIN: But' well, you know'.it wouldn't have to be that way. We could keep it a secret.","PADME: We'd be living a lie - one we couldn't keep even if we wanted to. My sister saw it. So did my mother. I couldn't do that. Could you, Anakin? Could you live like that?","Silence for a moment. Then Anakin sadly nods. ","ANAKIN: No. You're right. It would destroy us.","EXT. TIPOCA CITY (RAINSTORM) ' LATE DAY","Establishing overhead shot of the floating city. ","INT. TIPOCA CITY, CORRIDOR ' DAY","Obi-Wan stands with Taun We and Lama Su just inside the open door. ","LAMA SU: Tell your Council that the first battalions are ready. And remind them if they need more troops, it will take more time to grow them. ","OBI-WAN: I won't forget. And thank you. ","TAUN WE: Thank you. ","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' LATE DAY","Obi-Wan comes out from the tower into the driving rain. The door closes behind him. He pulls his robe around him and stands braced against the gale. Obi-Wan glances back toward the closed door, confirming that Lama Su has left. Below, a huge wave crashes against the stilts. Spray flies high and whips across the platform to where Obi-Wan is standing. He walks over to his Starfighter, looks to see if anyone is watching, then addresses Arfour.","OBI-WAN: Arfour? ","EXT. TIPOCA CITY LANDING PLATFORM, JEDI FIGHTER (RAINSTORM) ' LATE DAY","R4-P17, Obi-Wan's Astro-Droid, who is still sitting on top of Obi-Wan's Starfighter, switches on and beeps. ","OBI-WAN: Arfour, relay this, 'scramble code five, ' to Coruscant: care of 'the old folks home.'","Arfour beeps and whistles. The panels light up inside the cockpit. A transmitter dish emerges from the top of the starfighter and the message is transmitted.","INT. JEDI TEMPLE, YODA'S QUARTERS ' LATE AFTERNOON","Yoda and Mace Windu listen as a hologram of Obi-Wan (out in the rain by his starfighter) stands between them broadcasting the massage. The signal is very weak, the image fades in and out.","OBI-WAN: (V.O.) I have successfully made contact with the Prime Minister of Kamino. They are using a bounty hunter named Jango Fett to create a clone army. I have a strong feeling that this bounty hunter is the assassin we're looking for.","MACE WINDU: Do you think these cloners are involved in the plot to assassinate Senator Amidala? ","OBI-WAN: (V.O.) No, Master. There appears to be no motive.","YODA: Do not assume anything, Obi-Wan. Clear your mind must be if you are to discover the real villains behind this plot. ","OBI-WAN: (V.O.) Yes, Master. They say Master Sifo-Dyas placed an order for the clone army at the request of the Senate almost ten years ago. ","Yoda and Mace Windu glance at each other in surprise. ","OBI-WAN: I was under the impression he was killed before that. Did the Council ever authorize the creation of a clone army?","MACE WINDU: No. Whoever placed that order did not have the authorization of the Jedi Council, I can assure you.","YODA: Into custody take this Jango Fett. Bring him here -- question him, we will. ","OBI-WAN: (V.O.) Yes, Master. I will report back when I have him. May the Force... ","The hologram switches off, and Obi-Wan fades away. ","MACE WINDU: A clone army?!? Why would Sifo-Dyas'","YODA: When placed this order was may provide insight. ","MACE WINDU: If this Jango Fett was involved in trying to kill the Senator'and just happened to be chosen as the source for a clone army created for the Republic'","He shakes his head, completely baffled. ","YODA: Blind we are, if the creation of this clone army we could not see. ","Mace sighs heavily and lowers his head. ","MACE WINDU: (quietly) I think it is time we informed the Senate that our ability to use the Force has diminished. ","YODA: Only the Dark Lord of the Sith knows of our weakness. If informed the Senate is, multiply our adversaries will.","INT. NABOO LAKE RETREAT, ANAKIN'S BEDROOM - NIGHT","Anakin moves restlessly in his sleep. He mutters to himself. Sweat forms on his forehead. He turns violently. He cries out.","ANAKIN: no...No...MOM!!! No, don't..!!!","His eyes snap open. It takes a long moment for him to calm down. ","EXT. NABOO LAKE RETREAT, BALCONY OVERLOOKING GARDENS ' MORNING","Padme quietly enters Anakin's room to find him on the balcony. He stands facing the rising sun, eyes closed, hands behind his back. Not wanting to interrupt him, she turns to leave. ","ANAKIN: (eyes closed) Don't go.","PADME: I don't want to disturb you.","ANAKIN: Your presence is soothing.","A brief pause. Padme hesitantly walks up to him. ","PADME: You had another nightmare last night. ","ANAKIN: Jedi don't have nightmares. ","PADME: I heard you. ","Another beat. Anakin slowly opens his eyes and looks at her. ","ANAKIN: I saw my mother. She is suffering, Padme. I saw her as clearly as I see you now. ","He turns away, letting out a shaky sigh.","ANAKIN: She is in pain'They're killing her' ","His face stricken with grief and worry, he turns back to face Padme. ","ANAKIN: I know I'm disobeying my mandate to protect you, Senator. I know I will be punished, and possibly thrown out of the Jedi Order. But I have to go. I have to help her. ","PADME: (gently) Ani'I told you I wouldn't let you give up your future for me. I'll go with you. That way you can continue to protect me, and you won't be disobeying your mandate. ","ANAKIN: I don't think this is what the Jedi Council had in mind. I fear I'm walking into danger, and to take you with me ' ","PADME: Walking into danger. (half laugh) A place I've never been before. ","ANAKIN: What about Master Obi-Wan? ","She smiles gently and takes his hand. ","PADME: I guess we won't tell him, will we? ","Anakin winces at her kind words and expression. ","ANAKIN: I'm sorry, I don't have a choice'","INT. TIPOCA CITY, CORRIDOR -- DAY","Obi-Wan enters cautiously from outside. Ahead, the corridor is deserted. He moves down it. ","INT. TIPOCA CITY, CORRIDOR OUTSIDE FETT APARTMENT -- DAY","Obi-Wan arrives at the door to Jango Fett's apartment. He reaches up and runs his fingers along the door, locating the locks. The door slides open. ","INT. TIPOCA CITY, FETT APARTMENT -- DAY","Obi-Wan walks in to find the room is in complete disorder. The bedroom door is wide-open ' clear signs of hurried departure. All of the Fetts' personal belongings are gone. Obi-Wan goes to an ultra-thin computer screen. He punches up an onscreen picture of Jango Fett and Boba Fett unhitching the lines securing their ship on the landing platform. Jango Fett is wearing his blue-and-silver armor and rocket pack. ","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","Jango Fett's ship, Slave I, rests on the landing platform. Jango and Boba Fett are preparing to board. ","JANGO FETT: Yeah, I'll let you fly it. ","Boba punches a fist into the air in triumph. ","JANGO FETT: Not to take her out though. We're going out hot, son, but we'll take her back out of lightspeed early so you can get some time working her about. ","Boba nods, hoists another bag and starts up the ship's ramp. His eyes suddenly go wide. ","BOBA FETT: Dad, look!","Jango turns from his son to see Obi-Wan charging out of the tower at him, drawing and igniting his lightsaber as he does. ","JANGO FETT: BOBA, GET ONBOARD!!","Jango then opens fire with one blaster as Boba scrambles up the ramp. Obi-Wan deflects the bolts. As Jango continues firing, he moves behind and around pillars. Obi-Wan shuffles while deflecting the bolts. ","As Jango moves behind a pillar, Obi-Wan charges forward. Jango then unholsters a second blaster and begins firing with both weapons. Obi-Wan has trouble deflecting the barrage of bolts. ","Jango takes off (using his jetpack) over the top of Obi-Wan. Obi-Wan swings his lightsaber in attempt to take Jango down, but misses. As he is flying past, Jango pivots in the air and fires down at Obi-Wan from a high angle. Obi-Wan deflects the bolts from above. Jango continues to fire with both blasters as he flies away from Obi-Wan. Under the barrage of two blasters, Obi-Wan struggles to deflect every bolt. He then rolls off to the side to avoid the bolts as Jango flies off behind a tower. ","OBI-WAN: You're coming with me, Jango!","Emerging on the top of the tower, Jango fires a rocket that is protruding from the top of his jetpack. Obi-Wan avoids the explosion, but is sent sprawling by the report and he accidentally drops his lightsaber. The weapon skids across the wet surface of the landing platform. Jango flies higher and out of the picture. ","INT. COCKPIT, FETT SHIP, TIPOCA CITY, LANDING PLATFORM","Boba scrambles into the cockpit and scans the console panel. A wicked grin lights his face. ","BOBA FETT: Block this'","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","Obi-Wan recovers and looks around for Jango (who seems to have disappeared). He is tense in the silence. ","OBI-WAN: You have a lot to answer! It'll go easier on you and your son if -- ","Obi-Wan senses something and turns just in time to see Slave I opening fire on him with its' heavy blasters. The shots miss, but Obi-Wan is again knocked to the ground hard.","Jango appears from above and jumps down. Obi-Wan recovers, and with a yell, leaps forward to jump-kick Jango in the face. Jango crashes back onto the landing platform. Obi-Wan lands on his feet. ","Jango quickly recovers and charges forward. ","INT. COCKPIT, FETT SHIP, TIPOCA CITY, LANDING PLATFORM","Boba Fett watches in horror as the two men crash into each other.","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","In close quarters, Obi-Wan blocks Jango's attempt to raise his blaster to fire as the pair struggle for the weapon. Obi-Wan then elbows Jango hard in the face. HIGH ANGLE shot as Obi-Wan then judo flips Jango over his back. Jango hits the ground hard but recovers quickly as Obi-Wan moves in for an attack. ","Jango grabs and traps Obi-Wan's foot. Jango spins Obi-Wan (in mid air) and brings him down face-first onto the ground. Obi-Wan retaliates from the ground with a sweep kick to Jango's head, knocking him back. ","Obi-Wan gets to his feet. Jango also gets up and takes aim with his arm-mounted blaster. Obi-Wan leaps over the bolts and onto Jango's shoulders, then flips himself back and over, flipping Jango over and onto his back. But Jango then rolls to his feet. ","Obi-Wan charges with a punch. Jango moves in to attack, chopping at Obi-Wan's head. Obi-Wan blocks it. Jango ducks a wild punch and grabs Obi-Wan by his waist. He then savagely headbutts Obi-Wan to the ground. He lands and skids over the wet surface. Obi-Wan then comes to a halt on the ground and spots something' his lightsaber. ","Jango suddenly appears, flying towards Obi-Wan. Obi-Wan gets up and reaches for his lightsaber (to summon it with the Force). Jango fires a cable from his wrist that wraps around Obi-Wan's hands as he fails to catch his lightsaber. ","Jango takes off into the air (with jetpack again), still tied to Obi-Wan. Obi-Wan is dragged along the ground. LOW ANGLE behind Obi-Wan as he is being dragged. HIGH ANGLE on Jango, who is still flying. ","Obi-Wan then rolls to one side while being dragged. He manages to roll around, to the other side of one of the oncoming pillars. Obi-Wan then jumps up and wraps the cable around the pillar, pulling with all his weight against the momentum of the wire. Jango crashes to the ground. The jetpack shoots off on its own and into the side of a building, exploding. ","INT. COCKPIT, FETT SHIP, TIPOCA CITY, LANDING PLATFORM","BOBA FETT: DAD!!!","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","Jango scrambles across the wet floor to grab his fallen blaster. Obi-Wan (with his hands still tied) charges. Jango gets to his feet and fires, but misses. Obi-Wan kicks Jango over the side of the platform. Jango begins to slide down the angled side of the platform. Obi-Wan's eyes go wide as he realizes what he's done. ","OBI-WAN: Oh, not good --","Obi-Wan, who is still connected to Jango by the cable, gets pulled to the edge of the platform. ","Almost over the complete edge, Jango activates the claws on the side of his forearm. Jango then digs his 'claws' into the platform. Obi-Wan continues down, past Jango and falls over the edge. ","Still tied to Jango, Obi-Wan hangs, nothing between him and the raging sea. Obi-Wan then begins to swing back and forth. Jango is gradually getting pulled more and more down, so he releases the cable. DISTANT SHOT as Obi-Wan free-falls. ","Obi-Wan uses the Force and causes the wire to wrap around a pole, stopping his descent. When Jango looks down, the Jedi has disappeared. Jango uses his forearm claws to climb back to the landing platform and runs toward his ship. Obi-Wan swings and drops onto a small service platform just over the waves. Waving a door open with the Force, he disappears back into the city. ","INT. COCKPIT, FETT SHIP, TIPOCA CITY, LANDING PLATFORM","Boba Fett settles into the pilot's seat and punches buttons. The engines ROAR. ","EXT. TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) ' DAY","Obi-Wan comes running out onto the landing platform and spots his lightsaber laying on the ground. This time, he retrieves it successfully with the Force and turns it on just as Jango's ship engines roar. Realizing the ship is about to take off, Obi-Wan takes a small tracking device from his belt and throws it. The tracking device sticks to the hull of the ship. Obi-Wan watches from the platform as Slave I takes off into the rain. It disappears into the lowering sky, as lightning flashes. Rain lashes the tower and streams the surface of the platform where Obi-Wan stands, watching. ","EXT. SPACE ' NEAR KAMINO","Slave I screams into hyperspace. ","INT. COCKPIT, FETT SHIP, SPACE","Jango, now helmetless and in the pilot's seat, lets out a relieved sigh. ","BOBA FETT: You smashed him up good! He never had a chance against you, Dad!","JANGO FETT: To tell the truth, he had me in real trouble there. ","BOBA FETT: I got him good with the laser cannon! ","JANGO FETT: You did great. You're learning well, Boba. Better than I ever believed possible. ","BOBA FETT: That's because I'm a little you. ","Jango shakes his head. ","JANGO FETT: You're better than I was at your age, and by a long way. If you keep working hard, you'll be the best bounty hunter this galaxy's ever seen. ","BOBA FETT: Which was your plan from the beginning, right? That's why you wanted me? ","JANGO FETT: (wistful) That, and a few other reasons. ","He tousles the boy's hair lovingly. ","JANGO FETT: And in every regard'in every hope and dream'you've done better than I expected. ","Boba hugs his dad tightly. For him, all is right with the universe. ","EXT. SPACE","A small, chrome Naboo Starship heads toward the desert planet of Tatooine.","EXT. TATOOINE, MOS ESPA STREETS AND WATTO'S SHOP - DAY","The Naboo Starship lands in a large parking lot of Spaceships on the outskirts of Mos Espa. Anakin and Padme ride a rickshaw through the streets as Artoo rolls behind them. Anakin stares at sights he hasn't seen for years. ","PADME: (V.O.) Do you think he was involved? ","ANAKIN: (V.O.) Watto? If he's hurt my mother in any way, I will pluck the wings from his back. ","Finally they come to Watto's shop, and the rickshaw stops. Anakin gets down, and helps Padme down.","ANAKIN: (to the droid driver) Wait right there.","RICKSHAW DROID: Oki oki. ","Sitting on a stool in front of the shop is WATTO. He has visibly aged, is bearded, and wears a sun hat on his head. Flies buzz all around him. He is using a small electronic screwdriver on a fiddly DROID. THREE PIT DROIDS are chattering away and are trying to help him, but they seem only to make him madder.","WATTO: No chuba da wanga, da wanga! <No, not that one, that one!>","ANAKIN: Chut chut, Watto. <Excuse me, Watto.>","Watto turns to the chattering pit droids.","WATTO: Go ana bopa. <Shut down.>","The pit droids snap into their storage position. ","ANAKIN: Ding mi chasa hopa. <Let me help you with that'>","Anakin takes the fiddly piece of equipment and starts to play with it. Watto blinks in surprise.","WATTO: Ki booda? Yo baana pee hota? <What? What do you want?> ","As Anakin works on the equipment, his robe momentarily parts and reveals his lightsaber. Watto jumps. ","WATTO: Chada Jedi!! <Wait! You're a Jedi!> ","He panics. ","WATTO: No bata tu tu!! <Whatever it is, I didn't do it!!>","Watto drops the screwdriver and curses loudly in Huttese.","ANAKIN: Mi boska di Shmi Skywalker. <I'm looking for Shmi Skywalker.>","Watto looks at him suspiciously. He stares at Padme, then back to Anakin. His eyes go wide'","WATTO: (in English) Ani?!? Little Ani?!? Naaaah!!","Suddenly, the fiddly piece of equipment in Anakin's hands WHIRS into life. Watto blinks at it.","WATTO: You are Ani! It is you! (laughs) You little womp rat...","Watto flies up (with some effort) and gives Anakin a big hug.","WATTO: You sure sprouted, huh? Weehoo! A Jedi! Whaddya know? Hey, maybe you could help wit some deadbeats who owe me a lot of money...","ANAKIN: My mother...","WATTO: Oh, yeah. Shmi... ah, she's not mine no more. I'I sold her.","Anakin goes ashen. ","ANAKIN: You sold her?!?","WATTO: Years ago. Sorry, Ani, but you know, business is business, huh? (chuckles) Sold her to a moisture farmer named, um, Lars. Least I think it was Lars. Believe it or not, I heard he freed her -- and married her!! Can ya beat that, eh? (laughs again)","ANAKIN: Do you know where they are now?","WATTO: Ohhh, long way from here... someplace over on the other side of Mos Eisley, I think...","ANAKIN: I'd like to know.","Anakin's grim look means business; Watto gets the hint quickly.","WATTO: Yeah... sure... absolutely. Let's go look in my records, huh?","Anakin, Watto and Padme go into the shop.","EXT. SPACE, GEONOSIS","The red planet of Geonosis is circled by a large asteroid field that forms rings. Jango Fett's ship appears, heading toward it. Obi-Wan's Starfighter, attached to the hyperspace transport ring, appears in space far behind Fett's ship. The Starfighter disengages from the ring and follows Jango Fett's ship. ","INT. COCKPIT, FETT SHIP, SPACE, GEONOSIS","Jango grins at Boba.","JANGO FETT: Nearly there, son.","Inside the cockpit, a small blip shows up on the ship's scan screen. ","BOBA FETT: Dad, I think we're being tracked'look at the scan screen! Isn't that a cloaking shadow? ","Boba Fett checks the scan screen and reveals a small tracking device on the outer hull. ","JANGO FETT: He must have put a homing device on our hull during the fight. We'll fix that. Hang on son ' we'll move into the asteroid field. He won't be able to follow us there. And if he does, we'll have a couple of surprises for him. ","Boba laughs maliciously. Jango punches some buttons, and the spot where the device was disappears. ","EXT. SPACE ' GEONOSIS","Jango Fett guides his ship into the asteroid fields. Slave I releases a charge which drifts toward Obi-Wan's Starfighter. As the charge approaches, Arfour beeps in panic. ","INT. COCKPIT, JEDI FIGHTER, SPACE, GEONOSIS","OBI-WAN: WHOA!! Seismic charges ' stand by!!","EXT. SPACE ' GEONOSIS RINGS","Obi-Wan's ship banks sharply as the charge hits an asteroid. A blinding flash of light and momentary silence ' then a huge BLLLANNNGGG as the asteroid shatters and a shockwave ripples across the asteroid field!! The shockwave fragments asteroids everywhere, and Obi-Wan desperately evades them. Slave I releases another charge. BLLAAANNGGG!! A huge asteroid is smashed apart, and the starfighter again spins and weaves through a speeding obstacle course of rock. ","INT. COCKPIT, FETT SHIP, SPACE, GEONOSIS RINGS","Obi-Wan's fighter reappears on Jango's scopes. ","JANGO FETT: He doesn't seem to take a hint, this guy. ","EXT. SPACE ' GEONOSIS RINGS","Jango flies down a narrow tunnel in one of the larger asteroids. Obi-Wan plunges into the tunnel after him. He bobs and weaves his ship through the crags and rock formations.","INT. COCKPIT, FETT SHIP, SPACE, GEONOSIS RINGS","BOBA FETT: Watch out!!","EXT. SPACE ' GEONOSIS RINGS","Slave I rolls in a complete spin and exits the asteroid tunnel. It flies up above, out of view, and flips over the asteroid. A second later, Obi-Wan's ship shoots out, below and ahead of it.  ","INT. COCKPIT, FETT SHIP, SPACE, GEONOSIS RINGS","BOBA FETT: Get him, Dad!! Get him! Fire!!","EXT. SPACE ' GEONOSIS RINGS","Jango Fett fires lasers at the Jedi Starfighter. The ships flip, roll, and turn at incredible speed, dodging, weaving and firing. They tumble from near misses.","INT. COCKPIT, JEDI FIGHTER, SPACE, GEONOSIS","OBI-WAN: Oh blast -- This is why I hate flying!!","It's all he can do to avoid both the asteroids and Slave-I's fire. ","EXT. SPACE ' GEONOSIS RINGS","Bits of metal fly off Obi-Wan's fighter as one of Jango's missiles gets through. ","INT. COCKPIT, FETT SHIP ' SPACE, GEONOSIS RINGS ","Jango continues to bombard the Jedi Starfighter with laser fire. One bolt strikes Obi-Wan's ship, causing a small explosion. ","BOBA FETT: You got him!","JANGO FETT: We'll just have to finish him. ","EXT. SPACE ' GEONOSIS RINGS","Jango pushes buttons to open an outer hull door and releases a guided aerial torpedo. The torpedo closely follows Obi-Wan's Starfighter.  ","INT. COCKPIT, JEDI FIGHTER, SPACE, GEONOSIS RINGS","In Obi-Wan's cockpit, his skill is pushed to the limit as he throws the ship from side to side, avoid great rocks and the torpedo. Then a huge asteroid tumbles across his path. There seems no way he can avoid it. ","OBI-WAN: Arfour, prepare to jettison the spare parts containers!!","The missile closes in. ","OBI-WAN: Release them NOW!!","INT. COCKPIT, FETT SHIP ' SPACE, GEONOSIS RINGS","Jango and Boba's view of the Jedi fighter is obscured by a giant fireball. By the time it fades, Obi-Wan's ship is nowhere in sight. Jango smiles. ","BOBA FETT: GOT HIM!! YEEAAHHHHH!!","JANGO FETT: We won't see him again.","Boba Fett laughs. ","EXT. SPACE ' GEONOSIS RINGS","Jango Fett's ship emerges from the asteroid belt and heads down toward the planet of Geonosis.","A huge chunk of rock tumbles slowly through the asteroid belt. CAMERA CLOSES, to discover Obi-Wan's Starship hidden in a blasted-out area on the pitted backside of the great rock.","EXT. GEONOSIS ' NIGHT","Slave I swoops over a rocky expanse. Several spherical Trade Federation core ships are sitting on the surface around the vessel. Slave I turns and flips into landing position and lowers through an open hatch set into the ground, out of view. The hatch shuts, hiding the now-underground ship. ","INT. COCKPIT, JEDI FIGHTER - SPACE, GEONOSIS RINGS","Obi-Wan's ship is sitting on an asteroid. ","OBI-WAN: Well, Arfour, I think we've waited long enough. Follow his last known trajectory. ","EXT. SPACE ' GEONOSIS RINGS","Obi-Wan's fighter moves out from the back side of the asteroid and heads away from the asteroid field, descending toward Geonosis. ","INT. COCKPIT, JEDI FIGHTER - GEONOSIS ","Obi-Wan looks out toward the surface of Geonosis and sees in the distance the large fleet of Trade Federation Core Ships.","OBI-WAN: There's an unusual concentration of Federation ships over there, Arfour. We'd better stay clear. ","EXT. GEONOSIS, LANDING AREA ' NIGHT","Obi-Wan's ship skims across the top of a small mesa along the edge of a rocky ridge. He maneuvers under a rock overhang and lands. He gets out of the Fighter and walks onto the mesa. The wind whips at him. He looks around. ","Geonosis is a red rock planet, featureless apart from buttes and mesas, and occasional tall stalagmites that stand out dramatically on the arid plains. The night is quiet, except for an occasional WEIRD CRY. Obi-Wan checks his bearings, then heads away. ","EXT. TATOOINE, BLUFF OVERLOOKING HOMESTEAD - LATE DAY","The Naboo Starship descends, hovers, and land on a bluff. Anakin and Padme get out. They look down from the edge of the bluff to where a homestead is seen on the desert floor below.","PADME: Stay with the ship, Artoo.","Artoo WHISTLES as Anakin and Padme start down the trail toward the homestead.","EXT. TATOOINE, DESERT, HOMESTEAD MOISTURE FARM ' LATE DAY","Upon arriving at the Lars' moisture farm, Anakin and Padme discover SEE-THREEPIO working outside. The droid now has a beat-up rusty tin skin. The droid trundles up to them. ","C-3PO: Oh! Oh, hello. How might I be of service? I am See ' ","ANAKIN: (shocked) ' Threepio? ","Threepio abruptly recognizes the young man before him. ","C-3PO: Oh my!! The maker!! Oh, Master Ani!! I knew you would return, I knew it!! And Miss Padme'","PADME: Hello, Threepio. ","C-3PO: Oh, my circuits! I'm so pleased to see you both! ","ANAKIN: I've come to see my mother? ","Threepio hesitates. ","C-3PO: (whisper) Oh dear. I'm so terribly sorry, Master Anakin'","Anakin begins to hyperventilate. ","PADME: (voice tinged with dread) Threepio, what's happened? ","C-3PO: Oh'um'I think'perhaps we'd better go indoors'","Threepio leads them down into the courtyard.","EXT. TATOOINE, HOMESTEAD, COURTYARD ' LATE DAY","Anakin, Padme and Threepio arrive in the courtyard. Threepio shuffles ahead.","C-3PO: Master Owen, might I present two most important visitors? ","OWEN LARS and BERU WHITESUN come out into the courtyard. Both in their early twenties, plain-looking. ","ANAKIN: I'm Anakin Skywalker. I'm here looking for my mother.","Owen's eyes go wide. ","OWEN: Anakin'!!","BERU: Anakin the Jedi'","ANAKIN: You know me? Shmi Skywalker is my mother'","OWEN: Mine too. Not my real mom, but'as real a mom as I've ever known. Owen Lars.","The two shake hands. ","OWEN: This is my girlfriend, Beru Whitesun.","BERU: Hello.","PADME: I'm Padme.","OWEN: I guess I'm your stepbrother. I had a feeling you might show up some day.","ANAKIN: Is my mother here?","CLIEGG: No, she's not.","CLIEGG LARS swings from the house on a small floating chair. One of his legs is heavily bandaged; the other is missing. He balances awkwardly and puts out a hand.","CLIEGG: Cliegg Lars. Shmi is my wife... ","Anakin takes the offered hand. ","CLIEGG: We should go inside. We have a lot to talk about.","INT. TATOOINE, HOMESTEAD, KITCHEN - LATE DAY","Beru puts several steaming cups of ardees on a tray and exits the kitchen.","CLIEGG: (O.S.) It was just before dawn. They came out of nowhere. A hunting party of Tusken Raiders.","INT. TATOOINE, HOMESTEAD, DINING AREA - LATE DAY","Cliegg, Owen, Padme and Anakin sit around the table, Beru brings the drinks from the kitchen.","CLIEGG: Your mother had gone out early, like she always did, to pick mushrooms that grow on the vaporators. From the tracks, she was about halfway home when they took her. (sigh) Those Tuskens walk like men' but they're vicious, mindless monsters. ","OWEN: (bitter) We'd seen signs they were about. She shouldn't have gone out!","CLIEGG: We can't live huddled in fear. (to Anakin) All signs were that we'd chased the Tuskens away. We didn't know how strong this raiding party was ' stronger than anything any of us have ever seen. Thirty of us went out after her. Four of us came back. Three more are still out there looking. I'd be out there with them, only... after I lost my leg, I just couldn't ride any more... until I heal.","Cliegg grimaces, easing his throbbing leg. But it's clear his torment isn't just physical. He finally draws in a deep breath and squares his shoulders. ","CLIEGG: This isn't the way I wanted to meet you, son. This isn't how your mother and I planned it. I don't want to give up on her, but she's been gone a month. There's little hope she's lasted this long.","The words hit Anakin like a slap to the face, and he bolts to his feet.","OWEN: Where are you going?","ANAKIN: (cold and accusing) To find my mother.","PADME: No, Ani!","CLIEGG: Your mother's dead, son. Accept it.","Anakin stares daggers at them all, gritting his teeth. ","ANAKIN: I can feel her pain, and I will find her. ","OWEN: Take my speeder bike.","ANAKIN: I know she's alive.","Anakin turns abruptly and runs up the side of the homestead. Padme winces helplessly, and watches him go.","OWEN: I wish he'd have come a bit earlier'","EXT. TATOOINE, HOMESTEAD, MOISTURE FARM - LATE DAY","Anakin stands looking across the desert. Padme comes running out of the homestead after him. Anakin turns to Padme.","ANAKIN: You are going to have to stay here. These are good people, Padme. You'll be safe.","PADME: Anakin...","Padme hugs him tightly. ","ANAKIN: I know she's alive. ","PADME: Find her. ","Anakin walks over to Owen's speeder bike, which is standing close by. ","ANAKIN: I won't be long.","Anakin swings onto the bike. The engine fires. He takes off across the desert. ","EXT. TATOOINE, LANDSCAPE ' SUNSET","THREE DIFFERENT SHOTS. Anakin rides the speeder bike through three exotic landscapes. The haunting choral wail and trumpets of 'Duel of the Fates' blasts over the scene. ","EXT. TATOOINE, DESERT, JAWA CAMP -- TWILIGHT","Anakin stands in the middle of a crowd of Jawas asking them for directions. The Jawas confer excitedly, then the Chief Jawa points in a particular direction. Anakin gets on his swoop and speeds off to where the Jawa pointed.","EXT. TATOOINE, DESERT, HOMESTEAD (FULL MOON) -- NIGHT","Anakin rides over a large dune, lit by the full moon overhead. He heads toward a small flickering light in the distance. He pulls up and stops the bike in front of a campfire. There are bodies of three dead farmers lying beside the campfire, all battered and torn. Two eopies are tethered nearby, along with a burned and smoking speeder. ","ANAKIN: Calm down'find her'","He closes his eyes and concentrates'then almost screams in agony.","ANAKIN: mom'","He leaps back onto the speeder bike, racing away faster and more desperate than ever. ","EXT. TATOOINE, HOMESTEAD, COURTYARD (FULL MOON) -- NIGHT","Back at the homestead, the lights of the vaporators blink in the night sky. Somewhere close by, a night animal howls. ","EXT. TATOOINE, HOMESTEAD, COURTYARD (FULL MOON) -- NIGHT","Padme is pacing the courtyard restlessly. She stops, listening to the animal howling nearby. She shivers slightly, then turns and goes into the garage at the side of the courtyard.","INT. TATOOINE, HOMESTEAD, GARAGE (FULL MOON) ' NIGHT","Padme enters the garage where Threepio sits working. ","C-3PO: Hello, Miss Padme. ","PADME: Hello, Threepio. ","C-3PO: You can't sleep? ","PADME: No. I have too many things on my mind, I guess. ","C-3PO: Are you worried about your work in the Senate? ","PADME: No. I'm just concerned about Anakin. I said things'I'm afraid I may have hurt him. I don't know. Maybe I only hurt myself. For the first time in my life, I'm confused. ","C-3PO: I'm not sure it will make you feel any better, Miss Padme, but I don't think there's been a time in my life when I haven't been confused. ","PADME: I want him to know I care about him. (self-realization) I do care about him... ","C-3PO: Don't worry about Master Ani. He can take care of himself. Even in this awful place. ","EXT. GEONOSIS, ROCK FACE TRAIL - NIGHT","Obi-Wan climbs a steep, narrow trail. Suddenly, a cry is heard close by. Obi-Wan stumbles slightly. His foot slips on the edge, sending a stream of pebbles skittering into the distance. ","Obi-Wan listens. Silence. He draws his lightsaber but does not ignite it. ","He sets off again and works his way around a narrow corner, to confront a crouching MASSIFF (a dog-sized lizard) with slavering fangs! The beast leaps at him, and Obi-Wan ignites his lightsaber as the MASSIFF knocks him on his back. Its jaws open wide. Obi-Wan stabs the creature, throws it off of him, and jumps up. ","A second Massiff jumps him from behind. Obi-Wan swings around and cuts it in half. The Massiff flies over the cliff. Howling, it plummets to its death hundreds of feet below. ","EXT. GEONOSIS, ANOTHER ROCK FACE TRAIL -- NIGHT","Obi-Wan arrives at the head of the trail. Far below, a flat plain stretches into the distance. He stops, peering into the darkness, where strange shapes loom indistinctly.","Obi-Wan takes a pair of electronic binoculars from his belt and puts them to his eyes. He sees a cluster of great towers like fantastic stalagmites rise from the plain below.","SLOW PAN with the binoculars, and suddenly a line of Core Starships come into view. Obi-Wan touches the viewfinder. Between fifty and a hundred Federation Core Starships are in neat rows. Some are on platforms that are carrying the Starships down to an underground facility. Other platforms are rising to the surface. They carry THOUSANDS of BATTLE DROIDS that step off and file into the waiting ships. A fully loaded Starship takes off. Obi-Wan swings the binoculars upward, to see more Federation Starships.","OBI-WAN: Unbelievable' ","EXT. GEONOSIS ' TOWER ENTRANCE -- DAWN","Light grows on the clustering tower of fantastic stalagmites. Obi-Wan sneaks up to the main one. He climbs up the side of the tower to a small window-like opening. Obi-Wan looks around quickly, then sneaks inside. ","INT. GEONOSIS, CORRIDORS -- MORNING","Obi-Wan makes his way along a narrow, pillared corridor. He comes to what looks like a large open well or vent shaft. He looks down and sees'A MONSTROUS DROID FOUNDRY. ","There are machines everywhere, pounding out countless battle droids identical to the ones that attacked Naboo a decade before. Completed battle droids are moving along a conveyor belt. Geonosians (without wings, a worker class) drone away on the assembly lines to assemble the droids. ","INT. GEONOSIS, CENTRAL SQUARE -- MORNING","Obi-Wan arrives at a vast expanse in the stalagmite interior. Immense pillars, soaring Gaudi-Gothic arches, vaulted roofs. The huge space is deserted ' completely silent. Obi-Wan starts to cross the square. Suddenly he hears voices, and darts behind a pillar. ","We see COUNT DOOKU for the first time. A man in his late seventies, with short white hair and a silver beard, Dooku is very fit and trim for his age and is dressed in elegant clothes. Alongside him is VICEROY NUTE GUNRAY of the Trade Federation, POGGLE THE LESSER (Archduke of Geonosis), PASSEL ARGENTE and WAT TAMBOR. Obi-Wan flattens himself against the pillar as they pass by.","COUNT DOOKU: Now we must convince the Commerce Guild and the Corporate Alliance to sign the treaty. Then nothing in the universe will be able to stop us. ","NUTE GUNRAY: What about the Senator from Naboo? Is she dead yet?? I'm not signing your treaty until I have her head on my desk!! ","COUNT DOOKU: I am a man of my word, Viceroy. ","WAT TAMBOR: The foundry is running at maximum capacity. In less than a few months, with these new battle droids we've built for you, Viceroy, you'll have the finest army in the galaxy. ","NUTE GUNRAY: Your early tests on the Super Battle Droid prototypes have gone well. But they are a little less precise than I expected'","WAT TAMBOR: Their advanced features will make up for that.","They move off out of earshot. Obi-Wan peers around the pillar to see them going through an archway on the far side of the courtyard. There is a flight of stairs beside it. Obi-Wan arrives at the stairs. He sneaks up them, to arrive at a narrow gothic archway. He looks down through it. ","INT. GEONOSIS, CONFERENCE ROOM ' DAY","Poggle the Lesser and his TWO AIDES are at one end of a large conference table. ","COUNT DOOKU: Now is the time, my friends. This is the moment when you have to decide between the Republic'or the Confederacy of Independent Systems. ","Count Dooku is at the head of the table. Jango Fett stands behind his chair. ","In addition to the original group, there are also three opposition senators PO NUDO, TESSEK and TOONBUCK TOORA, and Commerce Guild dignitary SHU MAI and SAN HILL of the Intergalactic Bank Clan. ","COUNT DOOKU: As I explained to you earlier, I am quite convinced that ten thousand more star systems will rally to our cause with your support, gentlemen. And let me remind you of our absolute commitment to capitalism'of the lower taxes, the reduced tariffs, and the eventual abolition of all trade barriers. Signing this treaty will bring you all profits beyond your wildest imagination. What we are promising is completely free trade. ","PASSEL ARGENTE, the Corporate Alliance Representative, stands up.","PASSEL ARGENTE: I am authorized by the Corporate Alliance to sign your treaty. ","COUNT DOOKU: We are most grateful for your cooperation, Chairman. ","Shu Mai stands up next. ","SHU MAI: (subtitled) The Commerce Guilds do not wish ' at this time ' to become openly involved. What you are proposing could be construed as treason. But we shall support the cause in secret, and look forward to doing business with you. ","Everyone chuckles at that. Count Dooku smiles.","COUNT DOOKU: That is all we ask. ","Wat Tambor, the metallic Techno Union representative, twists a knob on his chest and speaks next. ","WAT TAMBOR: The Techno Union army (electronic gibberish) is at your disposal, Count. ","San Hill stands up. ","SAN HILL: The Banking Clan will sign your treaty, and support you wholeheartedly. But only in a non-exclusive arrangement'","COUNT DOOKU: Good, very good. (nods to Nute) Our friends in the Trade Federation have pledged their full support. And when their battle droids are combined with yours, we shall have an army greater than any in the galaxy. The Jedi will be overwhelmed. The Republic will agree to any demands we make. ","INT. GEONOSIS, STAIRS -- DAY","Obi-Wan has heard enough. He pulls back from the archway. ","EXT. TATOOINE, CLIFF (FULL MOON) -- NIGHT","Anakin pulls up near the edge of a cliff. He gets off the bike and creeps to the edge. He looks over to see a Tusken camp in the oasis below. One of the dried-mud huts at the edge of the camp has two Tusken guards outside it. Anakin drops off the edge of the cliff to the camp below. ","EXT. TATOOINE, TUSKEN RAIDER CAMP, OASIS (FULL MOON) -- NIGHT","Anakin creeps through the camp, working his way from hut to hut, flattening himself against the walls, overhearing snatches of Tusken conversation from inside, using the shadows to hide himself until he arrives at the hut with two guards. They are sitting a short distance from the door. Anakin wriggles around the back. He takes out his lightsaber and cuts into the base of the wall. ","INT. TUSKEN RAIDER HUT -- NIGHT","The lightsaber completes the hole in the wall. Anakin wriggles in. He pulls himself to his feet. There are candles everywhere. ","A shaft of moonlight from a hole in the roof pierces the gloom of the hut. By its light, Anakin sees SHMI, hanging crucified from a cross-like wooden frame in the middle of the hut. ","He cuts her free, takes her into his arms, and lowers her gently to the ground. Her eyes are closed. Her face and body are covered in blood. She has been savagely beaten, starved and whipped. Anakin cradles her tenderly. ","ANAKIN: (eyes tearing up) Mom' mom'??","SHMI: a'ani'? ","Shmi's eyes flutter and barely open, caked with dried blood. ","SHMI: Is it you'? ","Her eyes focus slowly. Anakin gives a little choking gasp.","ANAKIN: (voice shaking) I'm here, Mom. You're safe. Hang on, I'm going to get you out of here'","SHMI: ani'.ani'. ","She smiles, seemingly all right'but her face, what little of it isn't bloodied, is gray. Anakin shivers in fear. ","SHMI: You look so handsome'. ","He kisses her hand as she caresses his cheek. ","SHMI: (growing weaker by the second) my son' my grown up son'.i'm so proud of you, ani' so proud' ","ANAKIN: I missed you so much' ","SHMI: now i am complete'i'.l-love'","She's struggling for air. Anakin's about to panic. ","ANAKIN: Stay with me, Mom!! I'm going to make you well again. Everything's' going to be fine'.","SHMI: i'i love'","Her breath stops in mid-sentence, and her eyes unfocus. She lolls against Anakin's side, lifeless. Anakin is completely shattered, eyes pouring with tears. He looks down at her, and gently closes her eyes. There is silence for a moment. ","Anakin slowly looks up'and his expression is one of pure rage.  ","EXT. TATOOINE, TUSKEN RAIDER CAMP, OASIS ' DAWN","The pale light grows. Thin tendrils of smoke rise slowly in the cold, clear air. Somewhere a dog barks. An OLD WOMAN comes out of one of the huts. She carries a pail. She swirls it and tosses the dirty water onto the ground. As she goes back inside the hut, a TUSKEN CHILD runs past, dragging a stick in the sand. The child runs through the line of huts, turns a corner, and stops suddenly, staring at the two Tusken guards. ","Between them, Anakin stands outside the hut door. His face is a grim mask. The child stares, then there is a flash of light as Anakin's lightsaber switches on. ","Before the guards can even turn, Anakin ignites his lightsaber and decapitates them both in one swing. The old Tusken woman sees this and runs screaming for help. Another Tusken Raider rushes at Anakin. With his teeth gritted, and wielding his lightsaber like a baseball bat, the Jedi apprentice chops the Tusken's head from his body and sends it flying several feet. Anakin slowly, deliberately walks toward the little Tusken child, lightsaber raised, the same evil look on his face. He swings the sword down at the little girl ' ","EXT. CORUSCANT, YODA'S APARTMENT - NIGHT ","Yoda sits down Indian-style in a dimly lit, small, circular chamber. His eyes are closed as he attempts a meditative state. He sees nothing. But he hears something. ","It is a familiar voice, the surprisingly familiar voice of Qui-Gon Jinn. It is heard as though from a great distance, and it is filled with alarm.","QUI-GON: (V.O.) Anakin!! ANAKIN!! NNNNOOOOOO!!!!!!!! ","Mace Windu enters the room and sits down. Yoda opens his eyes slowly and stares sadly at Mace. ","MACE WINDU: What is it? ","YODA: Pain'suffering'death, I feel'something terrible has happened. Young Skywalker is in pain. Terrible pain'","EXT. TATOOINE, TUSKEN RAIDER CAMP, OASIS ' DAWN","With a feral snarl, Anakin buries his lightsaber up to the hilt in the old woman's chest. With a weak scream, the woman crashes to the ground. Tuskens are now streaming out of every hut. Anakin leaps high into the air, bringing his weapon slashing down upon two of the Tuskens. With each death, his frenzy and bloodlust grows. ","Another Tusken rushes at him, wielding a spear. Anakin thrusts out a hand, and the Tusken is hurtled back through the Force thirty meters, smashing through a hut wall. Anakin continues swinging and slashing at the Tuskens. Arms, legs, heads, pieces of torso, all fall on the sandy ground. Blood is flying everywhere. Panic grips the surviving Tuskens, and they turn to flee. Several run into one of the huts. Anakin motions to a large boulder in the distance. The giant rock flies into the air, arcing, and smashes the hut flat. He begins running with unearthly speed after the remaining, fleeing Tuskens. A sickening, evil grin splits his face as he runs. ","EXT. GEONOSIS, LANDING AREA ' DAY","Obi-Wan examines the transmitter dish on the Starfighter's hull, and speaks with Arfour.","OBI-WAN: The transmitter is working. But we're not receiving a return signal ' Coruscant's too far. Arfour, can you boost the power? ","Arfour beeps doubtfully. ","OBI-WAN: Okay then, we'll have to try something else. ","Obi-Wan jumps into the cockpit. ","OBI-WAN: Maybe we can contact Anakin on Naboo. It's much closer. (works some controls) Anakin? Anakin, do you copy? This is Obi-Wan Kenobi. Anakin? (beat) He's not on Naboo, Arfour. ","Arfour moans. Obi-Wan works on the console. ","OBI-WAN: I'm going to try and widen the range. I do hope nothing's happened to him. ","The console beeps after a moment. Far off in the distance, a Geonosian spies Obi-Wan and his Starfighter from an overlooking cliff.","OBI-WAN: That's Anakin's tracking signal all right, but it's coming from' Tatooine. ","Obi-Wan hops back out of the starfighter. ","OBI-WAN: What in the blazes is he doing there?!? I told him to stay on Naboo!","Arfour moans again.","OBI-WAN: All right, we're all set ' we'll get these answers later. We haven't got much time. Transmit. (beat) Anakin? Anakin, do you copy? This is Obi-Wan Kenobi'","INT. COCKPIT, NABOO STARSHIP -- DAY","In the ship, Artoo beeps as he fine-tunes the Starship's receiver and captures the message. ","OBI-WAN: (V.O.) Record this message and take it to your mistress, Padme'and the Jedi Skywalker. (beat) Anakin, my long-range transmitter has been knocked out. Retransmit this message to Coruscant'","INT. TATOOINE, HOMESTEAD, DINING AREA - MORNING","Padme keeps a lonely vigil with Owen, Beru, Threepio and Cliegg. Owen looks over at Threepio, then over at Padme. ","OWEN: Padme'I'm returning this droid to Anakin. I know that's what my mom would want. ","Padme nods. A growing noise from outside, the whine of the speeder bike, brings the whole group rushing outdoors. ","EXT. TATOOINE, DESERT, HOMESTEAD MOISTURE FARM ' MORNING","Padme and the Lars family rush outside ' and stop, shocked. ","Anakin climbs down from the speeder bike, unties his mother's dead body from the bike, then trudges toward them bearing the body in his arms. With glassy eyes, he walks up to a trembling Cliegg and stares at him silently. It's all Beru can do to keep from openly sobbing. Owen drapes his arm around Beru's shoulders, a tear streaking down his cheek. Padme moves over to Anakin to try to console him with a hug. He pushes her away. He won't look at her. He won't look at any of them. ","ANAKIN: If I hadn't gone away, none of this would have happened. We'd be happy.","CLIEGG: You'd still be slaves.","ANAKIN: But at least she'd still be alive.","He slowly carries his mother's body into the homestead. ","INT. LARS HOMESTEAD ' KITCHEN -- MORNING","Padme prepares some food for Anakin, and Beru helps her. ","BERU: What's it like there? ","PADME: I'm sorry? ","BERU: On Naboo. What's it like? ","Padme is completely preoccupied with her concern for Anakin, but does her best to reply. ","PADME: Oh, it's'very green. With lots of water and trees. Not like here at all. ","She takes out a tray and starts to put the food on it. ","BERU: I think I like it here better. ","PADME: Maybe you'll come and see it one day. ","BERU: I don't think so. I don't like to travel. ","They finish preparing the tray, and Padme smiles at Beru. ","PADME: Thanks, Beru. ","She goes out. ","INT. TATOOINE, HOMESTEAD, GARAGE ' DAY","Anakin stands at a workbench, working slowly on a part off the speeder bike. Padme quietly comes in with a tray of food. She puts the tray down and stares sadly at Anakin. He's staring at the welder in his hand, doing nothing. ","PADME: I brought you something. Are you hungry? ","A long beat. Padme puts the tray down. ","ANAKIN: The shifter broke. (long beat) Life seems so much simpler when you're fixing things. I'm good at fixing things, always was. But I couldn't'","He looks over at Padme. ","ANAKIN: Why did she have to die? Why couldn't I save her'?? I know I could have'","Anakin turns and stalks away from the bench. ","PADME: Sometimes there are things no one can fix. You're not all-powerful, Ani'","ANAKIN: Well, I should be! Someday I will be'I will be the most powerful Jedi ever! I promise you, I will even learn to stop people from dying!! ","PADME: Anakin'","ANAKIN: It's all OBI-WAN'S fault!! He put me out of the way! ","PADME: To guard me. ","ANAKIN: I should have been out there with him, hunting the assassins!! I'd have had them a long time ago, and would have gotten back here in time, and my mother would still be alive!! ","PADME: You can't know that!!","ANAKIN: He's jealous!! He knows I'm already more powerful than he is!!! HE'S HOLDING ME BACK!!!!!!","Anakin violently hurls the welder across the garage, and Padme jumps. The welder clatters to the floor. Anakin looks down at his shaking hands. Padme stares at him, shocked.","PADME: What's wrong, Ani'??","ANAKIN: I JUST TOLD YOU!!!","PADME: NO!! No. What's really wrong??","He doesn't answer for a long moment. ","PADME: I know it hurts. But this is more than that. What's really wrong? ","He just stares at her. ","PADME: ani'?","His shoulders slump.  ","ANAKIN: I'.I killed them. I killed them all'they're dead, every single one of them.","PADME: You did battle' ","Anakin focuses on her, like someone returning from far away. ","ANAKIN: And not just the men'the women and children too'","His face is alight with guilt'but also with satisfaction. Pride, even. Padme is stunned, staring at Anakin in a terrified new light.  ","ANAKIN: (shaking with rage) They're like animals'and I slaughtered them like animals. I HATE THEM!!! ","There is silence for a moment. Then Anakin breaks down, sagging against a console, sobbing uncontrollably. Padme gently takes him into her arms.  ","ANAKIN: Why do I hate them?!? ","PADME: They earned your anger, Anakin. ","ANAKIN: I didn't'I couldn't'I couldn't control myself'I don't want to hate them'but I just can't forgive them'","PADME: To be angry is to be human. ","ANAKIN: To control your anger is to be a Jedi. ","PADME: Shhh' you're human. ","ANAKIN: No, I'm a Jedi ' I know I'm better than this'. I'm sorry'i'm so sorry'","PADME: You're like everyone else'","She rocks the sobbing Anakin in her arms, tears streaming down her face as well. ","EXT. TATOOINE, HOMESTEAD, GRAVESITE ' DAY","Anakin, Padme, Threepio and the Lars family are gathered outside, somber, around Shmi's freshly filled grave. Two other ebony headstones, one smaller than the other, stand in the blazing sun. ","CLIEGG: I know wherever you are, it's become a better place. You were the most loving partner a man could ever have. Goodbye, my darling wife'and thank you. ","A pause. Then Anakin kneels before the black gravestone. He picks up a handful of sand and lets it slip through his fingers.  ","ANAKIN: I'm sorry. ","He almost breaks down again, but takes a deep breath and continues. ","ANAKIN: I wasn't strong enough to save you, Mom. I wasn't strong enough. But I promise'I won't fail again' ","Forcing down another sob, he stands up. ","ANAKIN: I miss you so m-much'","Padme comes forward and puts her hand on Anakin's shoulder. Silence. Then a flurry of whistles and beeps as Artoo comes up toward them. ","PADME: Artoo, what are you doing here? Why have you left the ship??","Another flurry of whistles from Artoo. ","C-3PO: It seems that he is carrying a message from an Obi-Wan Kenobi. Master Ani, does that name mean anything to you? ","INT. COCKPIT, NABOO STARSHIP -- DAY","Anakin, Padme and Artoo return to the Naboo starship and replay the holo message from Obi-Wan. They watch the flickering image. ","OBI-WAN: (V.O.) Anakin, my long-range transmitter has been knocked out. Retransmit this message to Coruscant. ","Padme turns and reaches over to a control board. She punches a button to transmit the message. ","OBI-WAN: (V.O.) I have tracked the bounty hunter Jango Fett to the droid foundries on Geonosis.","INT. CORUSCANT, CHANCELLOR'S OFFICE -- NIGHT","In a flickering hologram, Obi-Wan's message is replayed before an alarmed group consisting of Yoda, Mace Windu, Ki-Adi Mundi, Luminara Unduli, Barriss Offee, STASS ALLIE, and Senators Bail Organa, Jar Jar, Ask Aak and ONACONDA FARR from Rodia.","OBI-WAN: (V.O.) The Trade Federation is to take delivery of a droid army here'and it is clear that Viceroy Nute Gunray'","INT. COCKPIT, NABOO STARSHIP -- DAY","OBI-WAN: (V.O.) 'is behind the assassination attempts on Senator Amidala. ","Anakin and Padme are grim and silent. Neither are surprised to hear this. ","INT. CORUSCANT, CHANCELLOR'S OFFICE -- NIGHT","The Jedi and Senators continue to listen to Obi-Wan. ","OBI-WAN: (V.O.) The Commerce Guilds and the Corporate Alliance have both pledged their armies to Count Dooku and are forming a --","Suddenly, on the holoimage, DROIDEKAS appear on every side of Obi-Wan. He speed-draws his lightsaber -- ","OBI-WAN: WAIT!! WAIT ' ","INT. COCKPIT, NABOO STARSHIP ' DAY","Anakin and Padme bolt upright as the image of Obi-Wan is moved out of view and replaced by the firing droidekas. The image suddenly cuts out. ","ANAKIN: MASTER!! I'm going after him!","INT. CORUSCANT, CHANCELLOR'S OFFICE -- NIGHT","The Senators are immobilized with wide-eyed horror. Palpatine stares at the blank holoprojector in ashen disbelief. Yoda looks over to Mace Windu. ","YODA: He is still alive. I feel him in the Force. ","MACE WINDU: But they have taken him. And the wheels have begun to spin more dangerously.","YODA: More happening on Geonosis, I feel, than has been revealed. ","MACE WINDU: I agree. We must not sit idly by.","Yoda closes his eyes, pained by it all. ","YODA: The Dark Side I feel'all is cloudy'","Mace nods and looks at the now-empty hologram.","MACE WINDU: Anakin -- ","INT. COCKPIT, NABOO STARSHIP -- DAY","A holoimage of Mace Windu appears where Obi-Wan's was. ","MACE WINDU: (V.O.) We will deal with Count Dooku. The most important thing for you is to stay where you are. Protect the Senator at all costs. That is your first priority.","ANAKIN: Understood, Master. ","The hologram fades away. Padme is horrified at the look of utter resignation and defeat on Anakin's face. She looks at the readout on the ship's control panel.","PADME: They'll never get there in time to save him. They have to come halfway across the galaxy. Look' ","Padme starts to hit buttons and flick switches. A star map comes up on the console. ","PADME: Geonosis is less than a parsec away.","ANAKIN: If he's still alive.","He gets up and starts to walk off. Padme is incensed.","PADME: Ani, are you just going to sit here and let him die?!? He's your friend, your mentor --","ANAKIN: He's like my father!! (on her look) Well, you heard Master Windu -- he gave me strict orders to stay here!!","PADME: He gave you strict orders to protect me...and I'm going to help Obi-Wan.","She pulls her hand free and flicks more switches. The engines warm up. ","PADME: So if you plan to protect me, you will just have to come along.","Anakin stares at her'and slowly grins. He sits down and takes the controls. Threepio comes forward from the back of the starship and straps himself into a seat behind Padme. Artoo whistles at him. ","C-3PO: I'm not worried, Artoo. It's just'I've never flown before'","EXT. TATOOINE, BLUFF OVERLOOKING HOMESTEAD ' DAY","The Naboo Starship rises from the bluff and zooms away.  ","INT. CORUSCANT, CHANCELLOR'S OFFICE -- DAY","Bail Organa paces around. The others are all silent. ","BAIL ORGANA: The Commerce Guilds are preparing for war. There can be no doubt of that. ","ASK AAK: If the report is accurate. ","MACE WINDU: It is, Senator. ","PALPATINE: Count Dooku must have made a treaty with them'","BAIL ORGANA: We must stop them. Now, before they're fully ready. ","JAR JAR: Exsqueeze me, yousa honorable Supreme Chancellor, sir. Maybe dissen Jedi stoppin' da rebel army? ","PALPATINE: Master Yoda, how many are available to go to Geonosis? ","Yoda and Mace look at each other with a mutual sinking feeling. ","YODA: Throughout the galaxy, thousands of Jedi there are. To send on a special mission'only two hundred are available.","Everyone in the room is stunned. ","BAIL ORGANA: Two hundred?!? With all due respect for the Jedi Order, that doesn't sound like enough!! ","YODA: Through negotiation the Jedi maintain peace. To start a war, we do not intend. ","ASK AAK: (to Palpatine) The debate is over!! Now we need that clone army.","BAIL ORGANA: Unfortunately, the debate is not over. The Senate will never approve the use of clones before the separatists attack. By then, it would be too late. ","MAS AMEDDA: (panic) This is a crisis!! The Senate must vote the Chancellor emergency powers!! He can then approve the creation of an army!!","PALPATINE: Please, please. I don't wish to have emergency powers ' it's too extreme a solution. It's akin to a dictatorship. We must rely on the Jedi.","ASK AAK: We must prepare for the worst. I'm going to propose a motion granting emergency powers to the Chancellor at the next session. We must not wait! ","PALPATINE: Out of the question, Senator!! You and I are too closely aligned. The issue will quickly become partisan, then debates will begin'no. ","BAIL ORGANA: We have spent too much of our political capital. The Senate will not see our call as anything more than overly alarmist. ","PALPATINE: But what Senator would have the courage to propose such a radical amendment? ","BAIL ORGANA: We need a voice of reason. One willing to reverse position even, given the gravity of the current situation. ","MAS AMEDDA: (despair) If only' Senator Amidala were here'","PALPATINE: Hmm. ","A beat. Then Jar Jar suddenly steps into the center of the room. ","JAR JAR: Mesa mosto Supreme Chancellor, mesa gusto palos'mesa proud to proposing da motion to give Yousa Honor emergency powers. ","ASK AAK: (overjoyed) Thank you, Representative Binks!","A moment. Then Palpatine sighs deeply. ","PALPATINE: If called upon, I will serve. But it will be the saddest day of my life.  ","INT. GEONOSIS, PRISON CELL -- DAY","Obi-Wan is being suspended in mid-air by a blue electric beam in the center of a vast circular chamber. Count Dooku walks in, regarding the Jedi with a measure of pity and worry. ","OBI-WAN: Traitor.","COUNT DOOKU: Oh no, my friend. This is a mistake. A terrible mistake. They've gone too far this time. This is madness'","OBI-WAN: I thought you were the leader here, Dooku. ","COUNT DOOKU: This had nothing to do with me, I assure you. I promise you, I will petition immediately to have you set free. ","OBI-WAN: (cynically) Well, I hope it doesn't take too long. I have work to do. ","Dooku is disturbed by Obi-Wan's open hostility and changes tactics. ","COUNT DOOKU: May I ask why a Jedi Knight is all the way out here on Geonosis? ","OBI-WAN: I've been tracking a bounty hunter named Jango Fett. Do you know him? ","COUNT DOOKU: There are no bounty hunters here that I am aware of. Geonosians don't trust them. ","OBI-WAN: Well, who can blame them? But he is here, I can assure you. ","COUNT DOOKU: It's a great pity that our paths have never crossed before, Obi-Wan. Qui-Gon always spoke very highly of you. (quiet) I wish he were still alive'I could use his help right now. ","Dooku is genuinely regretful, but Obi-Wan remains defiant. ","OBI-WAN: Qui-Gon Jinn would never join you!!","COUNT DOOKU: Don't be so sure, my young Jedi. You forget that he was once my apprentice, just as you were once his. He knew all about the corruption in the Senate. They all knew. But he would have never gone along with it if he had known the truth as I have. ","OBI-WAN: The truth?!?","COUNT DOOKU: The truth. (beat) What if I told you that the Republic was now under the control of the Dark Lord of the Sith? ","Obi-Wan is floored by this revelation. ","OBI-WAN: NO!! That's not possible!! The Jedi would be aware of it!!","COUNT DOOKU: The Dark Side of the Force has clouded their vision, my friend. Hundreds of Senators are now under the influence of a Sith Lord called Darth Sidious. ","Obi-Wan shakes his head. ","OBI-WAN: I don't believe you'","COUNT DOOKU: (passionate) The Viceroy of the Trade Federation was once in league with this Darth Sidious, but he was betrayed ten years ago by the Dark Lord. He came to me for help. He told me everything. The Jedi Council would not believe him. I have tried many times to warn them, but they wouldn't listen to me. Once they sense the Dark Lord's presence and realize their error, it will be too late. You must join me, Obi-Wan'and together we will destroy the Sith!! ","OBI-WAN: (cold) I will never join you, Dooku. ","Dooku sags, shaking his head. ","COUNT DOOKU: It may be difficult to secure your release. ","He turns and leaves the room. ","INT. GALACTIC SENATE HALL, UPPER CORRIDOR -- EVENING","Mace Windu walks down an upper corridor and meets Yoda, who is sitting on a ledge overlooking the Senate chamber. Inside the grand rotunda, the uproar is deafening. Senators on opposing sides yell wildly and furiously at each other. ","MAS AMEDDA: Order!! ORDER!!!","Finally, the tumult dies down. ","PALPATINE: In the regrettable absence of Senator Amidala, the chair recognizes the Senior Representative of Naboo' Jar Jar Binks.","Amid a conflicting storm of cheers and boos, Jar Jar, with Captain Typho, floats his pod to the middle of the vast space. He looks at Palpatine nervously. Palpatine nods. Jar Jar clears his throat. ","JAR JAR: Itsa clear desa Separtists made a pact witha desa Federation traitors. Senators, dellow felogates... ","The Senate explodes with moans, laughter and jeers. Jar Jar blushes.","MAS AMEDDA: ORDER!! The Senate will accord the Representative the courtesy of a hearing.","The rotunda goes comparatively quiet. Jar Jar grips the edge of his podium, trying to speak as clearly as possible.","INT. CORUSCANT, MAIN SENATE CHAMBER -- EVENING","Jar Jar stands in his pod as it floats in the middle of the vast space. ","JAR JAR: In response to dis direct threat to da Republic from da Confederacy of Independent Systems'mesa propose dat da Senate gib immediately emergency powers to da Supreme Chancellor. ","Uproar again fills the senate. ","JAR JAR: Whosa can deny dese are excepteenal times?!? Excepteenal times demand excepteenal measures! Excepteenal measures demand excepteenal men!!!","The pod for Ryloth swings into the center of the chamber.","ORN FREE TAA: We won't support a dictator!","Several cheers rise from the Senate. ","JAR JAR: Dat isa sentiment ebry one of us agrees wid! And whensa da shadow of war hasen dispersed and da bright day of liberty hasen dawned again, da powers wesa now given to da Supreme Chancellor will be gladly, and swiftly returned.","The Senate goes quiet. ","JAR JAR: Oursa ancient liberties will be restored to usen, burnished eben more brightly dan before! ","There is a rolling wave of applause. Jar Jar beams and bows. ","MAS AMEDDA: Order! We shall have order!","The applause dies down. Palpatine rises.","PALPATINE: It is with great reluctance that I have agreed to this calling. I love democracy' I love the Republic. The fact that this crisis is demanding I be given absolute power to rule over you is evident. But I am mild by nature and have no desire to see the destruction of democracy. The power you give me I will lay down when this crisis has abated, I promise you. And as my first act with this new authority, I will create a grand army of the Republic to counter the increasing threats of the separatists. ","The Senate explodes with cheers. ","MAS AMEDDA: We shall proceed to the vote. All those in favor of granting emergency powers to the Supreme Chancellor, signal aye at this time' those opposed?","The vote is overwhelming positive, with almost no dissenting votes.","INT. GALACTIC SENATE HALL, UPPER CORRIDOR -- EVENING","Yoda shakes his head sadly. Mace Windu is equally grave. ","MACE WINDU: It is done then. (beat, then to Yoda) I will take what Jedi we have left and go to Geonosis and help Obi-Wan. ","YODA: Visit I will the cloners on Kamino, and see this army they have created for the Republic.","EXT. SPACE ","The Naboo Starship comes out of hyperspace and zooms toward the ringed planet of Geonosis. ","EXT. GEONOSIS ' DAY","Anakin pilots the starship close to the ground, weaving around towering rock formations. ","INT. ROYAL CRUISER ' COCKPIT (GEONOSIS)","PADME: (pointing) See those columns of steam straight ahead? They're exhaust vents of some type. ","ANAKIN: That'll do. ","EXT. GEONOSIS ' DAY","Anakin pilots the craft straight down into a column, flying through the steam and landing at the bottom.","INT. ROYAL CRUISER ' COCKPIT (GEONOSIS)","Anakin and Padme get up from their seats and head for the ship's hatch. ","PADME: Look, whatever happens out there, follow my lead. I'm not interested in getting into a war here. As a member of the Senate, maybe I can find a diplomatic solution to this mess. ","ANAKIN: Don't worry. I've give up trying to argue with you. ","Artoo gives a plaintive wail. ","C-3PO: My obtuse little friend. If they had needed our help, they would have asked for it. You obviously have a great deal to learn about human behavior. ","INT. GEONOSIS, CORRIDORS ' DAY","Anakin and Padme cautiously proceed into the steam-filled stalagmite city. They stop, looking around in wonder at the emptiness. ","INT. ROYAL CRUISER COCKPIT (GEONOSIS)","Artoo watches them out the window as they vanish from sight, and moans with worry. ","C-3PO: Danger? Oh no, I shouldn't think so. It looks like a very dull planet to me. They should be back shortly. Just stop worrying, Artoo. ","Artoo turns and heads back for the ramp, beeping furiously. Threepio totters after him. ","C-3PO: For a mechanic, you seem to do an excessive amount of thinking. I am programmed to understand humans. ","Artoo bursts out a few short and curt beeps. ","C-3PO: 'What does that mean?' That means I am in charge here! ","Artoo starts down the landing ramp. ","C-3PO: Hey! Where are you going now?!? You don't know what's out there!! Have you no sense at all?!?","Artoo blatts at him. ","C-3PO: Oh, idiot!","INT. GEONOSIS, CORRIDORS, NABOO STARSHIP -- DAY","Threepio watches from the hatch as Artoo rolls down the ramp. Artoo gains speed as he touches the rocky ground of Geonosis and rolls away. ","C-3PO: Please wait! Do you know where you're going?!? ","Threepio reluctantly starts down the ramp after the little droid. ","INT. GEONOSIS, CORRIDORS ' DAY","Anakin and Padme continue on. High above them, at the top of the stalagmites, the rock formations seem to swell and pulse. Then several winged creatures detach themselves from the rocks and swoop down towards the couple'","ANAKIN: Wait'","Anakin spins around as one of the winged creatures attacks him. Lightsaber blazing, Anakin cuts down three creatures as Padme exits through a far doorway. ","INT. GEONOSIS, DROID FOUNDRY ' DAY","Anakin reaches Padme, and they both stand on the edge of a short walkway extending over a deep crevasse. The door behind them closes, stranding the two. The walkway retracts and Padme slips and then jumps down onto a conveyor belt leading into the droid factory.","ANAKIN: PADME!!!","Anakin jumps down and slashes more winged creatures while attempting to reach Padme. One of the creatures is crushed by a falling stamper. Padme makes her way across stamping machines and welders, timing her moves and dodging the machines as Anakin follows, beating back winged creatures. ","Back up above, Threepio and Artoo have appeared at the entranceway to the foundry.","C-3PO: Oh my goodness! Shut me down -- machines creating machines! How perverse!  ","Artoo whistles in fury and bumps Threepio. The taller droid teeters at the edge, but regains his footing","C-3PO: Calm down, Artoo! I almost fell. You'll get your chance -- ","Artoo bumps even harder and pushes Threepio off the small ledge and onto a flying Conveyor Droid. ","C-3PO: I'M SCRAP!! IT'S A NIGHTMARE!!! I WANT TO GO HOME!!!","Flailing and screaming, Threepio is plucked off the droid and thrown onto the conveyor belt. ","C-3PO: (groan) What did I do to deserve this'??","Back at the ledge, two rocket jets shoot out of Artoo's sides and the little robot flies up and into the factory. ","Anakin continues to work his way towards Padme, lightsaber flashing, winged creatures attacking from all directions. Padme wrestles with one Creature, and is thrown into a large empty vat moving down the assembly line. Mechanized arms carry the vat to a position where molten metal","will be poured into it. Padme struggles to find handholds for escape, but is unsuccessful. Artoo sees this and flies towards Padme.","See-Threepio, meanwhile, is walking down a walkway beside a conveyor belt. ","C-3PO: Hmm. I wonder what's happened to poor little Artoo. He's always getting himself into trouble -- ","Suddenly a robot arm swings across and smashes Threepio's head from his body!! ","C-3PO: OH NO!!!","His head lands in a line of Battle Droid heads. Threepio's headless body walks blindly into another assembly line, sandwiched between Battle Droids. A Battle Droid head is welded onto Threepio's body.  ","BATTLE DROID HEAD: Uh oh'","Meanwhile, Threepio's head is picked by a robot arm and moved into another assembly line where it is welded onto a Battle Droid's body. ","C-3PO: I'm so confused'","Meanwhile, Anakin continues to battle creatures. He is knocked to the ground by a robot arm, and his right arm becomes locked and welded into a loading device. Anakin comes closer and closer to the cutting machine'","As Padme continues her struggle to escape the vat, Artoo finds the computer port controlling the vat and programs Padme's to dump her out onto a walkway. ","Anakin ignites his lightsaber in an attempt to free his arm. The cutter approaches -- he maneuvers his body away from the cutter, but it slams down and cuts his lightsaber in half. He regains his feet and swings at a robot arm ' then realizes he's only holding half of his weapon. ","ANAKIN: Not again!! Obi-Wan's gonna kill me'","Winged creatures and several droidekas surround Anakin and Padme on all sides. Jango Fett swoops down from the sky on his jetpack, blaster aimed at the both of them. ","JANGO FETT: Don't move, Jedi!","The group of winged creatures part to reveal Count Dooku. He bows to them in greeting. ","COUNT DOOKU: Senator Amidala. I've heard so much about you. ","PADME: Count Dooku, I presume. ","COUNT DOOKU: I'm delighted to finally meet you. We have so much to talk about. Come. ","He gestures for the two to follow him. ","COUNT DOOKU: I hope you can keep your young Jedi under control. ","PADME: Don't worry, he's housebroken. ","JANGO FETT: (to the droidekas) Take him away!","Anakin glares at Padme as they follow the Count out of the clearing. ","INT. CONFERENCE ROOM (GEONOSIS) ' DAY","Anakin and Padme are led into a large conference room. Count Dooku sits across from them, with Jango next to him. Ten Geonosian guards are spread throughout the room. ","PADME: You are holding a Jedi Knight, Obi-Wan Kenobi. I am formally requesting you turn him over to me ' now. ","COUNT DOOKU: He has been convicted of espionage, Senator, and will be executed. In just a few hours, I believe. ","Anakin and Padme are stunned. Dooku smiles. ","PADME: He is an officer of the Republic!! You can't do that!!","COUNT DOOKU: We don't recognize the Republic here, Senator. But if Naboo were to join our Alliance, I could easily hear your plea for clemency'","Anakin grits his teeth. ","PADME: And if I don't join your rebellion, I assume this Jedi with me will also die? ","COUNT DOOKU: I don't wish to make you join our cause against your will, Senator. But you are a rational, honest representative of your people'and I assume you want to do what's in their best interest. Aren't they fed up with the corruption, the bureaucrats, the hypocrisy of it all? Aren't you? Be honest, Senator. ","Padme hesitates before replying. ","PADME: The ideals are still alive, Count. Even if the institution is failing. ","Dooku's smile grows wider. ","COUNT DOOKU: You believe in the same ideals we believe in! The same ideals we are striving to make prominent. ","PADME: If what you say is true, you should stay in the Republic and help Chancellor Palpatine put things right. ","COUNT DOOKU: I admit the Chancellor means well, M'Lady. But he is incompetent. He has promised to cut the bureaucracy. But here it is, ten years later, and the bureaucrats are stronger than ever, no? The Republic cannot be fixed, M'Lady. It is time to start over. The democratic process in the Republic is a sham, no? A shell game played on the voters. The time will come when the cult of greed called 'the Republic' will lose even the pretext of democracy and freedom. ","Padme is shaken by the Count's sincere words. ","PADME: I cannot believe that. I know of your treaties with the Trade Federation, the Commerce Guilds, and the others. What is happening here is not government that has been bought out by business'it's business becoming government! I will not forsake all that I have honored and worked for and betray the Republic.","COUNT DOOKU: Then you will betray your Jedi friends? Without your cooperation, I can do nothing to stop their execution. ","PADME: And in that statement lies the truth of your proposed 'improvement.' ","A flash of terrifying anger crosses Dooku's face for a moment; then he is his calm and regal self again. ","PADME: What about me? Am I to be executed as well? ","COUNT DOOKU: (patronizing) I wouldn't think of such an offense. But there are individuals who have a strong interest in your demise, M'Lady. It has nothing to do with politics, I'm afraid. It's purely personal, and they have already paid great sums to have you assassinated. I'm sure they will push hard to have you included in the executions. I'm sorry, but if you are not going to cooperate I must turn you over to the Geonosians for justice. Without your cooperation, I've done all I can for you. ","PADME: (scoffs) 'Justice''","JANGO FETT: Take them away. ","Anakin and Padme are hauled out of the room by Geonosian guards. ","INT. GEONOSIS, HIGH AUDIENCE CHAMBER ' DAY","Anakin and Senator Amidala are taken into the center of what looks like a courtroom. Seated before them, in a tall boxed-off area, are many of the separatist leaders of their respective worlds. Count Dooku; Archduke Poggle the Lesser; Senators Po Nudo, Tessek and Toonbuck Toora; Commerce dignitaries Shu Mai, Nute Gunray of the Trade Federation, Passel Argente, Wat Tambor, and finally San Hill of the Intergalactic Bank Clan. Along the wall, about a HUNDRED GEONOSIANS wait for a verdict.","SUN FAC: You have been charged and found guilty of espionage. ","POGGLE: (subtitled) Have you anything to say before your sentence is carried out? ","PADME: You're committing an act of war, Archduke! I hope you're prepared for the consequences! ","Poggle laughs, and Count Dooku smiles.  ","POGGLE: (subtitled) We build weapons of war ' it is our business! Of course we are prepared!","NUTE GUNRAY: (annoyed) Get on with it. Carry out the sentence. I want to see her suffer. ","POGGLE: (subtitled) Your other Jedi friend is waiting for you, Senator' take them to the arena!","Four guards take hold of Anakin and Padme, and they are dragged out to the sound of the Confederacy's laughter. ","INT. GEONOSIS TUNNEL TO EXECUTION ARENA - DAY","In a gloomy tunnel, Anakin and Padme are tossed into an open cart. The murmur of a vast crowd is heard offscreen. GUARDS extend their arms along the framework and tie them so that they stand facing each other. The DRIVER gets up onto his seat. ","ANAKIN: Don't be afraid. ","PADME: (whisper) I'm not afraid to die. I've been dying a little bit each day since you came back into my life. ","A beat. ","ANAKIN: What are you talking about'? ","PADME: I love you. ","Anakin's eyes go wide. ","ANAKIN: You love me?!? I thought that we had decided not to fall in love. That we would be forced to live a lie. And that it would destroy our lives' ","PADME: Look around. I think our lives are about to be destroyed anyway. (beat) My love for you is a puzzle, Ani, for which I have no answers. I can't control it'and now I don't care to. I truly, deeply love you, and before we die I want you to know. ","Padme leans toward Anakin. Straining, it's just barely possible for their lips to meet. ","ANAKIN: (breathless) I have no desire to be cured of this love either. Long or short, I vow to spend the rest of my life with you.  ","They kiss again. The music swells...","The driver cracks his whip over the ORRAY harnessed between the shafts. The cart jerks forward, breaking the kiss. Suddenly, there is a HUGE ROAR and blinding sunlight as they emerge into the arena.","EXT. GEONOSIS, EXECUTION ARENA - DAY","The great stadium is packed with tier upon tier of yelling Geonosians. The cart carrying Anakin and Padme stops in the middle of the arena near six tall columns. Padme quickly pulls a wire from her clothing and places it in her mouth. Obi-Wan stands with his hands bound overhead by chains to the fourth column. The Geonosian guard cuffs Padme to the second column and then escorts Anakin in chains to the third between Padme and Obi-Wan. Anakin looks over to his master. ","OBI-WAN: I was beginning to wonder if you'd got my message. ","ANAKIN: I retransmitted it, just as you requested, Master... ","Obi-Wan gives him a cold stare. ","ANAKIN:  ... then we decided to come and rescue you. ","The Geonosian guard lifts Anakin's hands above his head and into the restraints. ","OBI-WAN: (sarcasm) Good job. ","Anakin gives Obi-Wan an icy stare of his own, then looks straight ahead. A second Geonosian comes to Padme and begins adjusting her hand restraints as well. She is looking at Anakin. The cart is wheeled away. ","There is another roar as Poggle the Lesser, Count Dooku, Nute Gunray, the Fetts, and dignitaries arrive in the Archducal box and take their places. ","POGGLE: (subtitled) Settle down, settle down'","The crowd quiets down.","SUN FAC: The felons before you have been convicted of espionage against the Sovereign System of Geonosis. Their sentence of death is to be carried out in this public arena henceforth.","The crowd ROARS and CHEERS. ","POGGLE: (subtitled) Let the executions begin.","The crowd goes wild. ","From different gates around the arena, three monsters are driven in. They are the REEK (bull-like), the NEXU (lion-like) and the ACKLAY (a kind of dino-lobster). They are driven by PICADORS carrying long electric spears and riding Orrays. The Nexu jumps and eats the Picador prodding it, only to be shocked by the poles of two others.","ANAKIN: I've got a bad feeling about this'","The Picadors poke the monsters toward the center of the arena, and then retire to the perimeter. The monsters toss their heads, looking around, roaring and screeching. Then they catch sight of the three captives and start moving towards them.  ","OBI-WAN: Just relax, concentrate. Take the one on the right. I'll take the one on the left. ","ANAKIN: What about Padme? ","Padme has used the wire she concealed to pick the lock on one of her hand restraints. She spins around and pulls herself up by the chain to the top of the post. Within a moment she is standing on top of it, trying to pull the chain free. ","OBI-WAN: (drily) She seems to be on top of things. ","Obi-Wan ducks around the post as the Acklay charges at him. It knocks the post flat, sending Obi-Wan sprawling. The Acklay crunches the post between its' claws, freeing Obi-Wan's chain. Obi-Wan leaps up and runs at one of the Picadors. The Acklay takes off after him.","The Reek charges at Anakin. He leaps up, and the beast hits the post hard. Anakin lands on its' back, wrapping part of his chain around its' horn. The Reek backs off, shaking its' head angrily. The shaking tears the chain from the post. ","The Nexu arrives at Padme's post and rears on its hind legs. Up top, Padme struggles to tear her chain free. The Nexu roars, displaying wicked dripping fangs. The Nexu's claws dig deep into Padme's post. Padme hits the creature with her chain and it backs off down the pole. With a single leap, the creature reaches the top and slashes at Padme. She turns and the claw catches her shirt, ripping off the lower half, and gouging huge bloody scratches into her back. She screams in agony.","Up at the Archducal box, Nute Gunray is rubbing his hands in glee, laughing like a school boy.","Obi-Wan is rolling on the ground for his life, barely one step ahead of the screeching Acklay and its' claw that repeatedly sinks into the ground where he was a second ago.","Anakin's Reek starts to buck. It charges around the arena with Anakin hanging on for dear life. He whirls the free length of his chin around his head and casts it into the Reek's mouth. Its' jaws clamp hard on the chain. Anakin yanks back on the chain, turning the Reek, beginning to ride it. But the creature is too wild and rough, and Anakin is thrown from the creature's back and dragged across the sandy ground by the chain.","Padme jumps off the post into the air. She swings around on the chain and whacks the beast hard on the head with both her feet. It tumbles back onto the sand. Padme climbs back up the pole, scrambling to the top. ","The crowd begins to boo. Up in the Archuducal box, Nute Gunray is outraged. ","NUTE GUNRAY: FOUL!! She can't do that!! Shoot her or something!! ","Obi-Wan finds an Orray-riding Picador trying to spear him down. The Orray rears up. Obi-Wan grabs the Picador's long spear and pole vaults over him. The chasing Acklay smashes into the Orray, taking it down. The Picador tumbles onto the sand, where he is grabbed by the Acklay and crunched. ","The Reek finally comes to a stop, and Anakin regains his feet. He walks slowly towards the creature, hands out, trying to calm and tame it with the power of the Force. Finally he leaps back atop it and rides it again. ","The Nexu springs up and braces to leap up at Padme again. She finally manages to work the chain loose. Anakin comes charging up on the Reek and gores the Nexu, killing it. ","ANAKIN: You okay? ","Padme nods, gasping. ","PADME: Sure!","ANAKIN: Jump!!!","Padme leaps from the top of the post to land on the Reek behind Anakin. She kisses him on the cheek. The Reek charges away across the arena. ","Obi-Wan runs out from behind the fallen Orray and throws the spear at the Acklay, hitting it in the neck. It lets out a terrible screech and bites down on the spear, yanking it out of its' side and snapping it in two. The Reek passes Obi-Wan. Obi-Wan runs and jumps on the back of the Reek behind Anakin and Padme. ","In the Archducal box, Nute Gunray turns angrily to Count Dooku. ","NUTE GUNRAY: This isn't how it's supposed to be!! I want her DEAD!! Jango, finish her off!!","Jango gets up, but a smiling Dooku gently puts him back down with one arm. He's clearing enjoying the spectacle. ","COUNT DOOKU: (enigmatic smile) Patience, Viceroy, patience ' she will die. ","EXT. GEONOSIS, EXECUTION ARENA ' DAY ","Droidekas roll to the center of the arena where they transform into battle configuration and surround the Reek, containing Padme and the Jedi. ","Behind Count Dooku and the three other dignitaries, in the entrance to the Archducal section, a flash of light appears and knocks out one of the Geonosian guards. This event goes unnoticed by the four spectators. ","A dark hand then taps Dooku's shoulder. Dooku turns around as' Mace Windu reveals himself while holding Jango at bay with his purple-bladed lightsaber. Dooku masks his surprise elegantly. ","COUNT DOOKU: Master Windu, how pleasant of you to join us. You're just in time for the moment of truth. I would think these two new boys of yours could use a little more training.","MACE WINDU: Sorry to disappoint you, Dooku. This party's over. ","Mace signals. At strategic areas in the arena there are sudden flashes of light as about ONE HUNDRED JEDI enter from all passageways, lightsabers ignited. The crowd is suddenly silent. Count Dooku's lips curl in slight amusement.","COUNT DOOKU: Brave but, uh' foolish, my old Jedi friend. You're impossibly outnumbered.","MACE WINDU: I don't think so. The Geonosians aren't warriors. One Jedi has to be worth a hundred Geonosians.","Dooku looks around the great theater, his smile growing.","COUNT DOOKU: We'll see.","Dooku signals'. and THOUSANDS OF DROIDS start to pour into all parts of the arena!! Mace turns as the army (battle droids, destroyer droids, and even super battle droids) emerge from the dark passageway behind them. CUT TO a HIGH ANGLE of the VIP box as droids are coming from all entrances in the remote area. ","Mace is surrounded. Jango backs out of firing range. The droids then unmercifully open fire. Mace deflects the first few bolts as Dooku and the other dignitaries attempt to move to safer ground. ","The droids continue to fire as Mace deflects the bolts right back at them. WIDE SHOT of Mace as he spins and deflects shots from all sides. A number of droids are smashed back by their own bolts. ","Jango then brings up his flamethrower and fires at Mace. Geonosians fly away in the background. Mace leaps as the flame scorches the area where he was, but his cloak catches on fire. Jango then blasts at Mace in the air. Mace deflects all the bolts as he flips in mid air and down into the arena, his cloak still on fire. Once on the ground of the arena, Mace throws off his burning cloak. From the Archducal box, Boba Fett watches the unfolding battle. ","WIDE SHOT as Jedi fight for their lives against the superior number of droids. Two Jedi leap from another box just as it's blasted by droids. MORE SHOTS of Jedi defending themselves from attacks on all sides. One Jedi destroys a Super Droid but is suddenly gunned down by a Destroyer Droid. The airborne Geonosians fire ray guns down at the Jedi, and they prove much more difficult to deflect. ","Threepio's body with the battle droid head enters the arena. ","BATTLE DROID HEAD: My legs aren't moving. I must need maintenance.","Several Jedi run to the center of the arena and throw lightsabers to Obi-Wan and Anakin. A blast rocks the Reek, and the three tumble off. Padme jumps on top of the Orray pulling the execution wagon. Anakin runs, jumps and lands in the cart, deflecting laser blasts with his lightsaber. Padme blasts battle droids as the two ride through the arena.","The battle droid body with Threepio's head enters the arena, carrying a blaster rifle and firing at the Jedi. ","C-3PO: What's all this noise?!? Oh ' a battle!! There must be some terrible mistake! I'm programmed for etiquette, not destruction!!!","Mace Windu runs to the center of the arena and fights back-to-back with Obi-Wan, as they swipe and mangle droids.","OBI-WAN: Someone's got to shut down these droids!!","MACE WINDU: Don't worry! It's being taken care of!","EXT. GEONOSIS, FEDERATION STARSHIP - DAY","Ki-Adi-Mundi leads a raiding party of about TWENTY JEDI through the lines of parked Core Starships. They cut a swath through masses of Droids until they arrive at the Command Core Starship. Some Jedi fall. The rest cut their way up the ramps and into the Command Ship.","INT. COMMAND FEDERATION STARSHIP, CORRIDORS - DAY","Ki-Adi-Mundi and the surviving Jedi fight their way through the corridors of the Command Ship, deflecting laser bolts, slicing Droids.","EXT. GEONOSIS, EXECUTION ARENA ' DAY","The body of Threepio with the battle droid head is fired upon and knocked back to the ground. The battle droid head goes flying off Threepio's body. COLEMAN TREBOR, one of the Jedi Council, leaps into the Archducal box and swings at Count Dooku, but is repeatedly shot and sent falling to the arena floor by Jango's blaster. Jango coolly twirls his blaster and replaces it on his holster. ","The Reek charges, separating Obi-Wan and Mace Windu. The beast chases Mace across the arena. Mace swipes at the Reek, chopping off one of its' horns. The Reek still catches Mace with its shoulder, sending Mace sprawling and losing his lightsaber. Jango Fett, watching from above, rockets down and lands behind him in the arena. Mace grabs his lightsaber, and the Reek tosses Jango away. Jango ends up under the Reek, avoiding the creature's massive hoofs. Finally Fett is free and kills the Reek. ","Jango stands and whips around looking for Mace with both blasters raised. Mace leaps down from the stands and charges forward. Jango desperately opens fire but Mace deflects all the bolts as he runs. Mace lunges with his lightsaber at Jango's head and Jango ducks, but is left off balance. Jango manages one blast from his arm-mounted blaster, but it misses. Mace spins and slices across and downward. ","Jango's helmet, with his head still inside, bounces and rolls in the dust. His body falls to the dirt.","INT. COMMAND FEDERATION STARSHIP, CONTROL BRIDGE ' DAY","Ki-Adi-Mundi and his group of Jedi burst onto the bridge and chop down the command droids. The Neimoidians flee in all directions. Ki-Adi-Mundi leans over the control panel. He locates the illuminated master switch and punches down on it. It goes dark. Instantly, all the droids on the Starship FREEZE! ","EXT. GEONOSIS, EXECUTION ARENA ' DAY","All the droids in the arena freeze as well. There is a moment of stunned silence, then the Jedi cheer. ","INT. COMMAND FEDERATION STARSHIP, CONTROL BRIDGE ' DAY","On the bridge, Plo Koon claps Ki-Adi-Mundi on the back.","PLO KOON: We've done it! Now we have a chance!","Suddenly, there is a harsh beeping sound. All the droids on the Starship start fighting again! Ki-Adi-Mundi stares in disbelief and dismay.","EXT. GEONOSIS, EXECUTION ARENA ' DAY","The droids in the arena have started fighting again as well, and the Jedi are even harder pressed. The Threepio/Battle Droid continues to fire on the Jedi, hitting and killing several. ","C-3PO: (battle droid voice) DIE, JEDI DOGS!! (normal voice) Oh ' what did I say?!?","Up in the Archducal Box, Nute and Rune cringe and jump from several near-miss blaster bolts. ","Among the tiers, the Jedi are slowly being driven back and whittled down. They have killed heaps of Geonosians and knocked out piles of droids, but the sheer numbers are telling. Individual Jedi are being cut down or blasted. The rest continue to retreat into the arena. ","C-3PO: Oh dear, I'm terribly sorry about all this'","The Jedi Master KIT FISTO uses the Force to knock the Threepio/Battle Droid backward onto the arena floor. A downed Super battle droid falls on top of Threepio's battle droid body, pinning him to the ground. Fisto grins and rejoins the battle. ","C-3PO: Excuse me? I'm trapped, I can't get up'","A droideka nails and kills the Orray, knocking the execution cart to the ground. Anakin wields his lightsaber and Padme uses a blaster rifle to defend themselves, using the fallen execution wagon for protection. ","ANAKIN: You call this a 'diplomatic solution'? ","PADME: (grins) No, I call it 'aggressive negotiations'!  ","Obi-Wan dodges the fire of two battle droids'who suddenly move back in the cybernetic equivalent of panic. ","BATTLE DROID #1: Uh oh!!","BATTLE DROID #2: Roger roger!!","Obi-Wan turns and faces the irate Acklay. But this time he's ready ' swinging his lightsaber, he chops off two of the creature's claws and slices into its' side. The Acklay sags to the ground, moaning. Obi-Wan brings his blade over his head and skewers the Acklay's skull. ","Artoo finds the battle droid body with Threepio's head attached. ","C-3PO: Artoo, what are you doing here?","He shoots a projectile from his body that attaches a suction device to Threepio's head, and pulls the head away from the battle droid. ","C-3PO: What are you doing?!? Stop that! You're going to strain something ' my head!! Now where are you taking me?? Oh, this is such a drag'I'm quite beside myself. ","Artoo drags Threepio's head across the arena and reattaches it to Threepio's body, using an extendable welding arm. ","C-3PO: Artoo, please be careful! You're singeing my circuits. Is my head on straight? ","Soon, the fifteen exhausted remaining Jedi (plus Obi-Wan, Anakin and Padme) are completely hemmed in to the center of the arena by countless battle droids. The bloodied sand around them is strewn with the bodies of dead Geonosians, shattered droids, and Jedi. ","Silence. Dooku lifts his hand, and the droids lower their weapons.","Ki-Adi-Mundi and the survivors from the raiding party are herded into the group by Super Battle Droids. From the encircling tiers above, thousands of battle droids level their weapons menacingly. The Jedi group forms a small defensive circle, ready to fight to the last man. ","COUNT DOOKU: Master Windu, you have fought gallantly. Worthy of recognition in the archives of the Jedi Order. Now' it is finished.  (pauses briefly) Surrender - and your lives will be spared.","MACE WINDU: We will not be hostages to be bartered, Dooku! ","Again, a shadow of genuine grief and regret crosses Dooku's face. Momentarily. ","COUNT DOOKU: Then' I'm sorry, old friend. You will all have to be destroyed. ","The droids raise their weapons. Anakin and Padme look hopelessly at each other, and the Jedi raise their lightsabers and brace themselves for the last stand. Dooku lifts his hand to give the attack order --","PADME: LOOK!!!","Amidala points up to the sky -- six giant assault/attack gunships descend into and around the arena. They set down in a cluster around the handful of Jedi. Upon landing, thousands of clonetroopers emerge from these six ships and start firing up at the droids. There is a hellstorm of laser fire that bounces off the laser shields created by the Gunships. Yoda appears at the door of one of the Gunships. ","YODA: Around the survivors a perimeter create!! ","MACE WINDU: JEDI, MOVE!!!!","The surviving Jedi dash to the Gunships and scramble in. Mace Windu hangs on tight and blocks blaster fire with his lightsaber (as does Ki-Adi Mundi) as the Gunship, firing all its' weapons, rises out of the arena up and over the topmost rim. Grimacing, Dooku turns and walks into the inner corridors of the arena. ","On the arena grounds, Artoo beeps as Threepio tries to sit up. ","C-3PO: Oh'what happened? I had the most peculiar dream'","In another part of the deserted arena, Boba Fett finds his father's battered helmet. Sinking to his knees, he picks it up and touches it gently to his forehead. He lowers his head in sorrow. ","EXT. GEONOSIS, TERRAIN OUTSIDE EXECUTION ARENA ' DAY","Outside on the flat terrain below, a line of parked Trade Federation and Commerce Guild Battle Ships and legions of Battle Droids surround the arena. However, dozens of giant wedge-shaped Republic warships begin to land on the countryside surrounding them. ","The Republic Gunships carrying the Jedi circle towering stalagmites as they head toward the assembly point. Winged Geonosians fire laser cannons up at the Gunships. ","INT. GUNSHIP NUMBER ONE -- DAY","Mace Windu stares down at the incredible sight. ","YODA: If escapes Dooku does, rally more systems to his cause he will. Capture him we must.","INT. GUNSHIP NUMBER TWO ' DAY","Ground fire and explosions rock the Gunship. Padme, Anakin and Obi-Wan steady themselves. ","OBI-WAN: Hold on! ","EXT. BATTLEFIELD, GEONOSIS LANDSCAPE ' DAY","Gunship #2 skims the battlefield, firing down, deflecting answering fire from the droids. ","INT. GUNSHIP NUMBER TWO ' DAY","Obi-Wan, Anakin and Padme watch from the open Gunship. On the battleground below, Clone Troopers riding speeder bikes advance toward the battlefield. Trade Federation Spider Droids fire at the Clone Troopers and Republic Gunships. Lightsaber-wielding Jedi slash through Battle Droids. The battle rages on. ","Gunship #1 flies low toward Techno Union starships. ","ANAKIN: Aim right above the fuel cells. ","Laser fire pelts the base of the Techno Union ship. Rocked with explosions, it begins to tilt over and the Gunships split up, flying past. ","OBI-WAN: Good call, my young Padawan! ","EXT. BATTLEFIELD, GEONOSIS LANDSCAPE ' DAY","The landed Republic warships begin to spew out thousands of LAAT/i's (Troop Gunships), LAAT/C's (Cargo Gunships), and AT-TE's (Walker Tanks) as well as hundreds of thousands of Clone Troopers. ","The Clonetroopers open fire with artillery. Explosions caused by the Gunships wreck the parked Battleships. The Gunships open the rear of their ships and release hundreds of Military Swoops and the Cargo Gunships carry the Walker Tanks laden with troopers into the midst of the battleground.","INT. GEONOSIS, COMMAND CENTER ' DAY","Poggle, Dooku, Nute and RUNE HAAKO rush into a huge command center. In the center of the room there is a large circular holo-viewscreen and around the perimeter of the room Geonosian soldiers monitor the Clone Army's advances on large semitransparent maps. In one corner of the room there is a large monitor flashing a variety of images, like schematics to a planet-sized mechanized superweapon.","NUTE GUNRAY: The Jedi have amassed a huge army! ","COUNT DOOKU: Where did they get them? That doesn't seem possible. How could the Jedi come up with an army so quickly? ","NUTE GUNRAY: We must send all available droids into battle! ","Dooku shakes his head. ","COUNT DOOKU: There are too many. They will soon have us surrounded. ","In the near distance, a massive explosion. ","POGGLE: (subtitled) Our communications have been jammed. We are under attack on land and from above.","EXT. BATTLEFIELD, GEONOSIS LANDSCAPE ' DAY","The Gunships struggle towards the Republic assembly area, trading fire with the landed Federation and Techno Union starships.","INT. GUNSHIP NUMBER ONE -- DAY","The Jedi wince as the Gunship alongside them is blown to bits by enemy fire. ","MACE WINDU: PILOT!! Land at that assembly area!! ","CLONE CAPTAIN: Yes, sir.","EXT. BATTLEFIELD, GEONOSIS LANDSCAPE ' DAY","Gunship #1 lands. Mace Windu, Ki-Adi-Mundi, Kit Fisto and Clone Troopers spill from the Gunship. A Clone Captain runs up to Mace. ","CLONE CAPTAIN: Sir, I have five special commando units awaiting your orders, sir. ","Mace nods and points in the direction of the growing battlefield. Still on the Gunship, Yoda shouts at the pilot. ","YODA: To the forward command center take me!!","Gunship #1 lifts off with Yoda on board. Mace and the Jedi join the swarms of Clone Troopers in the ground battle. The two forces close in on each other, filling the skies with laser fire and smoke. ","INT. GUNSHIP NUMBER ONE ' DAY","From his vantage point at the open door, Yoda watches the battle unfold below him. The Clone Troopers open fire with artillery. Explosions wreck the parked Battle Starships. Clone Troopers advance, firing at the massed droids. Droid starfighters fly overhead, exchanging fire with the Gunships and Jedi Starfighters. ","YODA: More battalions to the left. Encircle them we must, then divide.","INT. GUNSHIP NUMBER TWO ' DAY","Still on his Gunship with Anakin and Padme, Obi-Wan points outward. ","OBI-WAN: Target those Federation starships quickly!! ","One Trade Federation starship begins to rise from its' docking port. Gunship #2 and another Gunship fires on the starship, with no apparent damage. ","ANAKIN: They're too big, Master. The ground troops will have to take them out. ","INT. GUNSHIP NUMBER ONE ' DAY","Gunship #1 lands at the makeshift Command Center. Yoda disembarks and walks to the Clone Commander. ","CLONE COMMANDER: Master Yoda, all forward positions are advancing. ","YODA: Very good. Very good.","EXT. BATTLEFIELD, GEONOSIS LANDSCAPE ' DAY","Several Cargo Gunships land just long enough to drop AT-TE's from their bellies and then lift off again. Several rolling Confederacy anti-air droids try to shoot the Gunships out of the sky. ","INT. GEONOSIS, COMMAND CENTER ' DAY","Dooku, Poggle, Nute and Rune stand around the viewscreen. The screen shows the Confederacy's droid army slowly being overcome by the Republic clone army. ","NUTE GUNRAY: This is not looking good at all'","RUNE HAAKO: We must order the starships back into space. ","Nute and Rune turn and run out of the room. ","POGGLE: (subtitled) We have to order a retreat. ","COUNT DOOKU: I'm going to Coruscant. My master will never let the Republic get away with this treachery. ","POGGLE: (subtitled) I'm sending my warriors to hide in the catacombs.","As Dooku waits, Poggle crosses to the holographic schematic. With a few keystrokes, he downloads the image into a small holoprojector and hands it to Dooku. ","POGGLE: The Jedi must not find our designs for the ultimate weapon. If they find out what we are planning to build, we're doomed. ","Dooku activates the holoprojector and regards the moon-sized battle station thoughtfully. ","COUNT DOOKU: I will take the designs with me to Coruscant. They will be much safer there with my master. ","With a bow, the Count sweeps out of the room. ","EXT. GEONOSIS LANDSCAPE ' DAY","The Gunships rain hellfire down on the battle droids and anti-air rolling droids as they rush toward the launching Federation core ships. The Confederacy forces are slowly being whittled down.","INT. CATACOMB HANGAR ' DAY","Nute Gunray and Rune Haako rush up into their Neimoidian shuttle. The shuttle rises and shoots out of the catacomb hangar into the sky. Nearby, Count Dooku mounts a speeder bike and sets out onto the rocky landscape with two Geonosian starfighters as escort. ","INT. GUNSHIP NUMBER TWO ' DAY","The Gunships continues to fire on the Trade Federation Core ships. The core ships continue to lift into the sky.","EXT. COMMAND CENTER ' DAY","YODA: Concentrate all your fire on the nearest starship! ","CLONE COMMANDER: Yes, sir. (to his troops) All quadrants to Sector 515!!","Several ground artillery ships open fire on the rising core ship, spearing it with blue laser fire. The Trade Federation core ship finally begins to weaken under the constant fire. The starship begins to fall and then crashes into the ground, causing a tsunami of dust to cover the battlefield. ","INT. GUNSHIP NUMBER TWO ' DAY","Obi-Wan, Anakin and Padme are at the open sides of Gunship #2 as it flies through the massive dust cloud. Clones fire down at the droids below. The dust is filled with red and blue laser bolts.","The Gunship slows, circling over a droid gun-emplacement. It blasts it, but suddenly the Gunship is rocked by a near miss. It lurches violently.","OBI-WAN: Look over there!!","Through the other side of the Gunship, they see a Geonosian Speeder Bike racing past. On the bike is the unmistakable figure of Count Dooku.","ANAKIN: It's Dooku!! Shoot him down!!","CLONE CAPTAIN: We're out of rockets, sir. ","ANAKIN: Follow him!","PADME: We're going to need some help! ","OBI-WAN: There isn't time!! Anakin and I can handle this!!!! ","Dooku signals the two starfighters flanking his ship. They veer off left and right, loop around, and come up under our heroes' Gunship. To avoid the Beakwing fire, the Gunship banks up a steep dune but is still hit. The gunship lurches on its side, and a screaming Padme and a Clone Officer are violently flung out of the open doors ' ","ANAKIN: PADME!!!!","He stares down in horror as Padme hits the ground below and tumbles down the dune. ","ANAKIN: PUT THE SHIP DOWN!! DOWN!!!!!","OBI-WAN: Anakin, don't let your personal feelings get in the way! (to the pilot) Follow that speeder!!","The Gunship continues its' pursuit of Dooku's speeder, followed by the two Beakwing fighters. ","ANAKIN: LOWER THE SHIP!!","OBI-WAN: I CAN'T TAKE DOOKU ALONE!!! I NEED YOU!!! IF WE CATCH HIM, WE CAN END THIS WAR RIGHT NOW!! WE HAVE A JOB TO DO!!!","ANAKIN: I DON'T CARE!! PUT THE SHIP DOWN!!!","OBI-WAN: YOU WILL BE EXPELLED FROM THE JEDI ORDER!!!","ANAKIN: I CAN'T LEAVE HER!!","OBI-WAN: COME TO YOUR SENSES!! What do you think Padme would do if she were in your position? ","That question stops Anakin up short. He sighs and lowers his head. ","ANAKIN: She would do her duty.  ","EXT. COMMAND CENTER ' DAY","Yoda stands next to the Clone Commander. He senses something is wrong with Padme. ","YODA: Hmmm'","CLONE COMMANDER: The droid army is in full retreat. ","YODA: Well done, Commander. Bring me a ship. ","EXT. GEONOSIS LANDSCAPE ' DAY","Count Dooku's speeder bike shoots into the open door of a tower; the Gunship pauses next to it to long enough for Obi-Wan and Anakin leap down and run inside the tower. As the Gunship rises back into the air, it is destroyed by the two Beakwings. ","INT. GEONOSIS SECRET HANGAR TOWER ' LATE DAY","Count Dooku throws switches on a control panel. His Interstellar Sail Ship is parked nearby. The two Jedi rush into the hangar, lightsabers ignited and ready. Dooku smiles at the two with amusement. ","ANAKIN: You're going to pay for all of the Jedi that you killed today, Dooku.","OBI-WAN: We'll take him together. You slowly on the --","ANAKIN: No, I'm taking him NOW!!!","Without listening or thinking, an enraged Anakin charges at Dooku. ","OBI-WAN: NO ANAKIN, NO!!!","But just as the young apprentice is about to strike his first blow, Dooku calmly lifts his arm and shoots purple lightning out at the young man. Anakin is lifted up and flung across the room, slamming hard into the opposite wall. He slumps to the foot of the wall, barely conscious. Obi-Wan regards Dooku in horror. ","COUNT DOOKU: Kenobi, is it? As you can see, my Jedi powers are far beyond yours. Now back down. ","Dooku fires another volley of lightning from his fingertips; Obi-Wan intercepts it with his lightsaber. The electricity ripples around the blue blade and fades into nothingness. ","OBI-WAN: I don't think so. ","Obi-Wan raises his lightsaber, ready for battle.","COUNT DOOKU: Ah, but if I must'","Dooku pulls out a curved lightsaber handle, and a scarlet blade shoots out of it. He raises it to his face in salute and moves into a fencer's en garde stance. ","COUNT DOOKU: I have spent the last ten years learning to use the power of the Dark Side. It gives me infinitely more power.","OBI-WAN: Prove it. ","Obi-Wan charges at Dooku, lightsaber twirling. The two clash blades in a furious exchange of swings. Dooku handles his lightsaber much like a master fencer with his foil. Using calculated moves and expending little energy, Dooku easily blocks Obi-Wan's wide, sweeping strikes. ","COUNT DOOKU: Master Kenobi, you disappoint me. Yoda holds you in such high esteem. ","He parries another blow from Obi-Wan.","COUNT DOOKU: Surely you can do better? ","Another parry. ","COUNT DOOKU: No, you can't. I'm surprised. Has Jedi swordsmanship degenerated so quickly, or are you trying to make fun of me? Which is it?","Dooku thrusts. Obi-Wan jumps back, gasping for breath. ","COUNT DOOKU: (mocking) Come come, Master Kenobi. Put me out of my misery. ","Obi-Wan takes a deep breath, gets a fresh grip on his lightsaber, and comes in again. For a moment, he drives Count Dooku back. Then Dooku's superior skill begins to tell again, and he forces Obi-Wan to retreat. At the wall, Anakin groans and writhes in pain. ","EXT. GEONOSIS DUNES ' LATE DAY","On the ground, Padme groans as well. A Clone Trooper rushes up and approaches her. ","CLONE TROOPER: Are you all right? ","Padme slowly regains her feet.","PADME: Yes'I think so. ","CLONE TROOPER: We'd better get back to the forward Command Center. ","PADME: No, no. Gather what troops you can. We've got to get to that hangar! Get a transport! HURRY!!","CLONE TROOPER: Right away!!","The two run toward the distant battlefield.","INT. GEONOSIS SECRET HANGAR TOWER ' LATE DAY","Dooku increases the tempo of his attack. Obi-Wan is pushed to the limit to defend himself. Dooku presses. Obi-Wan makes a lunging slash, and a laughing Dooku catches it. The two struggle in a test of strength, the two energy blades straining against each other. Dooku wins the test and runs his blade through Obi-Wan's shoulder. The younger Jedi screams in agony and drops his blade. Dooku then slices Obi-Wan's leg for good measure. Obi-Wan stumbles back against the wall, trips, and crashes to the ground. His lightsaber goes skittering across the floor. ","COUNT DOOKU: And so it ends'","With a shrug, he raises his blade for the final blow as Obi-Wan stares at him helplessly ' ","-- and Anakin's blade blocks it in mid-swing!!","Dooku is shocked and takes a step back. He regards Anakin with incredulity. ","COUNT DOOKU: Brave of you, boy ' but I thought you'd learned your lesson.","ANAKIN: (sneers) I am a slow learner. ","Anakin begins a flurry of attacks on Dooku. The fury of his attack catches Dooku off-guard, and he staggers back. Anakin swings and nicks him, and Dooku gasps and clutches the side of his arm. He pulls his hand away and stares at his blood, then looks at Anakin with a new respect. ","COUNT DOOKU: You have unusual powers, my young Padawan. But not enough to save you this time. ","ANAKIN: Don't bet on it! ","OBI-WAN: ANAKIN!! ","Obi-Wan uses the Force to fling his lightsaber at Anakin. He catches it. Anakin skillfully wields the two lightsabers with relative ease. Dooku parries and ripostes. It's no contest. Dooku knocks Obi-Wan's green lightsaber from Anakin's hand and relentless drives Anakin back. Anakin retreats, slicing a power cable on the floor. The hangar is cast into darkness, except for the blue and scarlet lights of the lightsaber blades. Another fierce, lightning-fast clash of blades. With a roar, Anakin thrusts forward -- and Dooku cuts Anakin's sword arm off at the elbow. ","Before he even has the chance to scream, Dooku throws out his hand and Anakin is Force-shoved across the room. He falls and skids to a halt beside Obi-Wan's body, driven unconscious by the shock and pain. Dooku sighs and extinguishes his lightsaber, suddenly seeming much older. He looks up and turns at a tapping noise at the hangar door'","Slowly, through the thick smoke, the tiny figure of Yoda hobbles into view. He stops on the smoke-filled threshold.","YODA: Count Dooku. ","COUNT DOOKU: Master Yoda. ","Dooku steps away from Obi-Wan and Anakin. For the first time, a hint of fear enters Dooku's eyes. ","COUNT DOOKU: You have interfered in our affairs for the last time. Now we shall see who is the most powerful.  ","Dooku levitates machinery in the room and hurtles it at the tiny figure of the Jedi Master. Yoda effortlessly deflects the machinery and strikes a martial arts pose.","Dooku then causes great boulders in the ceiling above Yoda to fall. Again, Yoda deflects the boulders, which fall around him. ","YODA: Powerful you have become, Dooku. The Dark Side I sense in you. ","COUNT DOOKU: I've become more powerful than any Jedi. Even you.  ","Dooku thrusts out his arm, flinging out purple Force lightning. Yoda catches the lightning in his hand ' balls it up ' and hurtles it right back at him!! Dooku deflects it into the wall, but just barely. He shoots more lightning out. Yoda again catches it in his hand, and it absorbs into his palm. ","YODA: Much to learn you still have. ","COUNT DOOKU: It is obvious this contest cannot be decided by our knowledge of the Force'","Dooku reignites his lightsaber. ","COUNT DOOKU: 'but by our skills with a lightsaber. ","YODA: No interest in contests do I have. ","Dooku whirls his lightsaber in a formal salute. Yoda Force-pulls his lightsaber out from under his robe and ignites it. ","Yoda attacks! He flies forward with a screeching yell. Dooku is forced to retreat. Words are insufficient to describe the range and skill of Yoda's speed and swordplay. The little gnome's lightsaber is a blur of emerald-green light, too fast for Dooku to defend against. He smoothly blocks Dooku's blows and spins through the air like a tiny tornado, bouncing off the Sail Ship and the hangar wall. Finally, their blades cross and the fighting slows. Yoda inches closer and quietly speaks'","YODA: Fought well you have, my old Padawan. But the end for you this is. ","COUNT DOOKU: The battle is far from over. This is just the beginning -- ","Mustering all the strength he can find, Dooku suddenly dislodges Yoda and, using the Force, brings one of the huge hanging ceiling cranes in the hangar crashing down on Obi-Wan and Anakin. In the blink of an eye, Yoda closes his eyes and concentrates. The fallen crane trembles and starts to lift. Count Dooku runs up the ship's ramp, throwing a last look back before going inside. ","Obi-Wan is still awake and tries to add what little strength he has left into helping his old master. Yoda concentrates harder. Slowly, with their combined power, the crane rises. Yoda exerts every ounce of his powers. The crane lifts clear of Obi-Wan and Anakin and is thrown to the ground.","The Sail Ship's ramp closes, and the sound of the ship's engines are heard starting up.","EXT. GEONOSIS LANDSCAPE ' LATE DAY","Another Gunship floats beside the open door of the hangar. Padme and several Clone Troopers race out of it. In the hangar, the sound of the engines increases. Dooku's Sailor Ship takes off through a hangar portal. Padme and the Clone Troopers shoot at it, but it is too late. The Sailor Ship rises into the air and flies away into the sunset sky.","EXT. GEONOSIS -- SPACE ","Passing one of the rising Trade Federation battleships, the solar sails unfurl on Dooku's ship. It blurs away into hyperspace. ","INT. GEONOSIS SECRET HANGAR TOWER ' LATE DAY","Anakin slowly awakens, bathed in sweat and moaning in agony. Yoda sighs heavily at the sad sight and summons his gimer stick back into his hand, sagging onto it with all the weight of his advanced years. Obi-Wan slowly pulls himself up, hobbling on his injured leg. ","PADME: (O.S.) ANAKIN!!","Padme and the Clone Troopers rush in. The very sight of Padme reinvigorates Anakin, and he pulls himself up as well. Padme runs up to Anakin and throws her arms around him. Anakin is so tired and exhausted that he can barely stand. The clone captain approaches Yoda. ","CLONE CAPTAIN: Resistance is at an end, General. Awaiting your orders. ","Yoda sighs again. ","YODA: A dark day it is'","EXT. SPACE ' CORUSCANT","Count Dooku's Interstellar Sail Ship emerges from hyperspace and floats toward the glittering world of Coruscant. The golden solar sails fold up and move back into the tiny vessel. ","EXT. CORUSCANT, OLD TOWN ' DAWN","The Sail Ship glides through a deserted, burned-out part of Coruscant. Count Dooku maneuvers his ship into one of the empty buildings and lands. ","INT. CORUSCANT, SECRET LANDING PLATFORM ' DAWN","The ramp lowers. Count Dooku walks down the ramp and into the abandoned hangar, where he is then greeted by the hooded figure of Darth Sidious. Dooku bows. ","COUNT DOOKU: The Force is with us, Master Sidious.                                                            ","DARTH SIDIOUS: Welcome home, Lord Tyranus. You have done well.  ","COUNT DOOKU: I bring good news for you, my Lord. War has begun. ","DARTH SIDIOUS: Excellent. Everything is going as planned. ","Only a triumphant smile is seen from beneath the black hood. ","EXT. CORUSCANT ' JEDI TEMPLE ' SUNSET","The beautiful temple basks in the red glow of the setting sun. ","INT. JEDI TEMPLE, JEDI COUNCIL CHAMBER -- SUNSET","Obi-Wan and Mace Windu stand and look out through the tall windows of the Council Chamber at the great plaza below. Yoda sits in his chair. ","OBI-WAN: Do you believe what Count Dooku said about Sidious controlling the Senate? It doesn't feel right'","YODA: Joined the Dark Side Dooku has. Lies'deceit'creating mistrust are his ways now. ","MACE WINDU: Nevertheless, I feel we should keep a closer eye on the Senate. ","YODA: I agree. ","MACE WINDU: Where is your apprentice? ","OBI-WAN: On his way to Naboo, escorting Senator Amidala. (beat, then an attempt at cheer) I have to admit that without the clones, it would not have been a victory. ","From his seat, a sad Yoda scowls at Obi-Wan. He is the only other person in the room ' all the other Council chairs are chillingly empty. ","YODA: Victory?!? 'Victory', you say? Master Obi-Wan' (shakes his head) not a victory. A defeat it was. The shroud of the Dark Side has fallen. Begun, the Clone War has'"],[oA.revenge]:["Anakin: Lock onto him, R2.","Anakin: Master, General Grievous's ship is directly ahead...the one crawling with vulture droids.","Obi-Wan: Oh, I see it. Oh, this is going to be easy. Oddball, do you copy?","Oddball: Copy, Red Leader.","Obi-Wan: Mark my position. Form your squad up behind me.","Oddball: We're on your tail, General Kenobi.","Clone: Set S-foils in attack position.","Anakin: This is where the fun begins.","Obi-Wan: Let them pass between us.","Oddball: They're all over me. Get them off my...","Anakin: I'm gonna go help them out.","Obi-Wan: No. No, they are doing their job so we can do ours.","Anakin: Missiles. Pull up.","Obi-Wan: They overshot us.","Anakin: They're coming around.","Obi-Wan: All right, R4. No, no, no, no...No, nothing too fancy.","Anakin: Surge all power units, R2. Stand by reverse thrusters. We got 'em, R2.","Obi-Wan: Flying is for droids.","Obi-Wan: I'm hit. Anakin?","Anakin: I see them. Buzz droids.","Obi-Wan: R4, be careful. You have a...Oh, dear. They're shutting down all the controls.","Anakin: Move to the right so I can get a clear shot at them.","Obi-Wan: The mission. Get to the command ship. Get the chancellor. I'm running out of tricks here.","Obi-Wan: Oh! In the name of...Hold your fire! You're not helping here.","Anakin: I agree. Bad idea.","Obi-Wan: I can't see a thing. My cockpit's fogging. They're all over me. Anakin!","Anakin: Move to the right.","Obi-Wan: Hold on, Anakin. You're gonna get us both killed. Get out of here. There's nothing more you can do.","Anakin: I'm not leaving without you, Master. Get him, R2. Watch out.","Obi-Wan: R2, hit the buzz droid's center eye.","Anakin: Yeah, you got him!","Obi-Wan: Great, R2.","Anakin: The general's command ship is dead ahead.","Obi-Wan: Well, haveyou noticed the shields are still up?","Anakin: Sorry, Master.","Obi-Wan: Oh, I have a bad feeling about this.","Battle Droid: There they are. Get them.","Obi-Wan: R2, locate the chancellor.","Obi-Wan: The chancellor's signal is coming from right there...the observation platform at the top of that spire.","Anakin: I sense Count Dooku.","Obi-Wan: I sense a trap.","Anakin: Next move?","Obi-Wan: Spring the trap.","Anakin: R2, go back. I need you to stay with the ship.","Obi-Wan: Here. Take this and wait for orders.","Grievous: What's the situation, Captain?","Lushros Dofine: Two Jedi have landed in the main hangar bay. We're tracking them.","Grievous: Just as Count Dooku predicted.","Anakin: Destroyers.","B1 Battle Droid: Drop your weapons. I said drop 'em.","B1 Battle Droid: Roger.","B1 Battle Droid: Roger, roger.","B1 Battle Droid: Roger, roger.","B2 Battle Droid: Those are Jedi fighters all right.","Obi-Wan: Did you press the stop button?","Anakin: No. Did you?","Obi-Wan: No.","Anakin: Well, there's more than one way out of here.","Obi-Wan: We don't want to get out. We want to get moving. R2, activate elevator 31174. Come in, R2.","B2 Battle Droid: What that?","Obi-Wan: R2, do you copy? R2, activate the elevator number...","B2 Battle Droid: Get back to work. That nothin'.","Obi-Wan: Activate the elevator 31174. R2, we...Always on the move. R2, switch on the comlink. R2, can you hear me? R2? Whoa! R2! R2! Stop. Stop. R2, we need to be going up.","B1 Battle Droid: Hands up, Jedi.","Obi-Wan: R2, do you copy? R2, do you hear me? R2, we need to be going up, not down.","B1 Battle Droid: Hey, you!","Obi-Wan: Now, that's better.","B2 Battle Droid: You stupid little astro droid.","B1 Battle Droid: Uh-oh.","Obi-Wan: Oh, it's you.","B2 Battle Droid: My eyes! My eyes!","Anakin: What was that all about?","Obi-Wan: Well, R2 has been...","Anakin: Uh, no loose wire jokes.","Obi-Wan: Did I say anything?","Anakin: He's trying.","Obi-Wan: I didn't say anything.","Obi-Wan: Chancellor.","Anakin: Are you all right?","Palpatine: Count Dooku.","Obi-Wan: This time we will do it together.","Anakin: I was about to say that.","Palpatine: Get help. You're no match for him. He's a Sith lord.","Obi-Wan: Chancellor Palpatine, Sith lords are our speciality.","Dooku: Your swords, please. We don't want to make a mess of things in front of the chancellor.","Obi-Wan: You won't get away this time, Dooku.","Dooku: I've been looking forward to this.","Anakin: My powers have doubled since the last time we met, Count.","Dooku: Good. Twice the pride, double the fall.","Palpatine: Get...","Dooku: I sense great fear in you, Skywalker. You have hate. You have anger. Butyou don't use them.","Palpatine: Good, Anakin. Good. Kill him. Kill him now.","Anakin: I shouldn't.","Palpatine: Do it. You did well, Anakin. He was too dangerous to be kept alive.","Anakin: Yes, but he was an unarmed prisoner. I shouldn't have done that. It's not the Jedi way.","Palpatine: It is only natural. He cut off your arm, and you wanted revenge. It wasn't the first time, Anakin. Remember what you told me about your mother and the Sand People? Now we must leave before more security droids arrive.","Palpatine: Anakin, there's no time. We must get off this ship before it's too late.","Anakin: He seems to be all right.","Palpatine: Leave him, or we'll never make it.","Anakin: His fate will be the same as ours.","Grievous: Prepare for attack!","Lushros Dofine: All batteries, fire! Fire!","Anakin: Elevator's not working. R2, activate elevator 3224.","Lushros Dofine: Reverse stabilizers.","B1 Battle Droid: Reversing stabilizers.","Lushros Dofine: Magnetize! Magnetize!","Grievous: Fire the emergency booster engines.","B1 Battle Droid: We're leveling out, sir.","Obi-Wan: Oh!","Anakin: Easy. We're in a bit of a situation here.","Obi-Wan: Did I miss something?","Anakin: Hold on.","Obi-Wan: What is that?","Anakin: Uh, oops. R2. R2, shut down the elevator.","Obi-Wan: Too late. Jump!","Obi-Wan: Let's see if we can find something in the hangar bay that's still flyable.","Anakin: R2, get down here. R2, doyou copy?","B1 Battle Droid: General, we found the Jedi. They're in hallway 328.","Grievous: Activate ray shields.","Anakin: Ray shields.","Obi-Wan: Wait a minute. How did this happen? We're smarter than this.","Anakin: Apparently not.","Anakin: I say patience.","Obi-Wan: Patience?","Anakin: Yes. R2 will be along in a few moments... and then... he'll release the ray shields. See? No problem.","B2 Battle Droid: Don't move. Ow!","Obi-Wan: Do you have a plan 'B'?","Grievous: Ah, yes. The negotiator. General Kenobi. We've been waiting for you.","B1 Battle Droid: Excuse me.","Grievous: That wasn't much of a rescue.","B1 Battle Droid: You're welcome.","Grievous: And...Anakin Skywalker. I was expecting someone with your reputation to be a little... older.","Anakin: General Grievous. You're shorter than I expected.","Grievous: Jedi scum.","Obi-Wan: We have a job to do, Anakin. Try not to upset him.","Grievous: Your lightsabers will make a fine addition to my collection.","Obi-Wan: Not this time. And this time, you won't escape.","Anakin: R2.","Grievous: Crush them! Make them suffer!","B1 Battle Droid: Come. Now!","Grievous: Stay at your stations!","B1 Battle Droid: Whoa! Get him! Get him! Ow! Run!","Grievous: Don't bother with them. Keep the ship in orbit.","B1 Battle Droid: Yes, sir.","Grievous: You lose, General Kenobi.","B1 Battle Droid: Get out ofhere! Run!","Grievous: Time to abandon ship.","Anakin: All the escape pods have been launched.","Obi-Wan: Grievous. Can you fly a cruiser like this?","Anakin: You mean, do I know how to land what's left of this thing?","Obi-Wan: Well?","Anakin: Well, under the circumstances, I'd say the ability to pilot this thing is irrelevant. Strap yourselves in. Open all hatches. Extend all flaps and drag fins.","Anakin: We lost something.","Obi-Wan: Not to worry. We are still flying half a ship.","Anakin: Now we're really picking up speed.","Obi-Wan: Eight plus 60. We're in the atmosphere.","Anakin: Grab that. Keep us level.","Obi-Wan: Steady.","Anakin: Easy, R2.","Obi-Wan: 5000. Fire ships on the left and the right.","Fire Ship Captain: We'll take you in.","Obi-Wan: Copy that.","Obi-Wan: Landing strip, straight ahead.","Anakin: We're coming in too hot.","Obi-Wan: Another happy landing.","Anakin: Areyou coming, Master?","Obi-Wan: Oh, no. I'm not brave enough for politics. I have to report to the council. Besides, someone needs to be the poster boy.","Anakin: Hold on. This whole operation was your idea.","Obi-Wan: Let us not forget, Anakin, that you rescued me from the buzz droids. And you killed Count Dooku, and you rescued the chancellor... carrying me unconscious on your back.","Anakin: All because of your training.","Obi-Wan: Anakin, let's be fair. Today you were the hero...and you deserve your glorious day with the politicians.","Anakin: All right. But you owe me one, and not for saving your skin for the 10th time.","Obi-Wan: Ninth time. That business on Cato Neimoidia doesn't...doesn't count. I'll see you at the briefing.","Mace: Chancellor Palpatine, are you all right?","Palpatine: Yes. Thanks to your two Jedi knights. They killed Count Dooku, but General Grievous has escaped once again.","Mace: General Grievous will run and hide, as he always does. He's a coward.","Palpatine: But with Count Dooku dead, he is the leader of the droid army. And I assure you, the senate will vote to continue the war as long as Grievous is alive.","Mace: Then the Jedi Council will make finding Grievous our highest priority.","Orn Free Taa: Watch it.","Jar-Jar: Excuse me.","C-3PO: Come along, R2.","Bail Organa: The Republic cannot praise you enough.","Anakin: Thank you, Senator Organa.","C-3PO: Well, it couldn't possibly be as bad as all that. Now there I agree with you. In fact, I could do with a tune-up myself.","Anakin: But the fighting will continue until General Grievous is spare parts.","Bail Organa: Well, I will do everything I can in the senate.","Anakin: Excuse me.","Bail Organa: Certainly.","Padme: Oh, Anakin.","Anakin: I've missed you, Padme.","Padme: There were whispers that you'd been killed.","Anakin: I'm all right. It feels like we've been apart for a lifetime. And it might have been, ifthe chancellor hadn't been kidnapped. I don't think they would have ever brought us back from the outer rim sieges.","Padme: Wait. Not here.","Anakin: Yes, here. I'm...I'm tired of all this deception. I don't care if they know we're married.","Padme: Anakin, don't say things like that.","Anakin: Areyou all right? You're trembling. What's going on?","Padme: Something wonderful has happened. Ani, I'm pregnant.","Anakin: That's...Well, that's won...That's wonderful.","Padme: What are we gonna do?","Anakin: We're not gonna worry about anything right now. All right? This is a happy moment. The happiest moment of my life.","Grievous: Yes, Lord Sidious?","Palpatine: General Grievous... I suggest you move the separatist leaders to Mustafar.","Grievous: It will be done, my lord.","Palpatine: The end of the war is near, General.","Grievous: But the loss of Count Dooku...","Palpatine: His death was a necessary loss. Soon I will have a new apprentice... one far younger and more powerful.","Padme: Ani, I want to have our baby back home on Naboo. We can go to the lake country where no one will know... where we can be safe. I can go early and fix up the baby's room. I know the perfect spot. Right by the gardens.","Anakin: You are so... beautiful.","Padme: It's only because I'm so in love.","Anakin: No. No, it's because I'm so in love with you.","Padme: So love has blinded you?","Anakin: Well, that's not exactly what I meant.","Padme: But it's probably true.","Padme: Anakin, help me!","Padme: What's bothering you?","Anakin: Nothing. I remember when I gave this to you.","Padme: How long is it gonna take for us to be honest with each other?","Anakin: It was a dream.","Padme: Bad?","Anakin: Like the ones I used to have about my mother...just before she died.","Padme: And?","Anakin: And it was about you.","Padme: Tell me.","Anakin: It was only a dream. You die in childbirth.","Padme: And the baby?","Anakin: I don't know.","Padme: It was only a dream.","Anakin: I won't let this one become real.","Padme: This baby will change our lives. I doubt the queen will continue to allow me to serve in the senate. And if the council discovers you're the father, you'll be expelled...","Anakin: I...I know. I know.","Padme: Do you think Obi-Wan might be able to help us?","Anakin: We don't need his help. Our baby is a blessing.","Yoda: Premonitions? Premonitions. Hmm. These visions you have...","Anakin: They're of pain, suffering.","Yoda: Death. Yourselfyou speak of, or someoneyou know?","Anakin: Someone.","Yoda: Close to you?","Anakin: Yes.","Yoda: Careful you must be when sensing the future, Anakin. The fear of loss is a path to the dark side.","Anakin: I won't let these visions come true, Master Yoda.","Yoda: Death is a natural part of life. Rejoice for those around you who transform into the Force. Mourn them, do not. Miss them, do not. Attachment leads to jealousy. The shadow of greed that is.","Anakin: What must I do, Master Yoda?","Yoda: Train yourself to let go...of everything you fear to lose.","Obi-Wan: You've missed the report on the outer rim sieges.","Anakin: I'm sorry. I was held up. I have no excuse.","Obi-Wan: In short, they are going very well. Saleucami has fallen, and Master Vos has moved his troops to Boz Pity.","Anakin: What's wrong, then?","Obi-Wan: The senate is expected...to vote more executive powers to the chancellor today.","Anakin: Well, that can only mean less deliberating and more action. Is that bad? It'll make it easier for us to end this war.","Obi-Wan: Be careful of your friend Palpatine.","Anakin: Be careful of what?","Obi-Wan: He has requested your presence.","Anakin: What for?","Obi-Wan: He would not say.","Anakin: He didn't inform the council? That's unusual, isn't it?","Obi-Wan: All of this is unusual. And it's making me feel uneasy.","Palpatine: I hope you trust me, Anakin.","Anakin: Of course.","Palpatine: I need your help, son.","Anakin: What do you mean?","Palpatine: I'm depending on you.","Anakin: For what? I don't understand.","Palpatine: To be the eyes, ears and voice ofthe Republic. Anakin...I'm appointing you to be my personal representative on the Jedi Council.","Anakin: Me? A master? I'm overwhelmed, sir. But the council elects its own members. They'll never accept this.","Palpatine: I think they will. They need you. More than you know.","Yoda: Allow this appointment lightly the council does not. Disturbing is this move by Chancellor Palpatine.","Anakin: I understand.","Mace: You are on this council, but we do not grant you the rank of master.","Anakin: What? How can you do this? This is outrageous. It's unfair. How can you be on the council and not be a master?","Mace: Take a seat, young Skywalker.","Anakin: Forgive me, Master.","Ki-Adi-Mundi: We have surveyed all systems in the Republic...but have found no sign of General Grievous.","Yoda: Hiding in the outer rim Grievous is. The outlying systems you must sweep.","Obi-Wan: We do not have many ships to spare.","Ki-Adi-Mundi: What about the droid attack on the Wookiees?","Mace: It is critical we send an attack group there immediately.","Obi-Wan: He's right. It's a system we cannot afford to lose.","Yoda: Go I will. Good relations with the Wookiees I have.","Mace: It's settled then. Yoda will take a battalion of clones... to reinforce the Wookiees on Kashyyyk. May the Force be with us all.","Anakin: What kind of nonsense is this? Put me on the council and not make me a master? It's never been done in the history of the Jedi. It's insulting.","Obi-Wan: Oh, calm down, Anakin. You have been given a great honor. To be on the council atyour age... it's never happened before. The fact of the matter is you are too close to the chancellor. The council doesn't like it when he interferes in Jedi affairs.","Anakin: I swear to you, I didn't ask to be put on the council.","Obi-Wan: But it's what you wanted. Your friendship with Chancellor Palpatine seems to have paid off.","Anakin: That has nothing to do with this.","Obi-Wan: The only reason the council has approved your appointment... is because the chancellor trusts you.","Anakin: And?","Obi-Wan: Anakin, I am on your side. I didn't want to putyou in this situation.","Anakin: What situation?","Obi-Wan: The council wants you to report on all the chancellor's dealings. They want to know what he's up to.","Anakin: They want me to spy on the chancellor? But that's treason.","Obi-Wan: We are at war, Anakin.","Anakin: Why didn't the council give me this assignment when we were in session?","Obi-Wan: This assignment is not to be on record.","Anakin: The chancellor is not a bad man, Obi-Wan. He befriended me. He's watched out for me ever since I arrived here.","Obi-Wan: That is why you must help us. Anakin, our allegiance is to the senate, not to its leader... who has managed to stay in office long after his term has expired.","Anakin: The senate demanded that he stay longer.","Obi-Wan: Yes, but use your feelings, Anakin. Something is out of place.","Anakin: You're asking me to do something against the Jedi code... against the Republic, against a mentor and a friend. That's what's out of place here. Why are you asking this ofme?","Obi-Wan: The council is asking you.","Obi-Wan: Anakin did not take to his new assignment with much enthusiasm.","Mace: It's very dangerous, putting them together. I don't think the boy can handle it. I don't trust him.","Obi-Wan: With all due respect, Master, is he not the chosen one? Is he not to destroy the Sith and bring balance to the Force?","Mace: So the prophecy says.","Yoda: A prophecy that misread could have been.","Obi-Wan: He will not let me down. He never has.","Yoda: I hope right you are.","Anakin: Sometimes I wonder what's happening to the Jedi order. I think this war is destroying the principles of the Republic.","Padme: Have you ever considered that we may be on the wrong side?","Anakin: What do you mean?","Padme: What if the democracy we thought we were serving no longer exists... and the Republic has become the very evil we've been fighting to destroy?","Anakin: I don't believe that. And you're sounding like a separatist.","Padme: This war represents a failure to listen. Nowyou're closer to the chancellor than anyone. Please, ask him to stop the fighting and let diplomacy resume.","Anakin: Don't ask me to do that. Make a motion in the senate, where that kind ofa request belongs.","Padme: What is it?","Anakin: Nothing.","Padme: Don't do this. Don't shut me out. Let me help you. Hold me. Like you did by the lake on Naboo. So long ago, when there was nothing but our love. No politics, no plotting, no war.","Anakin: You wanted to see me, Chancellor.","Palpatine: Yes, Anakin. Come closer. I have good news.","Palpatine: Our clone intelligence units have discovered the location of General Grievous. He's hiding in the Utapau system.","Anakin: At last. We'll be able to capture that monster and end this war.","Palpatine: I would worry about the collective wisdom of the council... if it didn't select you for this assignment. You're the best choice, by far.","Palpatine: Hmm. Sit down. Leave us.","Palpatine: Anakin...you know I'm not able to rely on the Jedi Council. If they haven't included you in their plot, they soon will.","Anakin: I'm not sure I understand.","Palpatine: You must sense what I have come to suspect. The Jedi Council want control ofthe Republic. They're planning to betray me.","Anakin: I don't think that...","Palpatine: Anakin. Search your feelings. You know, don't you?","Anakin: I know they don't trust you.","Palpatine: Hmm. Or the senate. Or the Republic, or democracy, for that matter.","Anakin: I have to admit, my trust in them has been shaken.","Palpatine: Why? They asked you to do something... that made you feel dishonest, didn't they? They asked you to spy on me, didn't they?","Anakin: I don't, uh...I don't know what to say.","Palpatine: Remember back to your early teachings. All who gain power are afraid to lose it. Even the Jedi.","Anakin: The Jedi use their power for good.","Palpatine: Good is a point of view, Anakin. The Sith and the Jedi are similar in almost everyway...including their quest for greater power.","Anakin: The Sith rely on their passion for their strength. They think inwards... only about themselves.","Palpatine: And the Jedi don't?","Anakin: The Jedi are selfless. They only care about others.","Palpatine: Did you ever hear the tragedy of Darth Plagueis the Wise?","Anakin: No.","Palpatine: I thought not. It's not a story the Jedi would tell you. It's a Sith legend.","Palpatine: Darth Plagueis... was a dark lord of the Sith so powerful and so wise...he could use the Force to influence the midi-chlorians...to create... Iife.","Palpatine: He had such a knowledge ofthe dark side... he could even keep the ones he cared about...from dying.","Anakin: He could actually...save people from death?","Palpatine: The dark side of the Force is a pathway to many abilities...some consider to be unnatural.","Anakin: Wh...What happened to him?","Palpatine: He became so powerful...the only thing he was afraid of was...Iosing his power. Which eventually, of course, he did.","Palpatine: Unfortunately, he taught his apprentice everything he knew. Then his apprentice killed him in his sleep.","It's ironic. He could save others from death...but not himself.","Anakin: Is it possible to learn this power?","Palpatine: Not from a Jedi.","Clone Commander: All Redunits, overhere!","Ki-Adi-Mundi: Palpatine thinks General Grievous is on Utapau?","Anakin: A partial message was intercepted in a diplomatic packet...from the chairman of Utapau.","Yoda: Hmm. Act on this we must. The capture of General Grievous will end this war. Quickly and decisively we should proceed.","Anakin: The chancellor has requested...that I lead the campaign.","Mace: The council will make up its own mind who is to go...not the chancellor.","Yoda: A master is needed, with more experience.","Ki-Adi-Mundi: I concur. Master Kenobi should go.","Yoda: I agree.","Ki-Adi-Mundi: Aye.","Mace: Aye. Verywell. Council adjourned.","Clone Commander Gree: The droids have started up their main power generators.","Yoda: Then now the time is, Commander.","Clone Commander Gree: Yes, sir.","B1 Battle Droid: Charge!","Clone: Headfor cover!","Anakin: You're gonna need me on this one, Master.","Obi-Wan: Oh, I agree. However, it may turn out just to be a wild bantha chase.","Anakin: Master. I've disappointed you. Uh, I haven't been very appreciative ofyour training. I've been arrogant, and I apologize. I've just been so frustrated with the council.","Obi-Wan: You are strong and wise, Anakin, and I am very proud of you. I have trained you since you were a small boy. I have taught you everything I know. And you have become a far greater Jedi than I could ever hope to be. But be patient, Anakin. It will not be long before the council makes you a Jedi master.","Anakin: Obi-Wan. May the Force be with you.","Obi-Wan: Good-bye, old friend. May the Force be with you.","Clone Commander Cody: Fortunately, most of the cities are concentrated on this small continent here. On the far side.","Obi-Wan: I'll keep them distracted until you get there. Just don't take too long.","Clone Commander Cody: Come on. When have I ever let you down?","Obi-Wan: Verywell. The burden is on me not to destroy all the droids until you arrive.","Obi-Wan: Save your energy.","Padme: I can't.","Obi-Wan: Don't give up, Padme.","Anakin: Obi-Wan's been here, hasn't he?","Padme: He came by this morning.","Anakin: What did he want?","Padme: He's worried about you. He says you've been under a lot of stress.","Anakin: I feel lost.","Padme: Lost? What do you mean?","Anakin: Obi-Wan and the council don't trust me.","Padme: They trust you with their lives.","Anakin: Something's happening. I'm not the Jedi I should be. I want more. And I know I shouldn't.","Padme: You expect too much of yourself.","Anakin: I found a way to save you.","Padme: Save me?","Anakin: From my nightmares.","Padme: Is that what's bothering you?","Anakin: I won't lose you, Padme.","Padme: I'm not gonna die in childbirth, Ani. I promise you.","Anakin: No, I promiseyou.","Tion Medon: Greetings, young Jedi. What brings you to our remote sanctuary?","Obi-Wan: Unfortunately, the war.","Tion Medon: There's no war here...unless you brought it with you.","Obi-Wan: With your kind permission, I should like some fuel...and to use your city as a base as I searchnearby systems for General Grievous.","Tion Medon: He is here. We are being held hostage. They are watching us.","Obi-Wan: I understand.","Tion Medon: Tenth level, thousands of battle droids.","Obi-Wan: Tell your people to take shelter. If you have warriors, now is the time.","Obi-Wan: Take the fighter back to the ship. Tell Cody I've made contact.","Pau'an Body Guard: Is he bringing additional warriors?","Tion Medon: He didn't say.","Grievous: It won't be long before the armies of the Republic track us here. I am sending you to the Mustafar system in the outerrim. It is a volcanic planet. You will be safe there.","Nute: Safe? Hmph! Chancellor Palpatine managed to escape your grip, General. Without Count Dooku, I have doubts about your ability to keep us safe.","Grievous: Be thankful, Viceroy...you have not found yourself in my grip. Your ship is waiting.","Obi-Wan: Hello there.","Grievous: General Kenobi. You are a bold one. Kill him.","Grievous: Back away. I will deal with this Jedi slime myself.","Obi-Wan: Your move.","Grievous: You fool. I've been trained in your Jedi arts by Count Dooku. Attack, Kenobi.","Grievous: Army or not...you must realize you are doomed.","Obi-Wan: Oh, I don't think so.","B1 Battle Droid: Uh-oh.","Obi-Wan: Hyah!","Clone Trooper: Cover that corner.","Clone Commander Cody: Master Windu, may I interrupt? General Kenobi has made contact with General Grievous... and we have begun our attack.","Mace: Thank you, Commander. Anakin, deliver this report to the chancellor. His reaction will give us a clue to his intentions.","Anakin: Yes, Master.","Mace: I sense a plot to destroy the Jedi. The dark side of the Force surrounds the chancellor.","Ki-Adi-Mundi: If he does not give up his emergency powers after the destruction of Grievous... then he should be removed from office.","Mace: The Jedi Council would have to take control of the senate... in order to secure a peaceful transition.","Yoda: To a dark place this line of thought will carry us. Hmm. Great care we must take.","Anakin: Chancellor. We've just received a report from Master Kenobi. He has engaged General Grievous.","Palpatine: We can only hope that Master Kenobi is up to the challenge.","Anakin: I should be there with him.","Palpatine: It's upsetting to me to see that the council...doesn't seem to fully appreciate your talents. Don't you wonder why they won't make you a Jedi master?","Anakin: I wish I knew. More and more I get the feeling that...I'm being excluded from the council. I know there are things about the Force that they're not telling me.","Palpatine: They don't trust you, Anakin. They see your future. They know your power will be too strong to control. You must break through the fog of lies the Jedi have created around you.","Palpatine: Let me help you to know the subtleties of the Force.","Anakin: How do you know the ways ofthe Force?","Palpatine: My mentor taught me everything about the Force. Even the nature of the dark side.","Anakin: You know the dark side?","Palpatine: Anakin...if one is to understand the great mystery...one must studyall its aspects...not just the dogmatic narrow view oftheJedi.","Palpatine: If you wish to become a complete and wise leader...you must embrace a larger view of the Force. Be careful of the Jedi, Anakin.","Palpatine: Only through me...can you achieve a power greater than any Jedi. Learn to know the dark side of the Force...and you will be able to save yourwife...from certain death.","Anakin: What did you say?","Palpatine: Use my knowledge. I beg you.","Anakin: You're the Sith lord.","Palpatine: I know what's been troubling you. Listen to me. Don't continue to be a pawn of the Jedi Council. Ever since I've known you, you've been searching for a life... greater than that ofan ordinary Jedi. A life of significance...of conscience.","Palpatine: Areyou going to kill me?","Anakin: I would certainly like to.","Palpatine: I know you would. I can feel your anger. It gives you focus...makes you stronger.","Anakin: I'm going to turn you over to the Jedi Council.","Palpatine: Of course. You should. But you're not sure of their intentions, areyou?","Anakin: I will quickly discover the truth of all this.","Palpatine: You have great wisdom, Anakin. Know the power of the dark side. Power to save Padme.","Grievous: Aaah!","Obi-Wan: So uncivilized.","Anakin: Master Windu, I must talk to you.","Mace: Skywalker, we just received word that Obi-Wan has destroyed General Grievous. We're on our way to make sure the chancellor returns emergency power back to the senate.","Anakin: He won't give up his power. I've just learned a terrible truth. I think Chancellor Palpatine is a Sith lord.","Mace: A Sith lord?","Anakin: Yes. The one we've been looking for.","Mace: How do you know this?","Anakin: He knows the ways of the Force. He's been trained to use the dark side.","Mace: Are you sure?","Anakin: Absolutely.","Mace: Then our worst fears have been realized. We must move quickly if the Jedi order is to survive.","Anakin: Master, the chancellor is very powerful. You'll need my help if you're going to arrest him.","Mace: For you own good, stay out ofthis affair. I sense a great deal of confusion in you, young Skywalker. There is much fear that clouds your judgment.","Anakin: I must go, Master.","Mace: No. If what you've told me is true...you will have gained my trust. But for now, remain here. Wait in the council chambers until we return.","Anakin: Yes, Master.","Palpatine: You do know, don't you...if the Jedi destroy me...any chance of saving her will be lost.","Palpatine: Master Windu. I take it General Grievous has been destroyed then. I must say you're here sooner than expected.","Mace: In the name of the Galactic Senate of the Republic... you're under arrest, Chancellor.","Palpatine: Are you threatening me, Master Jedi?","Mace: The senate will decide your fate.","Palpatine: I am the senate.","Mace: Not yet.","Palpatine: It's treason then.","Mace: You are under arrest, my lord.","Palpatine: Anakin, I told you it would come to this. I was right. The Jedi are taking over.","Mace: The oppression of the Sith will never return. You have lost.","Palpatine: No. No. No. You will die!","Palpatine: He's a traitor!","Mace; He is the traitor!","Palpatine: I have the power to save the one you love. You must choose.","Mace: Don't listen to him, Anakin!","Palpatine: Don't let him kill me. I can't hold it any longer. I...I...I...I can't. I...I...I'm weak. I'm...I'm too weak.","Palpatine: Anakin. Help me. Help me! I...I...I can't hold on any longer.","Mace: I am going to end this once and for all.","Anakin: You can't. He must stand trial.","Mace: He has control of the senate and the courts. He's too dangerous to be left alive.","Palpatine: I'm too weak. Oh. Don't kill me. Please.","Anakin: It's not the Jedi way. He must live.","Palpatine: Please don't.","Anakin: I need him.","Palpatine: Please don't!","Anakin: No!","Palpatine: Power! Unlimited power!","Anakin: What have I done?","Palpatine: You're fulfilling your destiny, Anakin. Become my apprentice. Learn to use the dark side of the Force.","Anakin: I will do whatever you ask.","Palpatine: Good.","Anakin: Just help me save Padme's life. I can't live without her.","Palpatine: To cheat death is a power only one has achieved... but if we work together... I know we can discover the secret.","Anakin: I pledge myself... to your teachings.","Palpatine: Good. Good. The Force is strong with you.","Palpatine: A powerful Sith you will become.","Palpatine: Henceforth you shall be known as...Darth...Vader.","Anakin: Thankyou, my master.","Palpatine: Rise.","Palpatine: Because the council did not trust you, my young apprentice...I believe you are the only Jedi with no knowledge of this plot.","Palpatine: When the Jedi learn what has transpired here...they will kill us...along with all the senators.","Anakin: I agree.","Palpatine: The council's next move willbe against the senate. Every single Jedi...including your friend Obi-Wan Kenobi...is now an enemy of the Republic.","Anakin: I understand, Master.","Palpatine: We must move quickly. The Jedi are relentless. If they are not all destroyed, it will be civil war without end.","Palpatine: First I want you to go to the Jedi temple. We will catch them off-balance.","Palpatine: Do what must be done, Lord Vader. Do not hesitate. Show no mercy.","Palpatine: Only then will you be strong enough with the dark side...to save Padme.","Anakin: What about the other Jedi spread across the galaxy?","Palpatine: Their betrayal will be dealt with. Afteryou have killed all the Jedi in the temple...go to the Mustafar system. Wipe out Viceroy Gunray...and the other separatist leaders.","Palpatine: Once more the Sith will rule the galaxy! And...we shall have... peace.","Clone Trooper: Sergeant, over here! Hurry! Follow them!","Clone Trooper: All Red units, let's move it!","Clone Trooper: Come on. Let's go!","Obi-Wan: Commander, contact your troops. Tell them to move to the higher levels.","Clone Commander Cody: Very good, sir. Oh, by the way, I think you'll be needing this.","Obi-Wan: Thank you, Cody. Now let's get a move on. We've got a battle to win here. Hyah!","Clone Commander Cody: Yes, sir.","Palpatine: Commander Cody...the time has come. Execute order 66.","Clone Commander Cody: Yes, my lord. Blast him!","Ki-Adi-Mundi: Come on!","Palpatine: Execute order 66.","Clone Jag and CT-57/11-9048: It will be done, my lord.","Clone Commander Bly: It will be done, my lord.","Sors Bandeam: Master Skywalker, there are too many of them. What are we going to do?","C-3PO: The chancellor's office indicated Master Anakin returned to the Jedi temple. Don't worry. I...I'm sure he'll be all right.","Bail Organa: What's going on here?","Clone Officer Appo: There's been a rebellion, sir. Don't worry. The situation is under control. I'm sorry, sir. It's time for you to leave.","Bail Organa: And so it is.","Clone Officer Appo: Get him!","Bail Organa: No!","Clone Officer Appo: Don't worry about him. Let him go.","Clone Sergeant: All these Wookiees are dead. Move to the east.","Clone Trooper: Yes, sir.","Yoda: Good-bye, Tarfful. Good-bye, Chewbacca. Miss you I will.","Bail Organa: Hopefully we'll be able to intercept a fewJedi...before they walk into this catastrophe.","Clone Commander Cody: Did you find Kenobi?","Clone Trooper: Sir, no one could have survived that fall.","Clone Commander Cody: Start loading your men on the ships. Move it.","Obi-Wan: Emergency code 91 3. I have no contact on any frequency.","Bail Organa: Master Kenobi.","Obi-Wan: Repeat.","Bail Organa: Master Kenobi.","Obi-Wan: Senator Organa. My clone troops turned on me. I need help.","Bail Organa: We have just rescued Master Yoda. It appears this ambush has happened everywhere. We're sending you our coordinates.","C-3PO: Hush! Not so loud.","Padme: Are you all right? I heard there was an attack on the Jedi temple. You could see the smoke from here.","Anakin: I'm fine. I'm fine. I came to see if you and the baby are safe.","Padme: What's happening?","Anakin: The Jedi have tried to overthrow the Republic.","Padme: I can't believe that.","Anakin: I saw Master Windu attempt to assassinate the chancellor myself.","Padme: Oh, Anakin. What are you gonna do?","Anakin: I will not betray the Republic. My loyalties lie with the chancellor...and with the senate and with you.","Padme: What about Obi-Wan?","Anakin: I don't know. Many Jedi have been killed. We can only hope that he's remained loyal to the chancellor.","Padme: Anakin, I'm afraid.","Anakin: Have faith, my love. Everything will soon be set right. The chancellor has given me a very important mission.","Anakin: The separatists have gathered on the Mustafar system. I'm going there to end this war. Wait for me until I return. Things will be different. I promise.","Anakin: Please, wait for me.","C-3PO: Well, he is under a lot ofstress, R2. Take care, my little friend.","C-3PO: Oh, my lady, is there anything I might do?","Padme: No, thank you, 3PO.","C-3PO: Oh. I...I feel so helpless.","Obi-Wan: How many other Jedi have managed to survive?","Yoda: Heard from no one have we.","Bail Organa: I saw thousands of troops attack the Jedi temple. That's why I went looking for Yoda.","Obi-Wan: Have we had any contact from the temple?","Yoda: Received a coded retreat message we have.","Bail Organa: It requests all Jedi to return to the temple. It says the war is over.","Obi-Wan: Well, then we must go back. If there are any stragglers, they will fall into the trap and be killed.","Yoda: Hmm. Suggest dismantling the coded signal, doyou?","Obi-Wan: Yes, Master. There is too much at stake.","Yoda: I agree. And a little more knowledge might light ourway.","Nute: The plan has gone as you had promised, my lord.","Palpatine: You have done well, Viceroy.","Palpatine: When my new apprentice Darth Vader arrives... he will take care of you.","Bail Organa's Pilot: We're receiving a message from the chancellor's office, sir.","Bail Organa: Send it through.","Bail Organa's Pilot: Yes, sir.","Mas Ameda: Senator Organa, the supreme chancellor requests your presence...at a special session of Congress.","Bail Organa: I will be there.","Mas Ameda: He'll be expecting you.","Bail Organa: Could be a trap.","Obi-Wan: I don't think so. The chancellor will not be able to control the thousands of star systems... without keeping the senate intact.","Bail Organa: If a special session of Congress there is...easier for us to enter the Jedi temple it will be.","Anakin: R2, stay with the ship.","Nute: Welcome, Lord Vader. We've been expecting you.","Palpatine: And the Jedi rebellion has been foiled.","Bail Organa: What's happened?","Padme: The chancellor's been elaborating...on a plot by the Jedi to overthrow the senate.","Palpatine: The remaining Jedi will be hunted down and defeated.","Obi-Wan: Not even the younglings survived.","Yoda: Killed not by clones...this Padawan. By a lightsaber he was.","Obi-Wan: Who? Who could have done this?","Palpatine: The attempt on my life...has left me scarred...and deformed.But I assure you. My resolve has never been stronger!","Rune: Stop! No!","Palpatine: In order to ensure the security...and continuing stability...the Republic will be reorganized...into the first Galactic Empire! For a safe...and secure society.","Padme: So this is how liberty dies. With thunderous applause.","Nute: The war is over. Lord Sidious promised us peace. We only want...","Obi-Wan: I have recalibrated the code, warning all surviving Jedi to stay away.","Yoda: For the clones...to discover the recalibration a long time it will take.","Obi-Wan: Wait. Master. There is something I must know.","Yoda: If into the security recordings you go...only pain will you find.","Obi-Wan: I must know the truth, Master.","Obi-Wan: It can't be. It can't be.","Palpatine: You have done well, my new apprentice. Now, Lord Vader...go and bring peace to the Empire.","Obi-Wan: I can't watch any more.","Yoda: Destroy the Sith we must.","Obi-Wan: Send me to kill the emperor. I will not kill Anakin.","Yoda: To fight this Lord Sidious, strong enough you are not.","Obi-Wan: He is like my brother. I cannot do it.","Yoda: Twisted by the dark side young Skywalker has become. The boy you trained, gone he is. Consumed by Darth Vader.","Obi-Wan: I do not know where the emperor has sent him. I don't know where to look.","Yoda: Use your feelings, Obi-Wan, and find him you will.","Obi-Wan: When was the last time you saw him?","Padme: Yesterday.","Obi-Wan: And do you know where he is now?","Padme: No.","Obi-Wan: Padme, I need your help. He is in grave danger.","Padme: From the Sith?","Obi-Wan: From himself. Padme...Anakin has turned to the dark side.","Padme: You're wrong. How could you even say that?","Obi-Wan: I have seen a...a security hologram...of him...killing younglings.","Padme: Not Anakin. He couldn't.","Obi-Wan: He was deceived by a lie. We all were. It appears that the chancellor is behind everything, including the war. Palpatine is the Sith lord we've been looking for.","Obi-Wan: After the death of Count Dooku, Anakin became his new apprentice.","Padme: I don't believe you. I can't.","Obi-Wan: Padme...I must find him.","Padme: You're going to kill him, aren't you?","Obi-Wan: He has become a very great threat.","Padme: I can't.","Obi-Wan: Anakin is the father, isn't he? I'm so sorry.","Captain Typho: Milady, let me come with you.","Padme: There's no danger. The fighting's over. And this is personal.","Captain Typho: As you wish, milady, but I strongly disagree.","Padme: I'll be all right, Captain. This is something I must do myself. Besides, 3PO will look after me.","C-3PO: Oh, dear. Do you know? I think I'm beginning to get the hang of this flying business. Hmm.","Anakin: The separatists have been taken care of, my master.","Palpatine: It is finished then. You have restored peace and justice to the galaxy.","Palpatine: Send a message to the ships ofthe Trade Federation. All droid units must shut down immediately.","Anakin: Very good, my lord.","Anakin: I saw your ship. What are you doing out here?","Padme: I was so worried about you. Obi-Wan told me terrible things.","Anakin: What things?","Padme: He said you've turned to the dark side. That you...killed younglings.","Anakin: Obi-Wan is trying to turn you against me.","Padme: He cares about us.","Anakin: Us?","Padme: He knows. He wants to help you.","Padme: Anakin, all I want is your love.","Anakin: Love won't saveyou, Padme. Only my new powers can do that.","Padme: At what cost? You're a good person. Don't do this.","Anakin: I won't loseyou the way I lost my mother.","Anakin: I am becoming more powerful than any Jedi has ever dreamed of. And I'm doing it for you. To protect you.","Padme: Come away with me. Help me raise our child. Leave everything else behind while we still can.","Anakin: Don't you see? We don't have to run away anymore.","Anakin: I have brought peace to the Republic. I am more powerful than the chancellor. I...I can overthrow him.","Anakin: And together, you and I can rule the galaxy...make things the way we want them to be.","Padme: I don't believe what I'm hearing. Obi-Wan was right. You've changed.","Anakin: I don't want to hear any more about Obi-Wan.","Anakin: The Jedi turned against me. Don't you turn against me.","Padme: I don't know you anymore. Anakin...you're breaking my heart. You're going down a path I can't follow.","Anakin: Because of Obi-Wan?","Padme: Because of what you've done. What you plan to do. Stop. Stop now. Come back. I love you.","Anakin: Liar!","Padme: No.","Anakin: You're with him! You brought him here to kill me.","Padme: No.","Obi-Wan: Let her go, Anakin. Anakin. Let her go.","Anakin: You turned her against me!","Obi-Wan: You have done that yourself.","Anakin: You will not take her from me!","Obi-Wan: Your anger and your lust for power have already done that.","Obi-Wan: You have allowed this dark lord to twist your mind, until now- until now you have become the very thing you swore to destroy.","Anakin: Don't lecture me, Obi-Wan. I see through the lies of the Jedi.","Anakin: I do not fear the dark side as you do.","Anakin: I have brought peace...freedom, justice...and security to my new empire.","Obi-Wan: Your new empire?","Anakin: Don't make me kill you.","Obi-Wan: Anakin, my allegiance is to the Republic, to democracy!","Anakin: If you're not with me...then you're my enemy.","Obi-Wan: Only a Sith deals in absolutes. I will do what I must.","Anakin: You will try.","Yoda: I hear a new apprentice you have, Emperor. Or should I call you Darth Sidious?","Palpatine: MasterYoda. You survived.","Yoda: Surprised?","Palpatine: Your arrogance blinds you, MasterYoda. Nowyou will experience...the full power of the dark side.","Palpatine: I have waited a long time...for this moment...my little green friend.","Palpatine: At last the Jedi are no more.","Yoda: Not if anything to say about it I have.","Palpatine: Aaah!","Yoda: At an end your rule is. And not short enough it was.","Yoda: If so powerful you are...why leave?","Palpatine: You will not stop me. Darth Vaderwill become more powerful than either of us.","Yoda: Faith in your new apprentice misplaced may be. As is your faith in the dark side ofthe Force.","Yoda: Hurry. Careful timing we will need.","Bail Organa: Activate your homing beacon when you're ready.","Clone Commander Thire: There's no sign of his body, sir.","Mas Ameda: Then he is not dead.","Palpatine: Double your search.","Clone Commander Thire: Yes, sir. Right away, sir.","Palpatine: Tell Captain Kagi to prepare my shuttle for immediate takeoff.","Mas Ameda: Yes, Master.","Palpatine: I sense Lord Vader is in danger.","Yoda: Into exile I must go. Failed I have.","Obi-Wan: I have failed you, Anakin. I have failed you.","Anakin: I should have known the Jedi were plotting to take over.","Obi-Wan: Anakin, Chancellor Palpatine is evil!","Anakin: From my point of view, the Jedi are evil.","Obi-Wan: Well, then you are lost!","Anakin: This is the end for you, my master.","Obi-Wan: It's over, Anakin. I have the high ground.","Anakin: You underestimate my power.","Obi-Wan: Don't try it.","Obi-Wan: You were the chosen one! It was said that you would destroy the Sith, not join them!","Obi-Wan: Bring balance to the Force...not leave it in darkness!","Anakin: I hate you!","Obi-Wan: You were my brother, Anakin. I loved you.","C-3PO: Oh. Master Kenobi. Um, we have Miss Padme on board. Yes. Please, please hurry. We should leave this dreadful place.","Padme: Obi-Wan. Is Anakin all right?","Clone Captain Kagi: Your Majesty, this way.","Palpatine: There he is. He's still alive.","Palpatine: Get a medical capsule immediately.","Clone Captain Kagi: Yes, sir. Right away.","Bail Organa: Excuse me, Master Yoda. Obi-Wan Kenobi has made contact.","Bail Organa: We'll take her to the medical center. Quickly.","GH-7 Medical Analysis Unit: Medically, she's completely healthy. For reasons we can't explain, we are losing her.","Obi-Wan: She's dying?","GH-7 Medical Analysis Unit: We don't know why. She has lost the will to live. We need to operate quickly if we are to save the babies.","Bail Organa: Babies?","GH-7 Medical Analysis Unit: She's carrying twins.","Midwife Droid: Ee-see-tah oy-doh.","Padme: Luke. Oh, Luke.","Midwife Droid: Ooh-bah, ooh-bah. Ee-see-tah oy-dah.","Obi-Wan: It's a girl.","Padme: Leia.","Padme: Obi-Wan? There's good in him. I know. I know there's...still...","Palpatine: Lord Vader. Can you hear me?","Anakin: Yes, Master. Where is Padme? Is she safe? Is she all right?","Palpatine: It seems, in your anger, you killed her.","Anakin: I? I couldn't have. She was alive. I felt it! No!","Yoda: Hidden, safe the children must be kept.","Obi-Wan: We must take them somewhere where the Sith will not sense their presence.","Yoda: Hmm. Split up they should be.","Bail Organa: My wife and I will take the girl. We've always talked of adopting a baby girl. She will be loved with us.","Obi-Wan: And what of the boy?","Yoda: To Tatooine. To his family send him.","Obi-Wan: I will take the child and watch over him.","Yoda: Until the time is right, disappear we will.","Yoda: Master Kenobi, wait a moment. In your solitude on Tatooine, training I have for you.","Obi-Wan: Training?","Yoda: An old friend has learned the path to immortality. One who has returned from the netherworld of the Force. Your old master.","Obi-Wan: Qui-Gon?","Yoda: How to commune with him I will teach you.","Bail Organa: Captain Antilles.","Raymus Antilles: Yes, Your Highness?","Bail Organa: I'm placing these droids in your care. Treat them well. Clean them up. Have the protocol droid's mind wiped.","C-3PO: What? Oh, no."],[oA.hope]:["hope script"],[oA.empire]:["empire script"],[oA.return]:["return script"],[oA.awakens]:["awakens script"],[oA.last]:["last script"],[oA.skywalker]:["skywalker script"],[oA.rogue]:["rogue script"],[oA.solo]:["solo script"]}}getScript(e){return this.scripts[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lA=(()=>{class e{constructor(){}buildScript(e){const t=new Set,n=[];let o;const a=["INTERIOR","EXTERIOR"];return e.forEach(e=>{e.includes(":")&&(o=e.split(":")[0].trim(),a.includes(o)||(t.add(o),n.push({character:o,line:e.split(":")[1]})))}),{characters:Array.from(t).sort(),lines:n}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uA(e,t){return new y(n=>{const o=e.length;if(0===o)return void n.complete();const a=new Array(o);let s=0,i=0;for(let r=0;r<o;r++){const h=U(e[r]);let l=!1;n.add(h.subscribe({next:e=>{l||(l=!0,i++),a[r]=e},error:e=>n.error(e),complete:()=>{s++,s!==o&&l||(i===o&&n.next(t?t.reduce((e,t,n)=>(e[t]=a[n],e),{}):a),n.complete())}}))}})}const dA=new Un("NgValueAccessor"),cA={provide:dA,useExisting:oe(()=>AA),multi:!0};let AA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ps("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[ui([cA])]}),e})();const pA={provide:dA,useExisting:oe(()=>fA),multi:!0},gA=new Un("CompositionEventMode");let fA=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=dh()?dh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi),Ns(gA,8))},e.\u0275dir=Ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ps("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[ui([pA])]}),e})();function mA(e){return null==e||0===e.length}function yA(e){return null!=e&&"number"==typeof e.length}const wA=new Un("NgValidators"),IA=new Un("NgAsyncValidators"),bA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class TA{static min(e){return t=>{if(mA(t.value)||mA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(mA(t.value)||mA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return mA(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return mA(e.value)||bA.test(e.value)?null:{email:!0}}static minLength(e){return t=>mA(t.value)||!yA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>yA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return TA.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(mA(e.value))return null;const o=e.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(e){return EA(kA(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(OA);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(h(t))return uA(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return uA(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return uA(e=1===e.length&&h(e[0])?e[0]:e,null).pipe(k(e=>t(...e)))}return uA(e,null)}(kA(e,t).map(NA)).pipe(k(EA))}}}function OA(e){return null!=e}function NA(e){const t=Ds(e)?U(e):e;return Cs(t),t}function EA(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function kA(e,t){return t.map(t=>t(e))}function vA(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function SA(e){return null!=e?TA.compose(vA(e)):null}function RA(e){return null!=e?TA.composeAsync(vA(e)):null}function DA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let CA=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ke({type:e}),e})(),PA=(()=>{class e extends CA{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return MA(t||e)},e.\u0275dir=Ke({type:e,features:[cs]}),e})();const MA=Pn(PA);class WA extends CA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let _A=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(WA,2))},e.\u0275dir=Ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Gs("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[cs]}),e})();const UA={provide:dA,useExisting:oe(()=>LA),multi:!0};let LA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ps("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ui([UA])]}),e})();const BA={provide:dA,useExisting:oe(()=>GA),multi:!0};let HA=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),GA=(()=>{class e{constructor(e,t,n,o){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=o,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(WA),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi),Ns(HA),Ns(us))},e.\u0275dir=Ke({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ps("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ui([BA])]}),e})();const JA={provide:dA,useExisting:oe(()=>YA),multi:!0};let YA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ps("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ui([JA])]}),e})();const KA={provide:dA,useExisting:oe(()=>FA),multi:!0};function xA(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let FA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=xA(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ps("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([KA])]}),e})(),jA=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(xA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Ns(mi),Ns(wi),Ns(FA,9))},e.\u0275dir=Ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const VA={provide:dA,useExisting:oe(()=>XA),multi:!0};function QA(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let XA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const o=e.item(t),a=this._getOptionValue(o.value);n.push(a)}}else{const e=t.options;for(let t=0;t<e.length;t++){const o=e.item(t);if(o.selected){const e=this._getOptionValue(o.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Ns(wi),Ns(mi))},e.\u0275dir=Ke({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ps("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([VA])]}),e})(),zA=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Ns(mi),Ns(wi),Ns(XA,9))},e.\u0275dir=Ke({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function qA(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function $A(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const ZA=[AA,YA,LA,FA,XA,GA];function ep(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tp="VALID",np="INVALID",op="PENDING",ap="DISABLED";function sp(e){return(lp(e)?e.validators:e)||null}function ip(e){return Array.isArray(e)?SA(e):e||null}function rp(e,t){return(lp(t)?t.asyncValidators:e)||null}function hp(e){return Array.isArray(e)?RA(e):e||null}function lp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class up{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ip(this._rawValidators),this._composedAsyncValidatorFn=hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tp}get invalid(){return this.status===np}get pending(){return this.status==op}get disabled(){return this.status===ap}get enabled(){return this.status!==ap}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ip(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=op,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ap,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tp,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tp&&this.status!==op||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ap:tp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=op,this._hasOwnPendingAsyncValidator=!0;const t=NA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let o=e;return t.forEach(e=>{o=o instanceof cp?o.controls.hasOwnProperty(e)?o.controls[e]:null:o instanceof Ap&&o.at(e)||null}),o}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dr,this.statusChanges=new dr}_calculateStatus(){return this._allControlsDisabled()?ap:this.errors?np:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(op)?op:this._anyControlsHaveStatus(np)?np:tp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dp extends up{constructor(e=null,t,n){super(sp(t),rp(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ep(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ep(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cp extends up{constructor(e,t,n){super(sp(t),rp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,o)=>{n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof dp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,o)=>{n=t(n,e,o)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ap extends up{constructor(e,t,n){super(sp(t),rp(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,o)=>{n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof dp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pp={provide:WA,useExisting:oe(()=>fp)},gp=(()=>Promise.resolve(null))();let fp=(()=>{class e extends WA{constructor(e,t,n,o){super(),this.control=new dp,this._registered=!1,this.update=new dr,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);let n=void 0,o=void 0,a=void 0;return t.forEach(e=>{var t;e.constructor===fA?n=e:(t=e,ZA.some(e=>t.constructor===e)?o=e:a=e)}),a||o||n||null}(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t,n){const o=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(DA(o,t.validator)):"function"==typeof o&&e.setValidators([o]);const a=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(DA(a,t.asyncValidator)):"function"==typeof a&&e.setAsyncValidators([a]);{const n=()=>e.updateValueAndValidity();qA(t._rawValidators,n),qA(t._rawAsyncValidators,n)}})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$A(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$A(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){gp.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;gp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Ns(PA,9),Ns(wA,10),Ns(IA,10),Ns(dA,10))},e.\u0275dir=Ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([pp]),cs,it]}),e})(),mp=(()=>{class e{}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)}}),e})(),yp=(()=>{class e{}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)},providers:[HA],imports:[mp]}),e})();function wp(e,t){if(1&e&&(vs(0,"div"),Fs(1),Ss()),2&e){const e=function(e=1){return function(e){return(Nt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Nt.lFrame.contextLView))[8]}(e)}();ea(1),Vs(" ",e.currentlySelectedLine.line," ")}}function Ip(e,t){if(1&e&&(vs(0,"option",11),Fs(1),Ss()),2&e){const e=t.$implicit;_s("value",e),ea(1),js(e)}}let bp=(()=>{class e{constructor(e,t,n){this.route=e,this.scriptsService=t,this.triviaService=n,this.enteredValue="",this.skippedCharacter=null,this.correctCounter=0,this.incorrectCounter=0,this.skippedCounter=0,this.linesAnswered=0,this.numberOfLines=0,this.percentCorrect=null}ngOnInit(){this.route.params.subscribe(e=>{const t=this.scriptsService.getScript(e.code),n=this.triviaService.buildScript(t);this.script=n.lines,this.characters=n.characters,this.numberOfLines=this.script.length,this.setCurrentlySelectedLine()})}setCurrentlySelectedLine(){this.currentlySelectedLine=this.script.splice(Math.floor(Math.random()*this.script.length)+1,1)[0],this.linesAnswered++,this.linesAnswered===this.numberOfLines+1&&console.log("here")}checkIfAnswerIsCorrect(){this.skippedCharacter=null,this.currentlySelectedLine.character.toLowerCase()===this.enteredValue.toLowerCase()?(this.correctCounter++,this.enteredValue="",this.triviaAnswerState=aA.CORRECT,this.setCurrentlySelectedLine()):(this.incorrectCounter++,this.triviaAnswerState=aA.INCORRECT),this.calculatePercentCorrect()}skipLine(){this.skippedCounter++,this.skippedCharacter=this.currentlySelectedLine.character,this.setCurrentlySelectedLine(),this.calculatePercentCorrect(),this.triviaAnswerState=aA.SKIP}calculatePercentCorrect(){const e=this.correctCounter+this.incorrectCounter+this.skippedCounter;e>0&&(this.percentCorrect=this.correctCounter/e)}}return e.\u0275fac=function(t){return new(t||e)(Ns(fd),Ns(hA),Ns(lA))},e.\u0275cmp=Le({type:e,selectors:[["app-trivia"]],decls:26,vars:18,consts:[["routerLink","/"],["id","trivia-stats-line",1,"grid"],[1,"center","trivia-stat-item","highlight-item"],[1,"center","trivia-stat-item",3,"hidden"],["id","trivia-line-guess"],[4,"ngIf"],["list","character-options",3,"ngModel","ngModelChange","keyup.enter"],["id","character-options"],[3,"value",4,"ngFor","ngForOf"],[1,"trivia-button",3,"click"],[3,"hidden"],[3,"value"]],template:function(e,t){1&e&&(vs(0,"div"),vs(1,"button",0),Fs(2," Back "),Ss(),Ss(),vs(3,"div"),Fs(4),Ss(),vs(5,"div"),vs(6,"div",1),vs(7,"div",2),Fs(8),Ss(),vs(9,"div",2),Fs(10),Ss(),vs(11,"div",2),Fs(12),Ss(),vs(13,"div",3),Fs(14),Ss(),Ss(),vs(15,"div",4),Os(16,wp,2,1,"div",5),vs(17,"input",6),Ps("ngModelChange",function(e){return t.enteredValue=e})("keyup.enter",function(){return t.checkIfAnswerIsCorrect()}),Ss(),vs(18,"datalist",7),Os(19,Ip,2,2,"option",8),Ss(),vs(20,"button",9),Ps("click",function(){return t.checkIfAnswerIsCorrect()}),Fs(21,"Submit"),Ss(),vs(22,"button",9),Ps("click",function(){return t.skipLine()}),Fs(23,"Skip"),Ss(),Ss(),vs(24,"div",10),Fs(25),Ss(),Ss()),2&e&&(ea(4),Qs(" Line ",t.linesAnswered," / ",t.numberOfLines,"\n"),ea(3),Gs("highlight-correct-state","CORRECT"===t.triviaAnswerState),ea(1),Vs(" Correct: ",t.correctCounter," "),ea(1),Gs("highlight-incorrect-state","INCORRECT"===t.triviaAnswerState),ea(1),Vs(" Incorrect: ",t.incorrectCounter," "),ea(1),Gs("highlight-skip-state","SKIP"===t.triviaAnswerState),ea(1),Vs(" Skipped: ",t.skippedCounter," "),ea(1),Es("hidden",null===t.percentCorrect),ea(1),Vs(" Percent Correct: ",t.percentCorrect," "),ea(2),Es("ngIf",t.currentlySelectedLine),ea(1),Es("ngModel",t.enteredValue),ea(2),Es("ngForOf",t.characters),ea(5),Es("hidden",!t.skippedCharacter),ea(1),Vs("Skipped: ",t.skippedCharacter,""))},directives:[_c,Uh,fA,_A,fp,Wh,jA,zA],styles:["body[_ngcontent-%COMP%]{background-color:#292929;color:#d6d6d6}.center[_ngcontent-%COMP%]{text-align:center}.grid[_ngcontent-%COMP%]{display:grid}.trivia-button[_ngcontent-%COMP%]{margin-left:15px}#trivia-line-guess[_ngcontent-%COMP%]{margin:18px 0}.trivia-stat-item[_ngcontent-%COMP%]{background-color:#058ba2;margin:0 9px;padding:5px 0;color:#272727}#trivia-stats-line[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);margin-top:16px}.highlight-item[_ngcontent-%COMP%]{animation-duration:2s;animation-timing-function:ease;animation-iteration-count:1}.highlight-correct-state[_ngcontent-%COMP%]{animation-name:highlight-correct-color}@keyframes highlight-correct-color{0%{background-color:#388104}25%{background-color:#388104}to{background-color:#058ba2}}.highlight-incorrect-state[_ngcontent-%COMP%]{animation-name:highlight-incorrect-color}@keyframes highlight-incorrect-color{0%{background-color:#b72f2f}25%{background-color:#b72f2f}to{background-color:#058ba2}}.highlight-skip-state[_ngcontent-%COMP%]{animation-name:highlight-skip-color}@keyframes highlight-skip-color{0%{background-color:#c9b40b}25%{background-color:#c9b40b}to{background-color:#058ba2}}"]}),e})(),Tp=(()=>{class e{}return e.\u0275mod=Je({type:e}),e.\u0275inj=re({factory:function(t){return new(t||e)},imports:[[Hh]]}),e})();const Op=[{path:"",component:rA},{path:"trivia/:code",component:bp}];let Np=(()=>{class e{}return e.\u0275mod=Je({type:e,bootstrap:[nA]}),e.\u0275inj=re({factory:function(t){return new(t||e)},providers:[],imports:[[fl,Tp,Vc.forRoot(Op),yp]]}),e})();(function(){if(jr)throw new Error("Cannot enable prod mode after platform setup.");Fr=!1})(),pl().bootstrapModule(Np).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);