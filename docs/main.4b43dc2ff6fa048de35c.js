(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function o(e){return"function"==typeof e}n.r(t);let s=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function i(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;i(e)},complete(){}},h=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function l(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:s,_unsubscribe:r,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(o(r)){s&&(this._unsubscribe=void 0);try{r.call(this)}catch(a){t=a instanceof u?c(a.errors):[a]}}if(h(i)){let e=-1,n=i.length;for(;++e<n;){const n=i[e];if(l(n))try{n.unsubscribe()}catch(a){t=t||[],a instanceof u?t=t.concat(c(a.errors)):t.push(a)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:o}=n;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function c(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const A=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof p?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,t,n)}}[A](){return this}static create(e,t,n){const o=new p(e,t,n);return o.syncErrorThrowable=!1,o}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class f extends p{constructor(e,t,n,s){let r;super(),this._parentSubscriber=e;let i=this;o(t)?r=t:t&&(r=t.next,n=t.error,s=t.complete,t!==a&&(i=Object.create(t),o(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=r,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=r;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):i(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;i(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;i(n)}}__tryOrSetError(e,t,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(o){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=o,e.syncErrorThrown=!0,!0):(i(o),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function m(e){return e}let I=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,s=function(e,t,n){if(e){if(e instanceof p)return e;if(e[A])return e[A]()}return e||t||n?new p(e,t,n):new p(a)}(e,t,n);if(s.add(o?o.call(s,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),r.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:o}=e;if(t||o)return!1;e=n&&n instanceof p?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=N(t))((t,n)=>{let o;o=this.subscribe(t=>{try{e(t)}catch(s){n(s),o&&o.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?m:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=N(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function N(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const y=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class O extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class w extends p{constructor(e){super(e),this.destination=e}}let T=(()=>{class e extends I{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[A](){return new w(this)}lift(e){const t=new E(this,this);return t.operator=e,t}next(e){if(this.closed)throw new y;if(!this.isStopped){const{observers:t}=this,n=t.length,o=t.slice();for(let s=0;s<n;s++)o[s].next(e)}}error(e){if(this.closed)throw new y;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,o=t.slice();for(let s=0;s<n;s++)o[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new y;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let o=0;o<t;o++)n[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new y;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new y;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new O(this,e))}asObservable(){const e=new I;return e.source=this,e}}return e.create=(e,t)=>new E(e,t),e})();class E extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function b(e){return e&&"function"==typeof e.schedule}function R(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new S(e,t))}}class S{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new v(e,this.project,this.thisArg))}}class v extends p{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const D=e=>t=>{for(let n=0,o=e.length;n<o&&!t.closed;n++)t.next(e[n]);t.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const C=k(),M=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function P(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const U=e=>{if(e&&"function"==typeof e[g])return o=e,e=>{const t=o[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(M(e))return D(e);if(P(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i),e);if(e&&"function"==typeof e[C])return t=e,e=>{const n=t[C]();for(;;){let t;try{t=n.next()}catch(o){return e.error(o),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,o};function L(e,t){return new I(n=>{const o=new d;let s=0;return o.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||o.add(this.schedule())):n.complete()})),o})}function _(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new I(n=>{const o=new d;return o.add(t.schedule(()=>{const s=e[g]();o.add(s.subscribe({next(e){o.add(t.schedule(()=>n.next(e)))},error(e){o.add(t.schedule(()=>n.error(e)))},complete(){o.add(t.schedule(()=>n.complete()))}}))})),o})}(e,t);if(P(e))return function(e,t){return new I(n=>{const o=new d;return o.add(t.schedule(()=>e.then(e=>{o.add(t.schedule(()=>{n.next(e),o.add(t.schedule(()=>n.complete()))}))},e=>{o.add(t.schedule(()=>n.error(e)))}))),o})}(e,t);if(M(e))return L(e,t);if(function(e){return e&&"function"==typeof e[C]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new I(n=>{const o=new d;let s;return o.add(()=>{s&&"function"==typeof s.return&&s.return()}),o.add(t.schedule(()=>{s=e[C](),o.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}))})),o})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof I?e:new I(U(e))}class B extends p{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class W extends p{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function H(e,t){if(!t.closed)return e instanceof I?e.subscribe(t):U(e)(t)}function G(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?o=>o.pipe(G((n,o)=>_(e(n,o)).pipe(R((e,s)=>t(n,e,o,s))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new J(e,this.project,this.concurrent))}}class J extends W{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(o){return void this.destination.error(o)}this.active++,this._innerSub(t)}_innerSub(e){const t=new B(this),n=this.destination;n.add(t);const o=H(e,t);o!==t&&n.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function x(e=Number.POSITIVE_INFINITY){return G(m,e)}function F(e,t){return t?L(e,t):new I(D(e))}function Y(){return function(e){return e.lift(new V(e))}}class V{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const o=new j(e,n),s=t.subscribe(o);return o.closed||(o.connection=n.connect()),s}}class j extends p{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,o=e._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}class Q extends I{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new z(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return Y()(this)}}const X=(()=>{const e=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class z extends w{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function $(){return new T}function q(e){for(let t in e)if(e[t]===q)return t;throw Error("Could not find renamed property on target object.")}function Z(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ne=q({__forward_ref__:q});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return ee(this())},e}function se(e){return re(e)?e():e}function re(e){return"function"==typeof e&&e.hasOwnProperty(ne)&&e.__forward_ref__===oe}function ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ae(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function he(e){return le(e,de)||le(e,Ae)}function le(e,t){return e.hasOwnProperty(t)?e[t]:null}function ue(e){return e&&(e.hasOwnProperty(ce)||e.hasOwnProperty(pe))?e[ce]:null}const de=q({"\u0275prov":q}),ce=q({"\u0275inj":q}),Ae=q({ngInjectableDef:q}),pe=q({ngInjectorDef:q});var fe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let ge;function me(e){const t=ge;return ge=e,t}function Ie(e,t,n){const o=he(e);if(o&&"root"==o.providedIn)return void 0===o.value?o.value=o.factory():o.value;if(n&fe.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${ee(e)}]`)}function Ne(e){return{toString:e}.toString()}var ye=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Oe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const we="undefined"!=typeof globalThis&&globalThis,Te="undefined"!=typeof window&&window,Ee="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,be="undefined"!=typeof global&&global,Re=we||be||Te||Ee,Se={},ve=[],De=q({"\u0275cmp":q}),ke=q({"\u0275dir":q}),Ce=q({"\u0275pipe":q}),Me=q({"\u0275mod":q}),Pe=q({"\u0275loc":q}),Ue=q({"\u0275fac":q}),Le=q({__NG_ELEMENT_ID__:q});let _e=0;function Be(e){return Ne(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ve,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Oe.Emulated,id:"c",styles:e.styles||ve,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,s=e.features,r=e.pipes;return n.id+=_e++,n.inputs=Je(e.inputs,t),n.outputs=Je(e.outputs),s&&s.forEach(e=>e(n)),n.directiveDefs=o?()=>("function"==typeof o?o():o).map(We):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(He):null,n})}function We(e){return Fe(e)||function(e){return e[ke]||null}(e)}function He(e){return function(e){return e[Ce]||null}(e)}const Ge={};function Ke(e){const t={type:e.type,bootstrap:e.bootstrap||ve,declarations:e.declarations||ve,imports:e.imports||ve,exports:e.exports||ve,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Ne(()=>{Ge[e.id]=e.type}),t}function Je(e,t){if(null==e)return Se;const n={};for(const o in e)if(e.hasOwnProperty(o)){let s=e[o],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),n[s]=o,t&&(t[s]=r)}return n}const xe=Be;function Fe(e){return e[De]||null}function Ye(e,t){const n=e[Me]||null;if(!n&&!0===t)throw new Error(`Type ${ee(e)} does not have '\u0275mod' property.`);return n}const Ve=20,je=10;function Qe(e){return Array.isArray(e)&&"object"==typeof e[1]}function Xe(e){return Array.isArray(e)&&!0===e[1]}function ze(e){return 0!=(8&e.flags)}function $e(e){return 2==(2&e.flags)}function qe(e){return 1==(1&e.flags)}function Ze(e){return null!==e.template}function et(e,t){return e.hasOwnProperty(Ue)?e[Ue]:null}class tt extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function nt(e){return"string"==typeof e?e:null==e?"":String(e)}function ot(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():nt(e)}function st(e,t){const n=t?" in "+t:"";throw new tt("201",`No provider for ${ot(e)} found${n}`)}class rt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function it(){return at}function at(e){return e.type.prototype.ngOnChanges&&(e.setInput=lt),ht}function ht(){const e=ut(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Se)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function lt(e,t,n,o){const s=ut(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Se,current:null}),r=s.current||(s.current={}),i=s.previous,a=this.declaredInputs[n],h=i[a];r[a]=new rt(h&&h.currentValue,t,i===Se),e[o]=t}function ut(e){return e.__ngSimpleChanges__||null}it.ngInherit=!0;let dt=void 0;function ct(e){return!!e.listen}const At={createRenderer:(e,t)=>void 0!==dt?dt:"undefined"!=typeof document?document:void 0};function pt(e){for(;Array.isArray(e);)e=e[0];return e}function ft(e,t){return pt(t[e])}function gt(e,t){return pt(t[e.index])}function mt(e,t){return e.data[t]}function It(e,t){const n=t[e];return Qe(n)?n:n[0]}function Nt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function yt(e){return 128==(128&e[2])}function Ot(e,t){return null==t?null:e[t]}function wt(e){e[18]=0}function Tt(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const Et={lFrame:xt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function bt(){return Et.bindingsEnabled}function Rt(){return Et.lFrame.lView}function St(){return Et.lFrame.tView}function vt(){let e=Dt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Dt(){return Et.lFrame.currentTNode}function kt(e,t){const n=Et.lFrame;n.currentTNode=e,n.isParent=t}function Ct(){return Et.lFrame.isParent}function Mt(){return Et.isInCheckNoChangesMode}function Pt(e){Et.isInCheckNoChangesMode=e}function Ut(){return Et.lFrame.bindingIndex++}function Lt(e){const t=Et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _t(e,t){const n=Et.lFrame;n.bindingIndex=n.bindingRootIndex=e,Bt(t)}function Bt(e){Et.lFrame.currentDirectiveIndex=e}function Wt(e){Et.lFrame.currentQueryIndex=e}function Ht(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Gt(e,t,n){if(n&fe.SkipSelf){let o=t,s=e;for(;o=o.parent,!(null!==o||n&fe.Host||(o=Ht(s),null===o)||(s=s[15],10&o.type)););if(null===o)return!1;t=o,e=s}const o=Et.lFrame=Jt();return o.currentTNode=t,o.lView=e,!0}function Kt(e){const t=Jt(),n=e[1];Et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Jt(){const e=Et.lFrame,t=null===e?null:e.child;return null===t?xt(e):t}function xt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ft(){const e=Et.lFrame;return Et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Yt=Ft;function Vt(){const e=Ft();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jt(){return Et.lFrame.selectedIndex}function Qt(e){Et.lFrame.selectedIndex=e}function Xt(){const e=Et.lFrame;return mt(e.tView,e.selectedIndex)}function zt(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:r,ngAfterViewChecked:i,ngOnDestroy:a}=t;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),r&&(e.viewHooks||(e.viewHooks=[])).push(-n,r),i&&((e.viewHooks||(e.viewHooks=[])).push(n,i),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function $t(e,t,n){en(e,t,3,n)}function qt(e,t,n,o){(3&e[2])===n&&en(e,t,n,o)}function Zt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function en(e,t,n,o){const s=null!=o?o:-1;let r=0;for(let i=void 0!==o?65535&e[18]:0;i<t.length;i++)if("number"==typeof t[i+1]){if(r=t[i],null!=o&&r>=o)break}else t[i]<0&&(e[18]+=65536),(r<s||-1==s)&&(tn(e,n,t,i),e[18]=(4294901760&e[18])+i+2),i++}function tn(e,t,n,o){const s=n[o]<0,r=n[o+1],i=e[s?-n[o]:n[o]];s?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(i)):r.call(i)}const nn=-1;class on{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function sn(e,t,n){const o=ct(e);let s=0;for(;s<n.length;){const r=n[s];if("number"==typeof r){if(0!==r)break;s++;const i=n[s++],a=n[s++],h=n[s++];o?e.setAttribute(t,a,h,i):t.setAttributeNS(i,a,h)}else{const i=r,a=n[++s];an(i)?o&&e.setProperty(t,i,a):o?e.setAttribute(t,i,a):t.setAttribute(i,a),s++}}return s}function rn(e){return 3===e||4===e||6===e}function an(e){return 64===e.charCodeAt(0)}function hn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?n=s:0===n||ln(e,n,s,null,-1===n||2===n?t[++o]:null)}}return e}function ln(e,t,n,o,s){let r=0,i=e.length;if(-1===t)i=-1;else for(;r<e.length;){const n=e[r++];if("number"==typeof n){if(n===t){i=-1;break}if(n>t){i=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===n){if(null===o)return void(null!==s&&(e[r+1]=s));if(o===e[r+1])return void(e[r+2]=s)}r++,null!==o&&r++,null!==s&&r++}-1!==i&&(e.splice(i,0,t),r=i+1),e.splice(r++,0,n),null!==o&&e.splice(r++,0,o),null!==s&&e.splice(r++,0,s)}function un(e){return e!==nn}function dn(e){return 32767&e}function cn(e,t){let n=e>>16,o=t;for(;n>0;)o=o[15],n--;return o}let An=!0;function pn(e){const t=An;return An=e,t}let fn=0;function gn(e,t){const n=In(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,mn(o.data,e),mn(t,null),mn(o.blueprint,null));const s=Nn(e,t),r=e.injectorIndex;if(un(s)){const e=dn(s),n=cn(s,t),o=n[1].data;for(let s=0;s<8;s++)t[r+s]=n[e+s]|o[e+s]}return t[r+8]=s,r}function mn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function In(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Nn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,s=t;for(;null!==s;){const e=s[1],t=e.type;if(o=2===t?e.declTNode:1===t?s[6]:null,null===o)return nn;if(n++,s=s[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return nn}function yn(e,t,n){!function(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Le)&&(o=n[Le]),null==o&&(o=n[Le]=fn++);const s=255&o,r=1<<s,i=64&s,a=32&s,h=t.data;128&s?i?a?h[e+7]|=r:h[e+6]|=r:a?h[e+5]|=r:h[e+4]|=r:i?a?h[e+3]|=r:h[e+2]|=r:a?h[e+1]|=r:h[e]|=r}(e,t,n)}function On(e,t,n){if(n&fe.Optional)return e;st(t,"NodeInjector")}function wn(e,t,n,o){if(n&fe.Optional&&void 0===o&&(o=null),0==(n&(fe.Self|fe.Host))){const s=e[9],r=me(void 0);try{return s?s.get(t,o,n&fe.Optional):Ie(t,o,n&fe.Optional)}finally{me(r)}}return On(o,t,n)}function Tn(e,t,n,o=fe.Default,s){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Le)?e[Le]:void 0;return"number"==typeof t?t>=0?255&t:bn:t}(n);if("function"==typeof r){if(!Gt(t,e,o))return o&fe.Host?On(s,n,o):wn(t,n,o,s);try{const e=r();if(null!=e||o&fe.Optional)return e;st(n)}finally{Yt()}}else if("number"==typeof r){let s=null,i=In(e,t),a=nn,h=o&fe.Host?t[16][6]:null;for((-1===i||o&fe.SkipSelf)&&(a=-1===i?Nn(e,t):t[i+8],a!==nn&&Dn(o,!1)?(s=t[1],i=dn(a),t=cn(a,t)):i=-1);-1!==i;){const e=t[1];if(vn(r,i,e.data)){const e=Rn(i,t,n,s,o,h);if(e!==En)return e}a=t[i+8],a!==nn&&Dn(o,t[1].data[i+8]===h)&&vn(r,i,t)?(s=e,i=dn(a),t=cn(a,t)):i=-1}}}return wn(t,n,o,s)}const En={};function bn(){return new kn(vt(),Rt())}function Rn(e,t,n,o,s,r){const i=t[1],a=i.data[e+8],h=function(e,t,n,o,s){const r=e.providerIndexes,i=t.data,a=1048575&r,h=e.directiveStart,l=r>>20,u=s?a+l:e.directiveEnd;for(let d=o?a:a+l;d<u;d++){const e=i[d];if(d<h&&n===e||d>=h&&e.type===n)return d}if(s){const e=i[h];if(e&&Ze(e)&&e.type===n)return h}return null}(a,i,n,null==o?$e(a)&&An:o!=i&&0!=(3&a.type),s&fe.Host&&r===a);return null!==h?Sn(t,i,h,a):En}function Sn(e,t,n,o){let s=e[n];const r=t.data;if(s instanceof on){const i=s;i.resolving&&function(e,t){throw new tt("200","Circular dependency in DI detected for "+e)}(ot(r[n]));const a=pn(i.canSeeViewProviders);i.resolving=!0;const h=i.injectImpl?me(i.injectImpl):null;Gt(e,o,fe.Default);try{s=e[n]=i.factory(void 0,r,e,o),t.firstCreatePass&&n>=o.directiveStart&&function(e,t,n){const{ngOnChanges:o,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(o){const o=at(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,s),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r))}(n,r[n],t)}finally{null!==h&&me(h),pn(a),i.resolving=!1,Yt()}}return s}function vn(e,t,n){const o=64&e,s=32&e;let r;return r=128&e?o?s?n[t+7]:n[t+6]:s?n[t+5]:n[t+4]:o?s?n[t+3]:n[t+2]:s?n[t+1]:n[t],!!(r&1<<e)}function Dn(e,t){return!(e&fe.Self||e&fe.Host&&t)}class kn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Tn(this._tNode,this._lView,e,void 0,t)}}function Cn(e){const t=e;if(re(e))return()=>{const e=Cn(se(t));return e?e():null};let n=et(t);if(null===n){const e=ue(t);n=e&&e.factory}return n||null}function Mn(e){return Ne(()=>{const t=e.prototype.constructor,n=t[Ue]||Cn(t),o=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==o;){const e=s[Ue]||Cn(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function Pn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let o=0;for(;o<e;){const s=n[o];if(rn(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<e&&"string"==typeof n[o];)o++;else{if(s===t)return n[o+1];o+=2}}}return null}(vt(),e)}const Un="__parameters__";function Ln(e,t,n){return Ne(()=>{const o=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return o.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,o){const s=e.hasOwnProperty(Un)?e[Un]:Object.defineProperty(e,Un,{value:[]})[Un];for(;s.length<=o;)s.push(null);return(s[o]=s[o]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class _n{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Bn=new _n("AnalyzeForEntryComponents"),Wn=Function;function Hn(e,t){e.forEach(e=>Array.isArray(e)?Hn(e,t):t(e))}function Gn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Kn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jn(e,t,n){let o=Fn(e,t);return o>=0?e[1|o]=n:(o=~o,function(e,t,n,o){let s=e.length;if(s==t)e.push(n,o);else if(1===s)e.push(o,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=o}}(e,o,t,n)),o}function xn(e,t){const n=Fn(e,t);if(n>=0)return e[1|n]}function Fn(e,t){return function(e,t,n){let o=0,s=e.length>>1;for(;s!==o;){const n=o+(s-o>>1),r=e[n<<1];if(t===r)return n<<1;r>t?s=n:o=n+1}return~(s<<1)}(e,t)}const Yn=Ln("Inject",e=>({token:e})),Vn=Ln("Optional"),jn=Ln("Self"),Qn=Ln("SkipSelf"),Xn={},zn=/\n/gm,$n="__source",qn=q({provide:String,useValue:q});let Zn=void 0;function eo(e){const t=Zn;return Zn=e,t}function to(e,t=fe.Default){if(void 0===Zn)throw new Error("inject() must be called from an injection context");return null===Zn?Ie(e,void 0,t):Zn.get(e,t&fe.Optional?null:void 0,t)}function no(e,t=fe.Default){return(ge||to)(se(e),t)}function oo(e){const t=[];for(let n=0;n<e.length;n++){const o=se(e[n]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=fe.Default;for(let t=0;t<o.length;t++){const s=o[t];s instanceof Vn||"Optional"===s.ngMetadataName||s===Vn?n|=fe.Optional:s instanceof Qn||"SkipSelf"===s.ngMetadataName||s===Qn?n|=fe.SkipSelf:s instanceof jn||"Self"===s.ngMetadataName||s===jn?n|=fe.Self:e=s instanceof Yn||s===Yn?s.token:s}t.push(no(e,n))}else t.push(no(o))}return t}class so{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}function ro(e){return e instanceof so?e.changingThisBreaksApplicationSecurity:e}const io=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ao=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ho=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function lo(e){const t=function(){const e=Rt();return e&&e[12]}();return t?t.sanitize(ho.URL,e)||"":function(e,t){const n=function(e){return e instanceof so&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?ro(e):(n=nt(e),(n=String(n)).match(io)||n.match(ao)?n:"unsafe:"+n);var n}function uo(e){return e.ngDebugContext}function co(e){return e.ngOriginalError}function Ao(e,...t){e.error(...t)}class po{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),o=function(e){return e.ngErrorLogger||Ao}(e);o(this._console,"ERROR",e),t&&o(this._console,"ORIGINAL ERROR",t),n&&o(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?uo(e)?uo(e):this._findContext(co(e)):null}_findOriginalError(e){let t=co(e);for(;t&&co(t);)t=co(t);return t}}function fo(e,t){e.__ngContext__=t}const go=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function mo(e){return e instanceof Function?e():e}var Io=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function No(e,t){return(void 0)(e,t)}function yo(e){const t=e[3];return Xe(t)?t[3]:t}function Oo(e){return To(e[13])}function wo(e){return To(e[4])}function To(e){for(;null!==e&&!Xe(e);)e=e[4];return e}function Eo(e,t,n,o,s){if(null!=o){let r,i=!1;Xe(o)?r=o:Qe(o)&&(i=!0,o=o[0]);const a=pt(o);0===e&&null!==n?null==s?Co(t,n,a):ko(t,n,a,s||null,!0):1===e&&null!==n?ko(t,n,a,s||null,!0):2===e?function(e,t,n){const o=Po(e,t);o&&function(e,t,n,o){ct(e)?e.removeChild(t,n,o):t.removeChild(n)}(e,o,t,n)}(t,a,i):3===e&&t.destroyNode(a),null!=r&&function(e,t,n,o,s){const r=n[7];r!==pt(n)&&Eo(t,e,o,r,s);for(let i=je;i<n.length;i++){const s=n[i];Wo(s[1],s,e,t,o,r)}}(t,e,r,n,s)}}function bo(e,t,n){return ct(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ro(e,t){const n=e[9],o=n.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Tt(s,-1)),n.splice(o,1)}function So(e,t){if(e.length<=je)return;const n=je+t,o=e[n];if(o){const r=o[17];null!==r&&r!==e&&Ro(r,o),t>0&&(e[n-1][4]=o[4]);const i=Kn(e,je+t);Wo(o[1],s=o,s[11],2,null,null),s[0]=null,s[6]=null;const a=i[19];null!==a&&a.detachView(i[1]),o[3]=null,o[4]=null,o[2]&=-129}var s;return o}function vo(e,t){if(!(256&t[2])){const n=t[11];ct(n)&&n.destroyNode&&Wo(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Do(e[1],e);for(;t;){let n=null;if(Qe(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Qe(t)&&Do(t[1],t),t=t[3];null===t&&(t=e),Qe(t)&&Do(t[1],t),n=t&&t[4]}t=n}}(t)}}function Do(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const e=t[n[o]];if(!(e instanceof on)){const t=n[o+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup,o=t[7];let s=-1;if(null!==n){for(let e=0;e<n.length-1;e+=2)if("string"==typeof n[e]){const r=n[e+1],i="function"==typeof r?r(t):pt(t[r]),a=o[s=n[e+2]],h=n[e+3];"boolean"==typeof h?i.removeEventListener(n[e],a,h):h>=0?o[s=h]():o[s=-h].unsubscribe(),e+=2}else{const t=o[s=n[e+1]];n[e].call(t)}if(null!==o)for(let e=s+1;e<o.length;e++)(0,o[e])();t[7]=null}}(e,t),1===t[1].type&&ct(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Xe(t[3])){n!==t[3]&&Ro(n,t);const o=t[19];null!==o&&o.detachView(e)}}}function ko(e,t,n,o,s){ct(e)?e.insertBefore(t,n,o,s):t.insertBefore(n,o,s)}function Co(e,t,n){ct(e)?e.appendChild(t,n):t.appendChild(n)}function Mo(e,t,n,o,s){null!==o?ko(e,t,n,o,s):Co(e,t,n)}function Po(e,t){return ct(e)?e.parentNode(t):t.parentNode}function Uo(e,t,n,o){const s=function(e,t,n){return function(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];if(2&o.flags){const t=e.data[o.directiveStart].encapsulation;if(t===Oe.None||t===Oe.Emulated)return null}return gt(o,n)}(e,t.parent,n)}(e,o,t),r=t[11],i=function(e,t,n){return function(e,t,n){return 40&e.type?gt(e,n):null}(e,0,n)}(o.parent||t[6],0,t);if(null!=s)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mo(r,s,n[a],i,!1);else Mo(r,s,n,i,!1)}function Lo(e,t){if(null!==t){const n=t.type;if(3&n)return gt(t,e);if(4&n)return _o(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Lo(e,n);{const n=e[t.index];return Xe(n)?_o(-1,n):pt(n)}}if(32&n)return No(t,e)()||pt(e[t.index]);{const n=e[16],o=n[6],s=yo(n),r=o.projection[t.projection];return null!=r?Lo(s,r):Lo(e,t.next)}}return null}function _o(e,t){const n=je+e+1;if(n<t.length){const e=t[n],o=e[1].firstChild;if(null!==o)return Lo(e,o)}return t[7]}function Bo(e,t,n,o,s,r,i){for(;null!=n;){const a=o[n.index],h=n.type;if(i&&0===t&&(a&&fo(pt(a),o),n.flags|=4),64!=(64&n.flags))if(8&h)Bo(e,t,n.child,o,s,r,!1),Eo(t,e,s,a,r);else if(32&h){const i=No(n,o);let h;for(;h=i();)Eo(t,e,s,h,r);Eo(t,e,s,a,r)}else 16&h?Ho(e,t,o,n,s,r):Eo(t,e,s,a,r);n=i?n.projectionNext:n.next}}function Wo(e,t,n,o,s,r){Bo(n,o,e.firstChild,t,s,r,!1)}function Ho(e,t,n,o,s,r){const i=n[16],a=i[6].projection[o.projection];if(Array.isArray(a))for(let h=0;h<a.length;h++)Eo(t,e,s,a[h],r);else Bo(e,t,a,i[3],s,r,!0)}function Go(e,t,n){ct(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ko(e,t,n){ct(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Jo(e,t,n){let o=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===o||e.charCodeAt(s+n)<=32)return s}n=s+1}}const xo="ng-template";function Fo(e,t,n){let o=0;for(;o<e.length;){let s=e[o++];if(n&&"class"===s){if(s=e[o],-1!==Jo(s.toLowerCase(),t,0))return!0}else if(1===s){for(;o<e.length&&"string"==typeof(s=e[o++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Yo(e){return 4===e.type&&e.value!==xo}function Vo(e,t,n){return t===(4!==e.type||n?e.value:xo)}function jo(e,t,n){let o=4;const s=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(rn(e[t]))return t;return e.length}(s);let i=!1;for(let a=0;a<t.length;a++){const h=t[a];if("number"!=typeof h){if(!i)if(4&o){if(o=2|1&o,""!==h&&!Vo(e,h,n)||""===h&&1===t.length){if(Qo(o))return!1;i=!0}}else{const l=8&o?h:t[++a];if(8&o&&null!==e.attrs){if(!Fo(e.attrs,l,n)){if(Qo(o))return!1;i=!0}continue}const u=Xo(8&o?"class":h,s,Yo(e),n);if(-1===u){if(Qo(o))return!1;i=!0;continue}if(""!==l){let e;e=u>r?"":s[u+1].toLowerCase();const t=8&o?e:null;if(t&&-1!==Jo(t,l,0)||2&o&&l!==e){if(Qo(o))return!1;i=!0}}}}else{if(!i&&!Qo(o)&&!Qo(h))return!1;if(i&&Qo(h))continue;i=!1,o=h|1&o}}return Qo(o)||i}function Qo(e){return 0==(1&e)}function Xo(e,t,n,o){if(null===t)return-1;let s=0;if(o||!n){let n=!1;for(;s<t.length;){const o=t[s];if(o===e)return s;if(3===o||6===o)n=!0;else{if(1===o||2===o){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function zo(e,t,n=!1){for(let o=0;o<t.length;o++)if(jo(e,t[o],n))return!0;return!1}function $o(e,t){return e?":not("+t.trim()+")":t}function qo(e){let t=e[0],n=1,o=2,s="",r=!1;for(;n<e.length;){let i=e[n];if("string"==typeof i)if(2&o){const t=e[++n];s+="["+i+(t.length>0?'="'+t+'"':"")+"]"}else 8&o?s+="."+i:4&o&&(s+=" "+i);else""===s||Qo(i)||(t+=$o(r,s),s=""),o=i,r=r||!Qo(o);n++}return""!==s&&(t+=$o(r,s)),t}const Zo={};function es(e){ts(St(),Rt(),jt()+e,Mt())}function ts(e,t,n,o){if(!o)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&$t(t,o,n)}else{const o=e.preOrderHooks;null!==o&&qt(t,o,0,n)}Qt(n)}function ns(e,t){return e<<17|t<<2}function os(e){return e>>17&32767}function ss(e){return 2|e}function rs(e){return(131068&e)>>2}function is(e,t){return-131069&e|t<<2}function as(e){return 1|e}function hs(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const s=n[o],r=n[o+1];if(-1!==r){const n=e.data[r];Wt(s),n.contentQueries(2,t[r],r)}}}function ls(e,t,n,o,s,r,i,a,h,l){const u=t.blueprint.slice();return u[0]=s,u[2]=140|o,wt(u),u[3]=u[15]=e,u[8]=n,u[10]=i||e&&e[10],u[11]=a||e&&e[11],u[12]=h||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function us(e,t,n,o,s){let r=e.data[t];if(null===r)r=function(e,t,n,o,s){const r=Dt(),i=Ct(),a=e.data[t]=function(e,t,n,o,s,r){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?r:r&&r.parent,n,t,o,s);return null===e.firstChild&&(e.firstChild=a),null!==r&&(i?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(e,t,n,o,s),Et.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=n,r.value=o,r.attrs=s;const e=function(){const e=Et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===e?-1:e.injectorIndex}return kt(r,!0),r}function ds(e,t,n,o){if(0===n)return-1;const s=t.length;for(let r=0;r<n;r++)t.push(o),e.blueprint.push(o),e.data.push(null);return s}function cs(e,t,n){Kt(t);try{const o=e.viewQuery;null!==o&&Gs(1,o,n);const s=e.template;null!==s&&fs(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&hs(e,t),e.staticViewQueries&&Gs(2,e.viewQuery,n);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)Ls(e,t[n])}(t,r)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,Vt()}}function As(e,t,n,o){const s=t[2];if(256==(256&s))return;Kt(t);const r=Mt();try{wt(t),Et.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&fs(e,t,n,2,o);const i=3==(3&s);if(!r)if(i){const n=e.preOrderCheckHooks;null!==n&&$t(t,n,null)}else{const n=e.preOrderHooks;null!==n&&qt(t,n,0,null),Zt(t,0)}if(function(e){for(let t=Oo(e);null!==t;t=wo(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],o=n[3];0==(1024&n[2])&&Tt(o,1),n[2]|=1024}}}(t),function(e){for(let t=Oo(e);null!==t;t=wo(t))for(let e=je;e<t.length;e++){const n=t[e],o=n[1];yt(n)&&As(o,n,o.template,n[8])}}(t),null!==e.contentQueries&&hs(e,t),!r)if(i){const n=e.contentCheckHooks;null!==n&&$t(t,n)}else{const n=e.contentHooks;null!==n&&qt(t,n,1),Zt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const o=n[e];if(o<0)Qt(~o);else{const s=o,r=n[++e],i=n[++e];_t(r,s),i(2,t[s])}}}finally{Qt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Ps(e,t[n])}(t,a);const h=e.viewQuery;if(null!==h&&Gs(2,h,o),!r)if(i){const n=e.viewCheckHooks;null!==n&&$t(t,n)}else{const n=e.viewHooks;null!==n&&qt(t,n,2),Zt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Tt(t[3],-1))}finally{Vt()}}function ps(e,t,n,o){const s=t[10],r=!Mt(),i=4==(4&t[2]);try{r&&!i&&s.begin&&s.begin(),i&&cs(e,t,o),As(e,t,n,o)}finally{r&&!i&&s.end&&s.end()}}function fs(e,t,n,o,s){const r=jt();try{Qt(-1),2&o&&t.length>Ve&&ts(e,t,Ve,Mt()),n(o,s)}finally{Qt(r)}}function gs(e,t,n){bt()&&(function(e,t,n,o){const s=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||gn(n,t),fo(o,t);const i=n.initialInputs;for(let a=s;a<r;a++){const o=e.data[a],r=Ze(o);r&&Ds(t,n,o);const h=Sn(t,e,a,n);fo(h,t),null!==i&&ks(0,a-s,h,o,0,i),r&&(It(n.index,t)[8]=h)}}(e,t,n,gt(n,t)),128==(128&n.flags)&&function(e,t,n){const o=n.directiveStart,s=n.directiveEnd,r=n.index,i=Et.lFrame.currentDirectiveIndex;try{Qt(r);for(let n=o;n<s;n++){const o=e.data[n],s=t[n];Bt(n),null===o.hostBindings&&0===o.hostVars&&null===o.hostAttrs||Es(o,s)}}finally{Qt(-1),Bt(i)}}(e,t,n))}function ms(e,t,n=gt){const o=t.localNames;if(null!==o){let s=t.index+1;for(let r=0;r<o.length;r+=2){const i=o[r+1],a=-1===i?n(t,e):e[i];e[s++]=a}}}function Is(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ns(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ns(e,t,n,o,s,r,i,a,h,l){const u=Ve+o,d=u+s,c=function(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:Zo);return n}(u,d),A="function"==typeof l?l():l;return c[1]={type:e,blueprint:c,template:n,queries:null,viewQuery:a,declTNode:t,data:c.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:h,consts:A,incompleteFirstPass:!1}}function ys(e,t,n){for(let o in e)if(e.hasOwnProperty(o)){const s=e[o];(n=null===n?{}:n).hasOwnProperty(o)?n[o].push(t,s):n[o]=[t,s]}return n}function Os(e,t,n,o,s,r,i,a){const h=gt(t,n);let l,u=t.inputs;var d;!a&&null!=u&&(l=u[o])?(Ys(e,n,l,o,s),$e(t)&&function(e,t){const n=It(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(o="class"===(d=o)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,s=null!=i?i(s,t.value||"",o):s,ct(r)?r.setProperty(h,o,s):an(o)||(h.setProperty?h.setProperty(o,s):h[o]=s))}function ws(e,t,n,o){let s=!1;if(bt()){const r=function(e,t,n){const o=e.directiveRegistry;let s=null;if(o)for(let r=0;r<o.length;r++){const i=o[r];zo(n,i.selectors,!1)&&(s||(s=[]),yn(gn(n,t),e,i.type),Ze(i)?(bs(e,n),s.unshift(i)):s.push(i))}return s}(e,t,n),i=null===o?null:{"":-1};if(null!==r){s=!0,Ss(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,h=ds(e,t,r.length,null);for(let s=0;s<r.length;s++){const l=r[s];n.mergedAttrs=hn(n.mergedAttrs,l.hostAttrs),vs(e,n,t,h,l),Rs(h,l,i),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),o=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),h++}!function(e,t){const n=t.directiveEnd,o=e.data,s=t.attrs,r=[];let i=null,a=null;for(let h=t.directiveStart;h<n;h++){const e=o[h],n=e.inputs,l=null===s||Yo(t)?null:Cs(n,s);r.push(l),i=ys(n,h,i),a=ys(e.outputs,h,a)}null!==i&&(i.hasOwnProperty("class")&&(t.flags|=16),i.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=i,t.outputs=a}(e,n)}i&&function(e,t,n){if(t){const o=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new tt("301",`Export of name '${t[e+1]}' not found!`);o.push(t[e],s)}}}(n,o,i)}return n.mergedAttrs=hn(n.mergedAttrs,n.attrs),s}function Ts(e,t,n,o,s,r){const i=r.hostBindings;if(i){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const r=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=r&&n.push(r),n.push(o,s,i)}}function Es(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function bs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Rs(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Ze(t)&&(n[""]=e)}}function Ss(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function vs(e,t,n,o,s){e.data[o]=s;const r=s.factory||(s.factory=et(s.type)),i=new on(r,Ze(s),null);e.blueprint[o]=i,n[o]=i,Ts(e,t,0,o,ds(e,n,s.hostVars,Zo),s)}function Ds(e,t,n){const o=gt(t,e),s=Is(n),r=e[10],i=_s(e,ls(e,s,null,n.onPush?64:16,o,t,r,r.createRenderer(o,n),null,null));e[t.index]=i}function ks(e,t,n,o,s,r){const i=r[t];if(null!==i){const e=o.setInput;for(let t=0;t<i.length;){const s=i[t++],r=i[t++],a=i[t++];null!==e?o.setInput(n,a,s,r):n[r]=a}}}function Cs(e,t){let n=null,o=0;for(;o<t.length;){const s=t[o];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[o+1])),o+=2}else o+=2;else o+=4}return n}function Ms(e,t,n,o){return new Array(e,!0,!1,t,null,0,o,n,null,null)}function Ps(e,t){const n=It(t,e);if(yt(n)){const e=n[1];80&n[2]?As(e,n,e.template,n[8]):n[5]>0&&Us(n)}}function Us(e){for(let n=Oo(e);null!==n;n=wo(n))for(let e=je;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];As(e,t,e.template,t[8])}else t[5]>0&&Us(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const o=It(t[n],e);yt(o)&&o[5]>0&&Us(o)}}function Ls(e,t){const n=It(t,e),o=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(o,n),cs(o,n,n[8])}function _s(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Bs(e){for(;e;){e[2]|=64;const t=yo(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Ws(e,t,n){const o=t[10];o.begin&&o.begin();try{As(e,t,e.template,n)}catch(s){throw Fs(t,s),s}finally{o.end&&o.end()}}function Hs(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],o=Nt(n),s=o[1];ps(s,o,s.template,n)}}(e[8])}function Gs(e,t,n){Wt(0),t(e,n)}const Ks=(()=>Promise.resolve(null))();function Js(e){return e[7]||(e[7]=[])}function xs(e){return e.cleanup||(e.cleanup=[])}function Fs(e,t){const n=e[9],o=n?n.get(po,null):null;o&&o.handleError(t)}function Ys(e,t,n,o,s){for(let r=0;r<n.length;){const i=n[r++],a=n[r++],h=t[i],l=e.data[i];null!==l.setInput?l.setInput(h,s,o,a):h[a]=s}}function Vs(e,t,n){const o=ft(t,e);!function(e,t,n){ct(e)?e.setValue(t,n):t.textContent=n}(e[11],o,n)}function js(e,t,n){let o=n?e.styles:null,s=n?e.classes:null,r=0;if(null!==t)for(let i=0;i<t.length;i++){const e=t[i];"number"==typeof e?r=e:1==r?s=te(s,e):2==r&&(o=te(o,e+": "+t[++i]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=s:e.classesWithoutHost=s}const Qs=new _n("INJECTOR",-1);class Xs{get(e,t=Xn){if(t===Xn){const t=new Error(`NullInjectorError: No provider for ${ee(e)}!`);throw t.name="NullInjectorError",t}return t}}const zs=new _n("Set Injector scope."),$s={},qs={},Zs=[];let er=void 0;function tr(){return void 0===er&&(er=new Xs),er}function nr(e,t=null,n=null,o){return new or(e,n,t||tr(),o)}class or{constructor(e,t,n,o=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Hn(t,n=>this.processProvider(n,e,t)),Hn([e],e=>this.processInjectorType(e,[],s)),this.records.set(Qs,ir(void 0,this));const r=this.records.get(zs);this.scope=null!=r?r.value:null,this.source=o||("object"==typeof e?null:ee(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Xn,n=fe.Default){this.assertNotDestroyed();const o=eo(this);try{if(!(n&fe.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof _n)&&he(e);t=n&&this.injectableDefInScope(n)?ir(sr(e),$s):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&fe.Self?tr():this.parent).get(e,t=n&fe.Optional&&t===Xn?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(ee(e)),o)throw r;return function(e,t,n,o){const s=e.ngTempTokenPath;throw t[$n]&&s.unshift(t[$n]),e.message=function(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=ee(t);if(Array.isArray(t))s=t.map(ee).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let o=t[n];e.push(n+":"+("string"==typeof o?JSON.stringify(o):ee(o)))}s=`{${e.join(", ")}}`}return`${n}${o?"("+o+")":""}[${s}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,s,n,o),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{eo(o)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(ee(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=se(e)))return!1;let o=ue(e);const s=null==o&&e.ngModule||void 0,r=void 0===s?e:s,i=-1!==n.indexOf(r);if(void 0!==s&&(o=ue(s)),null==o)return!1;if(null!=o.imports&&!i){let e;n.push(r);try{Hn(o.imports,o=>{this.processInjectorType(o,t,n)&&(void 0===e&&(e=[]),e.push(o))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];Hn(o,e=>this.processProvider(e,n,o||Zs))}}this.injectorDefTypes.add(r),this.records.set(r,ir(o.factory,$s));const a=o.providers;if(null!=a&&!i){const t=e;Hn(a,e=>this.processProvider(e,t,a))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let o=hr(e=se(e))?e:se(e&&e.provide);const s=function(e,t,n){return ar(e)?ir(void 0,e.useValue):ir(rr(e),$s)}(e);if(hr(e)||!0!==e.multi)this.records.get(o);else{let t=this.records.get(o);t||(t=ir(void 0,$s,!0),t.factory=()=>oo(t.multi),this.records.set(o,t)),o=e,t.multi.push(e)}this.records.set(o,s)}hydrate(e,t){var n;return t.value===$s&&(t.value=qs,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function sr(e){const t=he(e),n=null!==t?t.factory:et(e);if(null!==n)return n;const o=ue(e);if(null!==o)return o.factory;if(e instanceof _n)throw new Error(`Token ${ee(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let o=0;o<e;o++)n.push("?");return n}(t);throw new Error(`Can't resolve all parameters for ${ee(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[de]||e[Ae]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function rr(e,t,n){let o=void 0;if(hr(e)){const t=se(e);return et(t)||sr(t)}if(ar(e))o=()=>se(e.useValue);else if((s=e)&&s.useFactory)o=()=>e.useFactory(...oo(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))o=()=>no(se(e.useExisting));else{const t=se(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return et(t)||sr(t);o=()=>new t(...oo(e.deps))}var s;return o}function ir(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ar(e){return null!==e&&"object"==typeof e&&qn in e}function hr(e){return"function"==typeof e}const lr=function(e,t,n){return function(e,t=null,n=null,o){const s=nr(e,t,n,o);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};let ur=(()=>{class e{static create(e,t){return Array.isArray(e)?lr(e,t,""):lr(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Xn,e.NULL=new Xs,e.\u0275prov=ie({token:e,providedIn:"any",factory:()=>no(Qs)}),e.__NG_ELEMENT_ID__=-1,e})();function dr(e,t){zt(Nt(e)[1],vt())}function cr(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const o=[e];for(;t;){let s=void 0;if(Ze(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){o.push(s);const t=e;t.inputs=Ar(e.inputs),t.declaredInputs=Ar(e.declaredInputs),t.outputs=Ar(e.outputs);const n=s.hostBindings;n&&gr(e,n);const r=s.viewQuery,i=s.contentQueries;if(r&&pr(e,r),i&&fr(e,i),Z(e.inputs,s.inputs),Z(e.declaredInputs,s.declaredInputs),Z(e.outputs,s.outputs),Ze(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}}const t=s.features;if(t)for(let o=0;o<t.length;o++){const s=t[o];s&&s.ngInherit&&s(e),s===cr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){const s=e[o];s.hostVars=t+=s.hostVars,s.hostAttrs=hn(s.hostAttrs,n=hn(n,s.hostAttrs))}}(o)}function Ar(e){return e===Se?{}:e===ve?[]:e}function pr(e,t){const n=e.viewQuery;e.viewQuery=n?(e,o)=>{t(e,o),n(e,o)}:t}function fr(e,t){const n=e.contentQueries;e.contentQueries=n?(e,o,s)=>{t(e,o,s),n(e,o,s)}:t}function gr(e,t){const n=e.hostBindings;e.hostBindings=n?(e,o)=>{t(e,o),n(e,o)}:t}let mr=null;function Ir(){if(!mr){const e=Re.Symbol;if(e&&e.iterator)mr=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(mr=n)}}}return mr}function Nr(e){return!!yr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ir()in e)}function yr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Or(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function wr(e,t,n,o){return Or(e,Ut(),n)?t+nt(n)+o:Zo}function Tr(e,t,n,o,s,r,i,a){const h=Rt(),l=St(),u=e+Ve,d=l.firstCreatePass?function(e,t,n,o,s,r,i,a,h){const l=t.consts,u=us(t,e,4,i||null,Ot(l,a));ws(t,n,u,Ot(l,h)),zt(t,u);const d=u.tViews=Ns(2,u,o,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,h,t,n,o,s,r,i):l.data[u];kt(d,!1);const c=h[11].createComment("");Uo(l,h,c,d),fo(c,h),_s(h,h[u]=Ms(c,h,c,d)),qe(d)&&gs(l,h,d),null!=i&&ms(h,d,a)}function Er(e,t=fe.Default){const n=Rt();return null===n?no(e,t):Tn(vt(),n,se(e),t)}function br(e,t,n){const o=Rt();return Or(o,Ut(),t)&&Os(St(),Xt(),o,e,t,o[11],n,!1),br}function Rr(e,t,n,o,s){const r=s?"class":"style";Ys(e,n,t.inputs[r],r,o)}function Sr(e,t,n,o){const s=Rt(),r=St(),i=Ve+e,a=s[11],h=s[i]=bo(a,t,Et.lFrame.currentNamespace),l=r.firstCreatePass?function(e,t,n,o,s,r,i){const a=t.consts,h=us(t,e,2,s,Ot(a,r));return ws(t,n,h,Ot(a,i)),null!==h.attrs&&js(h,h.attrs,!1),null!==h.mergedAttrs&&js(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(i,r,s,0,t,n,o):r.data[i];kt(l,!0);const u=l.mergedAttrs;null!==u&&sn(a,h,u);const d=l.classes;null!==d&&Ko(a,h,d);const c=l.styles;null!==c&&Go(a,h,c),64!=(64&l.flags)&&Uo(r,s,h,l),0===Et.lFrame.elementDepthCount&&fo(h,s),Et.lFrame.elementDepthCount++,qe(l)&&(gs(r,s,l),function(e,t,n){if(ze(t)){const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,n[s],s)}}}(r,l,s)),null!==o&&ms(s,l)}function vr(){let e=vt();Ct()?Et.lFrame.isParent=!1:(e=e.parent,kt(e,!1));const t=e;Et.lFrame.elementDepthCount--;const n=St();n.firstCreatePass&&(zt(n,e),ze(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Rr(n,t,Rt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Rr(n,t,Rt(),t.stylesWithoutHost,!1)}function Dr(e,t,n,o){Sr(e,t,n,o),vr()}function kr(e){return!!e&&"function"==typeof e.then}function Cr(e){return!!e&&"function"==typeof e.subscribe}function Mr(e,t,n=!1,o){const s=Rt(),r=St(),i=vt();return function(e,t,n,o,s,r,i=!1,a){const h=qe(o),l=e.firstCreatePass&&xs(e),u=Js(t);let d=!0;if(3&o.type){const c=gt(o,t),A=a?a(c):Se,p=A.target||c,f=u.length,g=a?e=>a(pt(e[o.index])).target:o.index;if(ct(n)){let i=null;if(!a&&h&&(i=function(e,t,n,o){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const e=s[r];if(e===n&&s[r+1]===o){const e=t[7],n=s[r+2];return e.length>n?e[n]:null}"string"==typeof e&&(r+=2)}return null}(e,t,s,o.index)),null!==i)(i.__ngLastListenerFn__||i).__ngNextListenerFn__=r,i.__ngLastListenerFn__=r,d=!1;else{r=Ur(o,t,r,!1);const e=n.listen(A.name||p,s,r);u.push(r,e),l&&l.push(s,g,f,f+1)}}else r=Ur(o,t,r,!0),p.addEventListener(s,r,i),u.push(r),l&&l.push(s,g,f,i)}else r=Ur(o,t,r,!1);const c=o.outputs;let A;if(d&&null!==c&&(A=c[s])){const e=A.length;if(e)for(let n=0;n<e;n+=2){const e=t[A[n]][A[n+1]].subscribe(r),i=u.length;u.push(r,e),l&&l.push(s,o.index,i,-(i+1))}}}(r,s,s[11],i,e,t,n,o),Mr}function Pr(e,t,n){try{return!1!==t(n)}catch(o){return Fs(e,o),!1}}function Ur(e,t,n,o){return function s(r){if(r===Function)return n;const i=2&e.flags?It(e.index,t):t;0==(32&t[2])&&Bs(i);let a=Pr(t,n,r),h=s.__ngNextListenerFn__;for(;h;)a=Pr(t,h,r)&&a,h=h.__ngNextListenerFn__;return o&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Lr(e,t,n){return _r(e,"",t,"",n),Lr}function _r(e,t,n,o,s){const r=Rt(),i=wr(r,t,n,o);return i!==Zo&&Os(St(),Xt(),r,e,i,r[11],s,!1),_r}const Br=[];function Wr(e,t,n,o,s){const r=e[n+1],i=null===t;let a=o?os(r):rs(r),h=!1;for(;0!==a&&(!1===h||i);){const n=e[a+1];Hr(e[a],t)&&(h=!0,e[a+1]=o?as(n):ss(n)),a=o?os(n):rs(n)}h&&(e[n+1]=o?ss(r):as(r))}function Hr(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Fn(e,t)>=0}function Gr(e,t){return function(e,t,n,o){const s=Rt(),r=St(),i=Lt(2);r.firstUpdatePass&&function(e,t,n,o){const s=e.data;if(null===s[n+1]){const r=s[jt()],i=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(r)&&null===t&&!i&&(t=!1),t=function(e,t,n,o){const s=function(e){const t=Et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=t.residualClasses;if(null===s)0===t.classBindings&&(n=Jr(n=Kr(null,e,t,n,o),t.attrs,o),r=null);else{const i=t.directiveStylingLast;if(-1===i||e[i]!==s)if(n=Kr(s,e,t,n,o),null===r){let n=function(e,t,n){const o=t.classBindings;if(0!==rs(o))return e[os(o)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=Kr(null,e,t,n[1],o),n=Jr(n,t.attrs,o),function(e,t,n,o){e[os(t.classBindings)]=o}(e,t,0,n))}else r=function(e,t,n){let o=void 0;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)o=Jr(o,e[r].hostAttrs,true);return Jr(o,t.attrs,true)}(e,t)}return void 0!==r&&(t.residualClasses=r),n}(s,r,t,o),function(e,t,n,o,s,r){let i=t.classBindings,a=os(i),h=rs(i);e[o]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||Fn(e,l)>0)&&(u=!0)}else l=n;if(s)if(0!==h){const t=os(e[a+1]);e[o+1]=ns(t,a),0!==t&&(e[t+1]=is(e[t+1],o)),e[a+1]=131071&e[a+1]|o<<17}else e[o+1]=ns(a,0),0!==a&&(e[a+1]=is(e[a+1],o)),a=o;else e[o+1]=ns(h,0),0===a?a=o:e[h+1]=is(e[h+1],o),h=o;u&&(e[o+1]=ss(e[o+1])),Wr(e,l,o,!0),Wr(e,l,o,!1),function(e,t,n,o,s){const r=e.residualClasses;null!=r&&"string"==typeof t&&Fn(r,t)>=0&&(n[o+1]=as(n[o+1]))}(t,l,e,o),i=ns(a,h),t.classBindings=i}(s,r,t,n,i)}}(r,e,i,true),t!==Zo&&Or(s,i,t)&&function(e,t,n,o,s,r,i,a){if(!(3&t.type))return;const h=e.data,l=h[a+1];Fr(1==(1&l)?xr(h,t,n,s,rs(l),i):void 0)||(Fr(r)||function(e){return 2==(2&e)}(l)&&(r=xr(h,null,n,s,a,i)),function(e,t,n,o,s){const r=ct(e);s?r?e.addClass(n,o):n.classList.add(o):r?e.removeClass(n,o):n.classList.remove(o)}(o,0,ft(jt(),n),s,r))}(r,r.data[jt()],s,s[11],e,s[i+1]=function(e,t){return null==e||"object"==typeof e&&(e=ee(ro(e))),e}(t),true,i)}(e,t),Gr}function Kr(e,t,n,o,s){let r=null;const i=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<i&&(r=t[a],o=Jr(o,r.hostAttrs,s),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),o}function Jr(e,t,n){const o=n?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?s=i:s===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Jn(e,i,!!n||t[++r]))}return void 0===e?null:e}function xr(e,t,n,o,s,r){const i=null===t;let a=void 0;for(;s>0;){const t=e[s],r=Array.isArray(t),h=r?t[1]:t,l=null===h;let u=n[s+1];u===Zo&&(u=l?Br:void 0);let d=l?xn(u,o):h===o?u:void 0;if(r&&!Fr(d)&&(d=xn(t,o)),Fr(d)&&(a=d,i))return a;const c=e[s+1];s=i?os(c):rs(c)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=xn(e,o))}return a}function Fr(e){return void 0!==e}function Yr(e,t=""){const n=Rt(),o=St(),s=e+Ve,r=o.firstCreatePass?us(o,s,1,t,null):o.data[s],i=n[s]=function(e,t){return ct(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Uo(o,n,i,r),kt(r,!1)}function Vr(e){return jr("",e,""),Vr}function jr(e,t,n){const o=Rt(),s=wr(o,e,t,n);return s!==Zo&&Vs(o,jt(),s),jr}function Qr(e,t,n,o,s){const r=Rt(),i=function(e,t,n,o,s,r){const i=function(e,t,n,o){const s=Or(e,t,n);return Or(e,t+1,o)||s}(e,Et.lFrame.bindingIndex,n,s);return Lt(2),i?t+nt(n)+o+nt(s)+r:Zo}(r,e,t,n,o,s);return i!==Zo&&Vs(r,jt(),i),Qr}const Xr=void 0;var zr=["en",[["a","p"],["AM","PM"],Xr],[["AM","PM"],Xr,Xr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xr,"{1} 'at' {0}",Xr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let $r={};function qr(e){return e in $r||($r[e]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[e]),$r[e]}var Zr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const ei="en-US";let ti=ei;function ni(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,o){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(ti=e.toLowerCase().replace(/_/g,"-"))}function oi(e,t,n,o,s){if(e=se(e),Array.isArray(e))for(let r=0;r<e.length;r++)oi(e[r],t,n,o,s);else{const r=St(),i=Rt();let a=hr(e)?e:se(e.provide),h=rr(e);const l=vt(),u=1048575&l.providerIndexes,d=l.directiveStart,c=l.providerIndexes>>20;if(hr(e)||!e.multi){const o=new on(h,s,Er),A=ii(a,t,s?u:u+c,d);-1===A?(yn(gn(l,i),r,a),si(r,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(o),i.push(o)):(n[A]=o,i[A]=o)}else{const A=ii(a,t,u+c,d),p=ii(a,t,u,u+c),f=A>=0&&n[A],g=p>=0&&n[p];if(s&&!g||!s&&!f){yn(gn(l,i),r,a);const u=function(e,t,n,o,s){const r=new on(e,n,Er);return r.multi=[],r.index=t,r.componentProviders=0,ri(r,s,o&&!n),r}(s?hi:ai,n.length,s,o,h);!s&&g&&(n[p].providerFactory=u),si(r,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,s&&(l.providerIndexes+=1048576),n.push(u),i.push(u)}else si(r,e,A>-1?A:p,ri(n[s?p:A],h,!s&&o));!s&&o&&g&&n[p].componentProviders++}}}function si(e,t,n,o){const s=hr(t);if(s||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const i=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=i.indexOf(n);-1===e?i.push(n,[o,r]):i[e+1].push(o,r)}else i.push(n,r)}}}function ri(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ii(e,t,n,o){for(let s=n;s<o;s++)if(t[s]===e)return s;return-1}function ai(e,t,n,o){return li(this.multi,[])}function hi(e,t,n,o){const s=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Sn(n,n[1],this.providerFactory.index,o);r=t.slice(0,e),li(s,r);for(let n=e;n<t.length;n++)r.push(t[n])}else r=[],li(s,r);return r}function li(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ui(e,t=[]){return n=>{n.providersResolver=(n,o)=>function(e,t,n){const o=St();if(o.firstCreatePass){const s=Ze(e);oi(n,o.data,o.blueprint,s,!0),oi(t,o.data,o.blueprint,s,!1)}}(n,o?o(e):e,t)}}class di{}class ci{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ee(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Ai=(()=>{class e{}return e.NULL=new ci,e})();function pi(...e){}function fi(e,t){return new mi(gt(e,t))}const gi=function(){return fi(vt(),Rt())};let mi=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=gi,e})();class Ii{}let Ni=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>yi(),e})();const yi=function(){const e=Rt(),t=It(vt().index,e);return function(e){return e[11]}(Qe(t)?t:e)};let Oi=(()=>{class e{}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>null}),e})();class wi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ti=new wi("11.0.5");class Ei{constructor(){}supports(e){return Nr(e)}create(e){return new Ri(e)}}const bi=(e,t)=>t;class Ri{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bi}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,o=0,s=null;for(;t||n;){const r=!n||t&&t.currentIndex<ki(n,o,s)?t:n,i=ki(r,o,s),a=r.currentIndex;if(r===n)o--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)o++;else{s||(s=[]);const e=i-o,t=a-o;if(e!=t){for(let n=0;n<e;n++){const o=n<s.length?s[n]:s[n]=0,r=o+n;t<=r&&r<e&&(s[n]=o+1)}s[r.previousIndex]=t-e}}i!==a&&e(r,i,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Nr(e))throw new Error(`Error trying to diff '${ee(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,o,s=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],o=this._trackByFn(t,n),null!==s&&Object.is(s.trackById,o)?(r&&(s=this._verifyReinsertion(s,n,o,t)),Object.is(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,o,t),r=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ir()]();let o;for(;!(o=n.next()).done;)t(o.value)}}(e,e=>{o=this._trackByFn(t,e),null!==s&&Object.is(s.trackById,o)?(r&&(s=this._verifyReinsertion(s,e,o,t)),Object.is(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,o,t),r=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,o){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,o)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,o)):e=this._addAfter(new Si(t,n),s,o),e}_verifyReinsertion(e,t,n,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,s=e._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Di),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Di),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Si{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vi{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Di{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new vi,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ki(e,t,n){const o=e.previousIndex;if(null===o)return o;let s=0;return n&&o<n.length&&(s=n[o]),o+t+s}class Ci{constructor(){}supports(e){return e instanceof Map||yr(e)}create(){return new Mi}}class Mi{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yr(e)))throw new Error(`Error trying to diff '${ee(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const o=n._prev,s=n._next;return o&&(o._next=s),s&&(s._prev=o),n._next=null,n._prev=null,n}const n=new Pi(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Pi{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ui=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Qn,new Vn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e([new Ei])}),e})(),Li=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Qn,new Vn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new e([new Ci])}),e})();function _i(e,t,n,o,s=!1){for(;null!==n;){const r=t[n.index];if(null!==r&&o.push(pt(r)),Xe(r))for(let e=je;e<r.length;e++){const t=r[e],n=t[1].firstChild;null!==n&&_i(t[1],t,n,o)}const i=n.type;if(8&i)_i(e,t,n.child,o);else if(32&i){const e=No(n,t);let s;for(;s=e();)o.push(s)}else if(16&i){const e=t[16],s=e[6].projection[n.projection];if(Array.isArray(s))o.push(...s);else{const t=yo(e);_i(t[1],t,s,o,!0)}}n=s?n.projectionNext:n.next}return o}class Bi{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView,t=e[1];return _i(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}vo(this._lView[1],this._lView)}onDestroy(e){!function(e,t,n,o){const s=Js(t);s.push(o)}(0,this._lView,0,e)}markForCheck(){Bs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ws(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Pt(!0);try{Ws(e,t,n)}finally{Pt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Wo(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Wi extends Bi{constructor(e){super(e),this._view=e}detectChanges(){Hs(this._view)}checkNoChanges(){!function(e){Pt(!0);try{Hs(e)}finally{Pt(!1)}}(this._view)}get context(){return null}}const Hi=function(e=!1){return function(e,t,n){if(!n&&$e(e)){const n=It(e.index,t);return new Bi(n,n)}return 47&e.type?new Bi(t[16],t):null}(vt(),Rt(),e)};let Gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Hi,e.__ChangeDetectorRef__=!0,e})();const Ki=[new Ci],Ji=new Ui([new Ei]),xi=new Li(Ki),Fi=function(){return e=vt(),t=Rt(),4&e.type?new ji(t,e,fi(e,t)):null;var e,t};let Yi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Fi,e})();const Vi=Yi,ji=class extends Vi{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=ls(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),cs(t,n,e),new Bi(n)}};class Qi{}class Xi{}const zi=function(){return function(e,t){let n;const o=t[e.index];if(Xe(o))n=o;else{let s;if(8&e.type)s=pt(o);else{const n=t[11];s=n.createComment("");const o=gt(e,t);ko(n,Po(n,o),s,function(e,t){return ct(e)?e.nextSibling(t):t.nextSibling}(n,o),!1)}t[e.index]=n=Ms(o,t,s,e),_s(t,n)}return new Zi(n,e,t)}(vt(),Rt())};let $i=(()=>{class e{}return e.__NG_ELEMENT_ID__=zi,e})();const qi=$i,Zi=class extends qi{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return fi(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nn(this._hostTNode,this._hostLView);if(un(e)){const t=cn(e,this._hostLView),n=dn(e);return new kn(t[1].data[n+8],t)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ea(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,t,n){const o=e.createEmbeddedView(t||{});return this.insert(o,n),o}createComponent(e,t,n,o,s){const r=n||this.parentInjector;if(!s&&null==e.ngModule&&r){const e=r.get(Qi,null);e&&(s=e)}const i=e.create(r,o,void 0,s);return this.insert(i.hostView,t),i}insert(e,t){const n=e._lView,o=n[1];if(Xe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],o=new Zi(t,t[6],t[3]);o.detach(o.indexOf(e))}}const s=this._adjustIndex(t),r=this._lContainer;!function(e,t,n,o){const s=je+o,r=n.length;o>0&&(n[s-1][4]=t),o<r-je?(t[4]=n[s],Gn(n,je+o,t)):(n.push(t),t[4]=null),t[3]=n;const i=t[17];null!==i&&n!==i&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(i,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(o,n,r,s);const i=_o(s,r),a=n[11],h=Po(a,r[7]);return null!==h&&function(e,t,n,o,s,r){o[0]=s,o[6]=t,Wo(e,o,n,1,s,r)}(o,r[6],a,n,h,i),e.attachToViewContainerRef(this),Gn(ta(r),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ea(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=So(this._lContainer,t);n&&(Kn(ta(this._lContainer),t),vo(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=So(this._lContainer,t);return n&&null!=Kn(ta(this._lContainer),t)?new Bi(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ea(e){return e[8]}function ta(e){return e[8]||(e[8]=[])}const na={};class oa extends Ai{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Fe(e);return new ia(t,this.ngModule)}}function sa(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const ra=new _n("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>go});class ia extends di{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(qo).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return sa(this.componentDef.inputs)}get outputs(){return sa(this.componentDef.outputs)}create(e,t,n,o){const s=(o=o||this.ngModule)?function(e,t){return{get:(n,o,s)=>{const r=e.get(n,na,s);return r!==na||o===na?r:t.get(n,o,s)}}}(e,o.injector):e,r=s.get(Ii,At),i=s.get(Oi,null),a=r.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(ct(e))return e.selectRootElement(t,n===Oe.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(a,n,this.componentDef.encapsulation):bo(r.createRenderer(null,this.componentDef),h,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),u=this.componentDef.onPush?576:528,d={components:[],scheduler:go,clean:Ks,playerHandler:null,flags:0},c=Ns(0,null,null,1,0,null,null,null,null,null),A=ls(null,c,d,u,null,null,r,a,i,s);let p,f;Kt(A);try{const e=function(e,t,n,o,s,r){const i=n[1];n[20]=e;const a=us(i,20,2,"#host",null),h=a.mergedAttrs=t.hostAttrs;null!==h&&(js(a,h,!0),null!==e&&(sn(s,e,h),null!==a.classes&&Ko(s,e,a.classes),null!==a.styles&&Go(s,e,a.styles)));const l=o.createRenderer(e,t),u=ls(n,Is(t),null,t.onPush?64:16,n[20],a,o,l,null,null);return i.firstCreatePass&&(yn(gn(a,n),i,t.type),bs(i,a),Ss(a,n.length,1)),_s(n,u),n[20]=u}(l,this.componentDef,A,r,a);if(l)if(n)sn(a,l,["ng-version",Ti.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let o=1,s=2;for(;o<e.length;){let r=e[o];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++o]):8===s&&n.push(r);else{if(!Qo(s))break;s=r}o++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&sn(a,l,e),t&&t.length>0&&Ko(a,l,t.join(" "))}if(f=mt(c,Ve),void 0!==t){const e=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const o=t[n];e.push(null!=o?Array.from(o):null)}}p=function(e,t,n,o,s){const r=n[1],i=function(e,t,n){const o=vt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vs(e,o,t,ds(e,t,1,null),n));const s=Sn(t,e,o.directiveStart,o);fo(s,t);const r=gt(o,t);return r&&fo(r,t),s}(r,n,t);if(o.components.push(i),e[8]=i,s&&s.forEach(e=>e(i,t)),t.contentQueries){const e=vt();t.contentQueries(1,i,e.directiveStart)}const a=vt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Qt(a.index),Ts(n[1],a,0,a.directiveStart,a.directiveEnd,t),Es(t,i)),i}(e,this.componentDef,A,d,[dr]),cs(c,A,null)}finally{Vt()}return new aa(this.componentType,p,fi(f,A),A,f)}}class aa extends class{}{constructor(e,t,n,o,s){super(),this.location=n,this._rootLView=o,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Wi(o),this.componentType=e}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const ha=new Map;class la extends Qi{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new oa(this);const n=Ye(e),o=e[Pe]||null;o&&ni(o),this._bootstrapComponents=mo(n.bootstrap),this._r3Injector=nr(e,t,[{provide:Qi,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],ee(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ur.THROW_IF_NOT_FOUND,n=fe.Default){return e===ur||e===Qi||e===Qs?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ua extends Xi{constructor(e){super(),this.moduleType=e,null!==Ye(e)&&function(e){const t=new Set;!function e(n){const o=Ye(n,!0),s=o.id;null!==s&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ee(t)} vs ${ee(t.name)}`)}(s,ha.get(s),n),ha.set(s,n));const r=mo(o.imports);for(const i of r)t.has(i)||(t.add(i),e(i))}(e)}(e)}create(e){return new la(this.moduleType,e)}}const da=class extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let o,s=e=>null,r=()=>null;e&&"object"==typeof e?(o=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(r=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const i=super.subscribe(o,s,r);return e instanceof d&&e.add(i),i}},ca=new _n("Application Initializer");let Aa=(()=>{class e{constructor(e){this.appInits=e,this.resolve=pi,this.reject=pi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();kr(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(no(ca,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const pa=new _n("AppId"),fa={provide:pa,useFactory:function(){return`${ga()}${ga()}${ga()}`},deps:[]};function ga(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ma=new _n("Platform Initializer"),Ia=new _n("Platform ID"),Na=new _n("appBootstrapListener");let ya=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const Oa=new _n("LocaleId"),wa=new _n("DefaultCurrencyCode");class Ta{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Ea=function(e){return new ua(e)},ba=Ea,Ra=function(e){return Promise.resolve(Ea(e))},Sa=function(e){const t=Ea(e),n=mo(Ye(e).declarations).reduce((e,t)=>{const n=Fe(t);return n&&e.push(new ia(n)),e},[]);return new Ta(t,n)},va=Sa,Da=function(e){return Promise.resolve(Sa(e))};let ka=(()=>{class e{constructor(){this.compileModuleSync=ba,this.compileModuleAsync=Ra,this.compileModuleAndAllComponentsSync=va,this.compileModuleAndAllComponentsAsync=Da}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const Ca=(()=>Promise.resolve(0))();function Ma(e){"undefined"==typeof Zone?Ca.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Pa{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new da(!1),this.onMicrotaskEmpty=new da(!1),this.onStable=new da(!1),this.onError=new da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=t,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=Re.requestAnimationFrame,t=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_a(e),La(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_a(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,o,s,r,i,a)=>{try{return Ba(e),n.invokeTask(s,r,i,a)}finally{t&&"eventTask"===r.type&&t(),Wa(e)}},onInvoke:(t,n,o,s,r,i,a)=>{try{return Ba(e),t.invoke(o,s,r,i,a)}finally{Wa(e)}},onHasTask:(t,n,o,s)=>{t.hasTask(o,s),n===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,_a(e),La(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,o,s)=>(t.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,e,Ua,pi,pi);try{return s.runTask(r,t,n)}finally{s.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Ua={};function La(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _a(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ba(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wa(e){e._nesting--,La(e)}class Ha{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new da,this.onMicrotaskEmpty=new da,this.onStable=new da,this.onError=new da}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,o){return e.apply(t,n)}}let Ga=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pa.assertNotInAngularZone(),Ma(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ma(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let o=-1;t&&t>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==o),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(no(Pa))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Ka=(()=>{class e{constructor(){this._applications=new Map,Fa.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Fa.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class Ja{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let xa,Fa=new Ja,Ya=!0,Va=!1;function ja(){return Va=!0,Ya}const Qa=new _n("AllowMultipleToken");class Xa{constructor(e,t){this.name=e,this.token=t}}function za(e,t,n=[]){const o="Platform: "+t,s=new _n(o);return(t=[])=>{let r=$a();if(!r||r.injector.get(Qa,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:zs,useValue:"platform"});!function(e){if(xa&&!xa.destroyed&&!xa.injector.get(Qa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xa=e.get(qa);const t=e.get(ma,null);t&&t.forEach(e=>e())}(ur.create({providers:e,name:o}))}return function(e){const t=$a();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function $a(){return xa&&!xa.destroyed?xa:null}let qa=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Ha:("zone.js"===e?void 0:e)||new Pa({enableLongStackTrace:ja(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),o=[{provide:Pa,useValue:n}];return n.run(()=>{const t=ur.create({providers:o,parent:this.injector,name:e.moduleType.name}),s=e.create(t),r=s.injector.get(po,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{r.handleError(e)}});s.onDestroy(()=>{th(this._modules,s),e.unsubscribe()})}),function(e,t,n){try{const o=n();return kr(o)?o.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(r,n,()=>{const e=s.injector.get(Aa);return e.runInitializers(),e.donePromise.then(()=>(ni(s.injector.get(Oa,ei)||ei),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Za({},t);return function(e,t,n){const o=new ua(n);return Promise.resolve(o)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(eh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ee(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(no(ur))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function Za(e,t){return Array.isArray(t)?t.reduce(Za,e):Object.assign(Object.assign({},e),t)}let eh=(()=>{class e{constructor(e,t,n,o,s,r){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=o,this._componentFactoryResolver=s,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new I(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new I(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Pa.assertNotInAngularZone(),Ma(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Pa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,o=e[e.length-1];return b(o)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof o&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof I?e[0]:x(t)(F(e,n))}(i,a.pipe(e=>{return Y()((t=$,function(e){let n;n="function"==typeof t?t:function(){return t};const o=Object.create(e,X);return o.source=e,o.subjectFactory=n,o})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof di?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const o=n.isBoundToModule?void 0:this._injector.get(Qi),s=n.create(ur.NULL,[],t||n.selector,o),r=s.location.nativeElement,i=s.injector.get(Ga,null),a=i&&s.injector.get(Ka);return i&&a&&a.registerApplication(r,i),s.onDestroy(()=>{this.detachView(s.hostView),th(this.components,s),a&&a.unregisterApplication(r)}),this._loadComponent(s),ja()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;th(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Na,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(no(Pa),no(ya),no(ur),no(po),no(Ai),no(Aa))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function th(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class nh{}class oh{}const sh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rh=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||sh}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,o]=e.split("#");return void 0===o&&(o="default"),n("zn8P")(t).then(e=>e[o]).then(e=>ih(e,t,o)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,o]=e.split("#"),s="NgFactory";return void 0===o&&(o="default",s=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[o+s]).then(e=>ih(e,t,o))}}return e.\u0275fac=function(t){return new(t||e)(no(ka),no(oh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function ih(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const ah=za(null,"core",[{provide:Ia,useValue:"unknown"},{provide:qa,deps:[ur]},{provide:Ka,deps:[]},{provide:ya,deps:[]}]),hh=[{provide:eh,useClass:eh,deps:[Pa,ya,ur,po,Ai,Aa]},{provide:ra,deps:[Pa],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Aa,useClass:Aa,deps:[[new Vn,ca]]},{provide:ka,useClass:ka,deps:[]},fa,{provide:Ui,useFactory:function(){return Ji},deps:[]},{provide:Li,useFactory:function(){return xi},deps:[]},{provide:Oa,useFactory:function(e){return ni(e=e||"undefined"!=typeof $localize&&$localize.locale||ei),e},deps:[[new Yn(Oa),new Vn,new Qn]]},{provide:wa,useValue:"USD"}];let lh=(()=>{class e{constructor(e){}}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)(no(eh))},providers:hh}),e})(),uh=null;function dh(){return uh}const ch=new _n("DocumentToken");let Ah=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({factory:ph,token:e,providedIn:"platform"}),e})();function ph(){return no(gh)}const fh=new _n("Location Initialized");let gh=(()=>{class e extends Ah{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=dh().getLocation(),this._history=dh().getHistory()}getBaseHrefFromDOM(){return dh().getBaseHref(this._doc)}onPopState(e){dh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){dh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){mh()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){mh()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({factory:Ih,token:e,providedIn:"platform"}),e})();function mh(){return!!window.history.pushState}function Ih(){return new gh(no(ch))}function Nh(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function yh(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Oh(e){return e&&"?"!==e[0]?"?"+e:e}let wh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({factory:Th,token:e,providedIn:"root"}),e})();function Th(e){const t=no(ch).location;return new bh(no(Ah),t&&t.origin||"")}const Eh=new _n("appBaseHref");let bh=(()=>{class e extends wh{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Nh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Oh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,o){const s=this.prepareExternalUrl(n+Oh(o));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,o){const s=this.prepareExternalUrl(n+Oh(o));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(no(Ah),no(Eh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Rh=(()=>{class e extends wh{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Nh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,o){let s=this.prepareExternalUrl(n+Oh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,o){let s=this.prepareExternalUrl(n+Oh(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(no(Ah),no(Eh,8))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Sh=(()=>{class e{constructor(e,t){this._subject=new da,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=yh(Dh(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Oh(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Dh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oh(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oh(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(no(wh),no(Ah))},e.normalizeQueryParams=Oh,e.joinWithSlash=Nh,e.stripTrailingSlash=yh,e.\u0275prov=ie({factory:vh,token:e,providedIn:"root"}),e})();function vh(){return new Sh(no(wh),no(Ah))}function Dh(e){return e.replace(/\/index.html$/,"")}var kh=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Ch{}let Mh=(()=>{class e extends Ch{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=qr(t);if(n)return n;const o=t.split("-")[0];if(n=qr(o),n)return n;if("en"===o)return zr;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Zr.PluralCase]}(t||this.locale)(e)){case kh.Zero:return"zero";case kh.One:return"one";case kh.Two:return"two";case kh.Few:return"few";case kh.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(no(Oa))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class Ph{constructor(e,t,n,o){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,o)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ph(null,this._ngForOf,-1,-1),null===o?void 0:o),s=new Lh(e,n);t.push(s)}else if(null==o)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,o);const r=new Lh(e,s);t.push(r)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,o=this._viewContainer.length;n<o;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=o,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Er($i),Er(Yi),Er(Ui))},e.\u0275dir=xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Lh{constructor(e,t){this.record=e,this.view=t}}let _h=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Bh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Wh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Wh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Er($i),Er(Yi))},e.\u0275dir=xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Bh{constructor(){this.$implicit=null,this.ngIf=null}}function Wh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ee(t)}'.`)}let Hh=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)},providers:[{provide:Ch,useClass:Mh}]}),e})(),Gh=(()=>{class e{}return e.\u0275prov=ie({token:e,providedIn:"root",factory:()=>new Kh(no(ch),window,no(po))}),e})();class Kh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],o-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Jh(this.window.history)||Jh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Jh(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class xh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new xh,uh||(uh=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Yh||(Yh=document.querySelector("base"),Yh)?Yh.getAttribute("href"):null;return null==t?null:(n=t,Fh||(Fh=document.createElement("a")),Fh.setAttribute("href",n),"/"===Fh.pathname.charAt(0)?Fh.pathname:"/"+Fh.pathname);var n}resetBaseElement(){Yh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[o,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(o.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Fh,Yh=null;const Vh=new _n("TRANSITION_ID"),jh=[{provide:ca,useFactory:function(e,t,n){return()=>{n.get(Aa).donePromise.then(()=>{const n=dh();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Vh,ch,ur],multi:!0}];class Qh{static init(){var e;e=new Qh,Fa=e}addToWindow(e){Re.getAngularTestability=(t,n=!0)=>{const o=e.findTestabilityInTree(t,n);if(null==o)throw new Error("Could not find testability for element.");return o},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(e=>{const t=Re.getAllAngularTestabilities();let n=t.length,o=!1;const s=function(t){o=o||t,n--,0==n&&e(o)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:n?dh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Xh=new _n("EventManagerPlugins");let zh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let o=0;o<n.length;o++){const t=n[o];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(no(Xh),no(Pa))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class $h{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const o=dh().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,n)}}let qh=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Zh=(()=>{class e extends qh{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>dh().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const el={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tl=/%COMP%/g;function nl(e,t,n){for(let o=0;o<t.length;o++){let s=t[o];Array.isArray(s)?nl(e,s,n):(s=s.replace(tl,e),n.push(s))}return n}function ol(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let sl=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rl(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Oe.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new il(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case Oe.ShadowDom:return new al(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=nl(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(no(zh),no(Zh),no(pa))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();class rl{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(el[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,o){if(o){t=o+":"+t;const s=el[o];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const o=el[n];o?e.removeAttributeNS(o,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,o){o&(Io.DashCase|Io.Important)?e.style.setProperty(t,n,o&Io.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Io.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ol(n)):this.eventManager.addEventListener(e,t,ol(n))}}class il extends rl{constructor(e,t,n,o){super(e),this.component=n;const s=nl(o+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(tl,o+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tl,o+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class al extends rl{constructor(e,t,n,o){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=nl(o.id,o.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let hl=(()=>{class e extends $h{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const ll=["alt","control","meta","shift"],ul={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cl={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Al=(()=>{class e extends $h{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,o){const s=e.parseEventName(n),r=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dh().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(n.pop());let r="";if(ll.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=s,0!=n.length||0===s.length)return null;const i={};return i.domEventName=o,i.fullKey=r,i}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&dl.hasOwnProperty(t)&&(t=dl[t]))}return ul[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ll.forEach(o=>{o!=n&&(0,cl[o])(e)&&(t+=o+".")}),t+=n,t}static eventCallback(t,n,o){return s=>{e.getEventFullKey(s)===t&&o.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(no(ch))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const pl=za(ah,"browser",[{provide:Ia,useValue:"browser"},{provide:ma,useValue:function(){xh.makeCurrent(),Qh.init()},multi:!0},{provide:ch,useFactory:function(){return function(e){dt=e}(document),document},deps:[]}]),fl=[[],{provide:zs,useValue:"root"},{provide:po,useFactory:function(){return new po},deps:[]},{provide:Xh,useClass:hl,multi:!0,deps:[ch,Pa,Ia]},{provide:Xh,useClass:Al,multi:!0,deps:[ch]},[],{provide:sl,useClass:sl,deps:[zh,Zh,pa]},{provide:Ii,useExisting:sl},{provide:qh,useExisting:Zh},{provide:Zh,useClass:Zh,deps:[ch]},{provide:Ga,useClass:Ga,deps:[Pa]},{provide:zh,useClass:zh,deps:[Xh,Pa]},[]];let gl=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:pa,useValue:t.appId},{provide:Vh,useExisting:pa},jh]}}}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)(no(e,12))},providers:fl,imports:[Hh,lh]}),e})();function ml(...e){let t=e[e.length-1];return b(t)?(e.pop(),L(e,t)):F(e)}"undefined"!=typeof window&&window;class Il extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new y;return this._value}next(e){super.next(this._value=e)}}class Nl extends p{notifyNext(e,t,n,o,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class yl extends p{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Ol(e,t,n,o,s=new yl(e,n,o)){if(!s.closed)return t instanceof I?t.subscribe(s):U(t)(s)}const wl={};class Tl{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new El(e,this.resultSelector))}}class El extends Nl{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(wl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Ol(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const o=this.values,s=this.toRespond?o[n]===wl?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const bl=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Rl=new I(e=>e.complete());function Sl(e){return e?function(e){return new I(t=>e.schedule(()=>t.complete()))}(e):Rl}function vl(e){return new I(t=>{let n;try{n=e()}catch(o){return void t.error(o)}return(n?_(n):Sl()).subscribe(t)})}function Dl(){return x(1)}function kl(e,t){return function(n){return n.lift(new Cl(e,t))}}class Cl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ml(e,this.predicate,this.thisArg))}}class Ml extends p{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const Pl=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Ul(e){return function(t){return 0===e?Sl():t.lift(new Ll(e))}}class Ll{constructor(e){if(this.total=e,this.total<0)throw new Pl}call(e,t){return t.subscribe(new _l(e,this.total))}}class _l extends p{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,o=this.count++;t.length<n?t.push(e):t[o%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,o=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(o[s])}}e.complete()}}function Bl(e=Gl){return t=>t.lift(new Wl(e))}class Wl{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Hl(e,this.errorFactory))}}class Hl extends p{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Gl(){return new bl}function Kl(e=null){return t=>t.lift(new Jl(e))}class Jl{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new xl(e,this.defaultValue))}}class xl extends p{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Fl(e,t){return"function"==typeof t?n=>n.pipe(Fl((n,o)=>_(e(n,o)).pipe(R((e,s)=>t(n,e,o,s))))):t=>t.lift(new Yl(e))}class Yl{constructor(e){this.project=e}call(e,t){return t.subscribe(new Vl(e,this.project))}}class Vl extends W{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new B(this),o=this.destination;o.add(n),this.innerSubscription=H(e,n),this.innerSubscription!==n&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}function jl(e){return t=>0===e?Sl():t.lift(new Ql(e))}class Ql{constructor(e){if(this.total=e,this.total<0)throw new Pl}call(e,t){return t.subscribe(new Xl(e,this.total))}}class Xl extends p{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function zl(...e){return Dl()(ml(...e))}class $l{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new ql(e,this.accumulator,this.seed,this.hasSeed))}}class ql extends p{constructor(e,t,n,o){super(e),this.accumulator=t,this._seed=n,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=n,this.destination.next(n)}}function Zl(e){return function(t){const n=new eu(e),o=t.lift(n);return n.caught=o}}class eu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new tu(e,this.selector,this.caught))}}class tu extends W{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const o=new B(this);this.add(o);const s=H(n,o);s!==o&&this.add(s)}}}function nu(e,t){return G(e,t,1)}function ou(e,t){const n=arguments.length>=2;return o=>o.pipe(e?kl((t,n)=>e(t,n,o)):m,jl(1),n?Kl(t):Bl(()=>new bl))}function su(){}function ru(e,t,n){return function(o){return o.lift(new iu(e,t,n))}}class iu{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new au(e,this.nextOrObserver,this.error,this.complete))}}class au extends p{constructor(e,t,n,s){super(e),this._tapNext=su,this._tapError=su,this._tapComplete=su,this._tapError=n||su,this._tapComplete=s||su,o(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||su,this._tapError=t.error||su,this._tapComplete=t.complete||su)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class hu{constructor(e){this.callback=e}call(e,t){return t.subscribe(new lu(e,this.callback))}}class lu extends p{constructor(e,t){super(e),this.add(new d(t))}}class uu{constructor(e,t){this.id=e,this.url=t}}class du extends uu{constructor(e,t,n="imperative",o=null){super(e,t),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cu extends uu{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Au extends uu{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pu extends uu{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mu extends uu{constructor(e,t,n,o,s){super(e,t),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Iu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nu extends uu{constructor(e,t,n,o){super(e,t),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ou{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Su="primary";class vu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Du(e){return new vu(e)}function ku(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Cu(e,t,n){const o=n.path.split("/");if(o.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||o.length<e.length))return null;const s={};for(let r=0;r<o.length;r++){const t=o[r],n=e[r];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,o.length),posParams:s}}function Mu(e,t){const n=Object.keys(e),o=Object.keys(t);if(!n||!o||n.length!=o.length)return!1;let s;for(let r=0;r<n.length;r++)if(s=n[r],!Pu(e[s],t[s]))return!1;return!0}function Pu(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),o=[...t].sort();return n.every((e,t)=>o[t]===e)}return e===t}function Uu(e){return Array.prototype.concat.apply([],e)}function Lu(e){return e.length>0?e[e.length-1]:null}function _u(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Bu(e){return Cr(e)?e:kr(e)?_(Promise.resolve(e)):ml(e)}function Wu(e,t,n){return n?function(e,t){return Mu(e,t)}(e.queryParams,t.queryParams)&&Hu(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Pu(e[n],t[n]))}(e.queryParams,t.queryParams)&&Gu(e.root,t.root)}function Hu(e,t){if(!Yu(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Hu(e.children[n],t.children[n]))return!1}return!0}function Gu(e,t){return Ku(e,t,t.segments)}function Ku(e,t,n){if(e.segments.length>n.length)return!!Yu(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!Yu(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Gu(e.children[n],t.children[n]))return!1}return!0}{const o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Yu(e.segments,o)&&!!e.children.primary&&Ku(e.children.primary,t,s)}}class Ju{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return Xu.serialize(this)}}class xu{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_u(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}}class Fu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Du(this.parameters)),this._parameterMap}toString(){return od(this)}}function Yu(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Vu(e,t){let n=[];return _u(e.children,(e,o)=>{o===Su&&(n=n.concat(t(e,o)))}),_u(e.children,(e,o)=>{o!==Su&&(n=n.concat(t(e,o)))}),n}class ju{}class Qu{parse(e){const t=new hd(e);return new Ju(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+$u(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Zu(t)}=${Zu(e)}`).join("&"):`${Zu(t)}=${Zu(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Xu=new Qu;function zu(e){return e.segments.map(e=>od(e)).join("/")}function $u(e,t){if(!e.hasChildren())return zu(e);if(t){const t=e.children.primary?$u(e.children.primary,!1):"",n=[];return _u(e.children,(e,t)=>{t!==Su&&n.push(`${t}:${$u(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=Vu(e,(t,n)=>n===Su?[$u(e.children.primary,!1)]:[`${n}:${$u(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${zu(e)}/${t[0]}`:`${zu(e)}/(${t.join("//")})`}}function qu(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(e){return qu(e).replace(/%3B/gi,";")}function ed(e){return qu(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(e){return decodeURIComponent(e)}function nd(e){return td(e.replace(/\+/g,"%20"))}function od(e){return`${ed(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${ed(e)}=${ed(t[e])}`).join("")}`;var t}const sd=/^[^\/()?;=#]+/;function rd(e){const t=e.match(sd);return t?t[0]:""}const id=/^[^=?&#]+/,ad=/^[^?&#]+/;class hd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xu([],{}):new xu([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new xu(e,t)),n}parseSegment(){const e=rd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Fu(td(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=rd(this.remaining);e&&(n=e,this.capture(n))}e[td(t)]=td(n)}parseQueryParam(e){const t=function(e){const t=e.match(id);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(ad);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const o=nd(t),s=nd(n);if(e.hasOwnProperty(o)){let t=e[o];Array.isArray(t)||(t=[t],e[o]=t),t.push(s)}else e[o]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=rd(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Su);const r=this.parseChildren();t[s]=1===Object.keys(r).length?r.primary:new xu([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ld{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ud(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ud(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=dd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return dd(e,this._root).map(e=>e.value)}}function ud(e,t){if(e===t.value)return t;for(const n of t.children){const t=ud(e,n);if(t)return t}return null}function dd(e,t){if(e===t.value)return[t];for(const n of t.children){const o=dd(e,n);if(o.length)return o.unshift(t),o}return[]}class cd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ad(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class pd extends ld{constructor(e,t){super(e),this.snapshot=t,yd(this,e)}toString(){return this.snapshot.toString()}}function fd(e,t){const n=function(e,t){const n=new Id([],{},{},"",{},Su,t,null,e.root,-1,{});return new Nd("",new cd(n,[]))}(e,t),o=new Il([new Fu("",{})]),s=new Il({}),r=new Il({}),i=new Il({}),a=new Il(""),h=new gd(o,s,i,a,r,Su,t,n.root);return h.snapshot=n.root,new pd(new cd(h,[]),n)}class gd{constructor(e,t,n,o,s,r,i,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=s,this.outlet=r,this.component=i,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(e=>Du(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(e=>Du(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function md(e,t="emptyOnly"){const n=e.pathFromRoot;let o=0;if("always"!==t)for(o=n.length-1;o>=1;){const e=n[o],t=n[o-1];if(e.routeConfig&&""===e.routeConfig.path)o--;else{if(t.component)break;o--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(o))}class Id{constructor(e,t,n,o,s,r,i,a,h,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=s,this.outlet=r,this.component=i,this.routeConfig=a,this._urlSegment=h,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nd extends ld{constructor(e,t){super(t),this.url=e,yd(this,t)}toString(){return Od(this._root)}}function yd(e,t){t.value._routerState=e,t.children.forEach(t=>yd(e,t))}function Od(e){const t=e.children.length>0?` { ${e.children.map(Od).join(", ")} } `:"";return`${e.value}${t}`}function wd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Mu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Mu(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Mu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Mu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Td(e,t){var n,o;return Mu(e.params,t.params)&&Yu(n=e.url,o=t.url)&&n.every((e,t)=>Mu(e.parameters,o[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Td(e.parent,t.parent))}function Ed(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=t.value;const s=function(e,t,n){return t.children.map(t=>{for(const o of n.children)if(e.shouldReuseRoute(t.value,o.value.snapshot))return Ed(e,t,o);return Ed(e,t)})}(e,t,n);return new cd(o,s)}{const n=e.retrieve(t.value);if(n){const e=n.route;return bd(t,e),e}{const n=new gd(new Il((o=t.value).url),new Il(o.params),new Il(o.queryParams),new Il(o.fragment),new Il(o.data),o.outlet,o.component,o),s=t.children.map(t=>Ed(e,t));return new cd(n,s)}}var o}function bd(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)bd(e.children[n],t.children[n])}function Rd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Sd(e){return"object"==typeof e&&null!=e&&e.outlets}function vd(e,t,n,o,s){let r={};return o&&_u(o,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Ju(n.root===e?t:Dd(n.root,e,t),r,s)}function Dd(e,t,n){const o={};return _u(e.children,(e,s)=>{o[s]=e===t?n:Dd(e,t,n)}),new xu(e.segments,o)}class kd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Rd(n[0]))throw new Error("Root segment cannot have matrix parameters");const o=n.find(Sd);if(o&&o!==Lu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Md(e,t,n){if(e||(e=new xu([],{})),0===e.segments.length&&e.hasChildren())return Pd(e,t,n);const o=function(e,t,n){let o=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(o>=n.length)return r;const t=e.segments[s],i=n[o];if(Sd(i))break;const a=""+i,h=o<n.length-1?n[o+1]:null;if(s>0&&void 0===a)break;if(a&&h&&"object"==typeof h&&void 0===h.outlets){if(!Bd(a,h,t))return r;o+=2}else{if(!Bd(a,{},t))return r;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(e,t,n),s=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const t=new xu(e.segments.slice(0,o.pathIndex),{});return t.children.primary=new xu(e.segments.slice(o.pathIndex),e.children),Pd(t,0,s)}return o.match&&0===s.length?new xu(e.segments,{}):o.match&&!e.hasChildren()?Ud(e,t,n):o.match?Pd(e,0,s):Ud(e,t,n)}function Pd(e,t,n){if(0===n.length)return new xu(e.segments,{});{const o=function(e){return Sd(e[0])?e[0].outlets:{[Su]:e}}(n),s={};return _u(o,(n,o)=>{"string"==typeof n&&(n=[n]),null!==n&&(s[o]=Md(e.children[o],t,n))}),_u(e.children,(e,t)=>{void 0===o[t]&&(s[t]=e)}),new xu(e.segments,s)}}function Ud(e,t,n){const o=e.segments.slice(0,t);let s=0;for(;s<n.length;){const r=n[s];if(Sd(r)){const e=Ld(r.outlets);return new xu(o,e)}if(0===s&&Rd(n[0])){o.push(new Fu(e.segments[t].path,n[0])),s++;continue}const i=Sd(r)?r.outlets.primary:""+r,a=s<n.length-1?n[s+1]:null;i&&a&&Rd(a)?(o.push(new Fu(i,_d(a))),s+=2):(o.push(new Fu(i,{})),s++)}return new xu(o,{})}function Ld(e){const t={};return _u(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ud(new xu([],{}),0,e))}),t}function _d(e){const t={};return _u(e,(e,n)=>t[n]=""+e),t}function Bd(e,t,n){return e==n.path&&Mu(t,n.parameters)}class Wd{constructor(e,t,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=o}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),wd(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const o=Ad(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,o[t],n),delete o[t]}),_u(o,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const o=e.value,s=t?t.value:null;if(o===s)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const o=Ad(e),s=e.value.component?n.children:t;_u(o,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const o=Ad(t);e.children.forEach(e=>{this.activateRoutes(e,o[e.value.outlet],n),this.forwardEvent(new bu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Tu(e.value.snapshot))}activateRoutes(e,t,n){const o=e.value,s=t?t.value:null;if(wd(o),o===s)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(o.component){const t=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const e=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Hd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=o,t.resolver=s,t.outlet&&t.outlet.activateWith(o,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Hd(e){wd(e.value),e.children.forEach(Hd)}class Gd{constructor(e,t){this.routes=e,this.module=t}}function Kd(e){return"function"==typeof e}function Jd(e){return e instanceof Ju}const xd=Symbol("INITIAL_VALUE");function Fd(){return Fl(e=>function(...e){let t=void 0,n=void 0;return b(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&h(e[0])&&(e=e[0]),F(e,n).lift(new Tl(t))}(...e.map(e=>e.pipe(jl(1),function(...e){const t=e[e.length-1];return b(t)?(e.pop(),n=>zl(e,n,t)):t=>zl(e,t)}(xd)))).pipe(function(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new $l(e,t,n))}}((e,t)=>{let n=!1;return t.reduce((e,o,s)=>{if(e!==xd)return e;if(o===xd&&(n=!0),!n){if(!1===o)return o;if(s===t.length-1||Jd(o))return o}return e},e)},xd),kl(e=>e!==xd),R(e=>Jd(e)?e:!0===e),jl(1)))}let Yd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Dr(0,"router-outlet")},directives:function(){return[Bc]},encapsulation:2}),e})();function Vd(e,t=""){for(let n=0;n<e.length;n++){const o=e[n];jd(o,Qd(t,o))}}function jd(e,t){e.children&&Vd(e.children,t)}function Qd(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Xd(e){const t=e.children&&e.children.map(Xd),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Su&&(n.component=Yd),n}function zd(e){return e.outlet||Su}class $d{constructor(e){this.segmentGroup=e||null}}class qd{constructor(e){this.urlTree=e}}function Zd(e){return new I(t=>t.error(new $d(e)))}function ec(e){return new I(t=>t.error(new qd(e)))}function tc(e){return new I(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class nc{constructor(e,t,n,o,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Qi)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Su).pipe(R(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zl(e=>{if(e instanceof qd)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof $d)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Su).pipe(R(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Zl(e=>{if(e instanceof $d)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const o=e.segments.length>0?new xu([],{[Su]:e}):e;return new Ju(o,t,n)}expandSegmentGroup(e,t,n,o){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(R(e=>new xu([],e))):this.expandSegment(e,n,t,n.segments,o,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return ml({});const n=[],o=[],s={};return _u(e,(e,r)=>{const i=t(r,e).pipe(R(e=>s[r]=e));r===Su?n.push(i):o.push(i)}),ml.apply(null,n.concat(o)).pipe(Dl(),function(e,t){const n=arguments.length>=2;return o=>o.pipe(e?kl((t,n)=>e(t,n,o)):m,Ul(1),n?Kl(t):Bl(()=>new bl))}(),R(()=>s))}(n.children,(n,o)=>this.expandSegmentGroup(e,t,o,n))}expandSegment(e,t,n,o,s,r){const i=function(e){return e.reduce((e,t)=>{const n=zd(t);return e.has(n)?e.get(n).push(t):e.set(n,[t]),e},new Map)}(n);i.has(s)||i.set(s,[]);const a=n=>_(n).pipe(nu(i=>this.expandSegmentAgainstRoute(e,t,n,i,o,s,r).pipe(Zl(e=>{if(e instanceof $d)return ml(null);throw e}))),ou(e=>null!==e),Zl(e=>{if(e instanceof bl||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,o,s))return ml(new xu([],{}));throw new $d(t)}throw e}));return _(Array.from(i.entries()).map(([e,t])=>{const n=a(t);return e===s?n:n.pipe(R(()=>null),Zl(()=>ml(null)))})).pipe(e=>e.lift(new Tl(void 0)),ou(),R(e=>e.find(e=>null!==e)))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,o,s,r,i){return zd(o)!==r&&""!==o.path?Zd(t):void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,s):i&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,o,s,r):Zd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,o,s,r){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,o,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,o,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,o){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ec(s):this.lineralizeSegments(n,s).pipe(G(n=>{const s=new xu(n,{});return this.expandSegment(e,s,t,n,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,o,s,r){const{matched:i,consumedSegments:a,lastChild:h,positionalParamSegments:l}=oc(t,o,s);if(!i)return Zd(t);const u=this.applyRedirectCommands(a,o.redirectTo,l);return o.redirectTo.startsWith("/")?ec(u):this.lineralizeSegments(o,u).pipe(G(o=>this.expandSegment(e,t,n,o.concat(s.slice(h)),r,!1)))}matchSegmentAgainstRoute(e,t,n,o){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(R(e=>(n._loadedConfig=e,new xu(o,{})))):ml(new xu(o,{}));const{matched:s,consumedSegments:r,lastChild:i}=oc(t,n,o);if(!s)return Zd(t);const a=o.slice(i);return this.getChildConfig(e,n,o).pipe(G(e=>{const n=e.module,o=e.routes,{segmentGroup:s,slicedSegments:i}=function(e,t,n,o){return n.length>0&&function(e,t,n){return n.some(n=>rc(e,t,n)&&zd(n)!==Su)}(e,n,o)?{segmentGroup:sc(new xu(t,function(e,t){const n={};n.primary=t;for(const o of e)""===o.path&&zd(o)!==Su&&(n[zd(o)]=new xu([],{}));return n}(o,new xu(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>rc(e,t,n))}(e,n,o)?{segmentGroup:sc(new xu(e.segments,function(e,t,n,o){const s={};for(const r of n)rc(e,t,r)&&!o[zd(r)]&&(s[zd(r)]=new xu([],{}));return Object.assign(Object.assign({},o),s)}(e,n,o,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,r,a,o);return 0===i.length&&s.hasChildren()?this.expandChildren(n,o,s).pipe(R(e=>new xu(r,e))):0===o.length&&0===i.length?ml(new xu(r,{})):this.expandSegment(n,s,o,i,Su,!0).pipe(R(e=>new xu(r.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?ml(new Gd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ml(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(G(n=>n?this.configLoader.load(e.injector,t).pipe(R(e=>(t._loadedConfig=e,e))):function(e){return new I(t=>t.error(ku(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):ml(new Gd([],e))}runCanLoadGuards(e,t,n){const o=t.canLoad;return o&&0!==o.length?ml(o.map(o=>{const s=e.get(o);let r;if(function(e){return e&&Kd(e.canLoad)}(s))r=s.canLoad(t,n);else{if(!Kd(s))throw new Error("Invalid CanLoad guard");r=s(t,n)}return Bu(r)})).pipe(Fd(),ru(e=>{if(!Jd(e))return;const t=ku(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),R(e=>!0===e)):ml(!0)}lineralizeSegments(e,t){let n=[],o=t.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return ml(n);if(o.numberOfChildren>1||!o.children.primary)return tc(e.redirectTo);o=o.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,o){const s=this.createSegmentGroup(e,t.root,n,o);return new Ju(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return _u(e,(e,o)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[o]=t[s]}else n[o]=e}),n}createSegmentGroup(e,t,n,o){const s=this.createSegments(e,t.segments,n,o);let r={};return _u(t.children,(t,s)=>{r[s]=this.createSegmentGroup(e,t,n,o)}),new xu(s,r)}createSegments(e,t,n,o){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,o):this.findOrReturn(t,n))}findPosParam(e,t,n){const o=n[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let n=0;for(const o of t){if(o.path===e.path)return t.splice(n),o;n++}return e}}function oc(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const o=(t.matcher||Cu)(n,e,t);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function sc(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new xu(e.segments.concat(t.segments),t.children)}return e}function rc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class ic{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ac{constructor(e,t){this.component=e,this.route=t}}function hc(e,t,n){const o=e._root;return uc(o,t?t._root:null,n,[o.value])}function lc(e,t,n){const o=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:n).get(e)}function uc(e,t,n,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Ad(t);return e.children.forEach(e=>{!function(e,t,n,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&r.routeConfig===i.routeConfig){const h=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Yu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Yu(e.url,t.url)||!Mu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Td(e,t)||!Mu(e.queryParams,t.queryParams);case"paramsChange":default:return!Td(e,t)}}(i,r,r.routeConfig.runGuardsAndResolvers);h?s.canActivateChecks.push(new ic(o)):(r.data=i.data,r._resolvedData=i._resolvedData),uc(e,t,r.component?a?a.children:null:n,o,s),h&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new ac(a.outlet.component,i))}else i&&dc(t,a,s),s.canActivateChecks.push(new ic(o)),uc(e,null,r.component?a?a.children:null:n,o,s)}(e,r[e.value.outlet],n,o.concat([e.value]),s),delete r[e.value.outlet]}),_u(r,(e,t)=>dc(e,n.getContext(t),s)),s}function dc(e,t,n){const o=Ad(e),s=e.value;_u(o,(e,o)=>{dc(e,s.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new ac(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function cc(e,t){return null!==e&&t&&t(new Eu(e)),ml(!0)}function Ac(e,t){return null!==e&&t&&t(new wu(e)),ml(!0)}function pc(e,t,n){const o=t.routeConfig?t.routeConfig.canActivate:null;return o&&0!==o.length?ml(o.map(o=>vl(()=>{const s=lc(o,t,n);let r;if(function(e){return e&&Kd(e.canActivate)}(s))r=Bu(s.canActivate(t,e));else{if(!Kd(s))throw new Error("Invalid CanActivate guard");r=Bu(s(t,e))}return r.pipe(ou())}))).pipe(Fd()):ml(!0)}function fc(e,t,n){const o=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>vl(()=>ml(t.guards.map(s=>{const r=lc(s,t.node,n);let i;if(function(e){return e&&Kd(e.canActivateChild)}(r))i=Bu(r.canActivateChild(o,e));else{if(!Kd(r))throw new Error("Invalid CanActivateChild guard");i=Bu(r(o,e))}return i.pipe(ou())})).pipe(Fd())));return ml(s).pipe(Fd())}class gc{}class mc{constructor(e,t,n,o,s,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){try{const e=yc(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Su),n=new Id([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Su,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new cd(n,t),s=new Nd(this.url,o);return this.inheritParamsAndData(s._root),ml(s)}catch(e){return new I(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=md(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Vu(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),o=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${o}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===Su?-1:t.value.outlet===Su?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,o){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,n,o)}catch(s){if(!(s instanceof gc))throw s}if(this.noLeftoversInUrl(t,n,o))return[];throw new gc}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,o){if(e.redirectTo)throw new gc;if((e.outlet||Su)!==o)throw new gc;let s,r=[],i=[];if("**"===e.path){const r=n.length>0?Lu(n).parameters:{};s=new Id(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wc(e),o,e.component,e,Ic(t),Nc(t)+n.length,Tc(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new gc;return{consumedSegments:[],lastChild:0,parameters:{}}}const o=(t.matcher||Cu)(n,e,t);if(!o)throw new gc;const s={};_u(o.posParams,(e,t)=>{s[t]=e.path});const r=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:r}}(t,e,n);r=a.consumedSegments,i=n.slice(a.lastChild),s=new Id(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wc(e),o,e.component,e,Ic(t),Nc(t)+r.length,Tc(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:h,slicedSegments:l}=yc(t,r,i,a,this.relativeLinkResolution);if(0===l.length&&h.hasChildren()){const e=this.processChildren(a,h);return[new cd(s,e)]}if(0===a.length&&0===l.length)return[new cd(s,[])];const u=this.processSegment(a,h,l,Su);return[new cd(s,u)]}}function Ic(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Nc(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function yc(e,t,n,o,s){if(n.length>0&&function(e,t,n){return n.some(n=>Oc(e,t,n)&&zd(n)!==Su)}(e,n,o)){const s=new xu(t,function(e,t,n,o){const s={};s.primary=o,o._sourceSegment=e,o._segmentIndexShift=t.length;for(const r of n)if(""===r.path&&zd(r)!==Su){const n=new xu([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[zd(r)]=n}return s}(e,t,o,new xu(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Oc(e,t,n))}(e,n,o)){const r=new xu(e.segments,function(e,t,n,o,s,r){const i={};for(const a of o)if(Oc(e,n,a)&&!s[zd(a)]){const n=new xu([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===r?e.segments.length:t.length,i[zd(a)]=n}return Object.assign(Object.assign({},s),i)}(e,t,n,o,e.children,s));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}const r=new xu(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Oc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function wc(e){return e.data||{}}function Tc(e){return e.resolve||{}}function Ec(e){return function(t){return t.pipe(Fl(t=>{const n=e(t);return n?_(n).pipe(R(()=>t)):_([t])}))}}class bc extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Rc=new _n("ROUTES");class Sc{constructor(e,t,n,o){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=o}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(R(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=n.create(e);return new Gd(Uu(o.injector.get(Rc)).map(Xd),o)}))}loadModuleFactory(e){return"string"==typeof e?_(this.loader.load(e)):Bu(e()).pipe(G(e=>e instanceof Xi?ml(e):_(this.compiler.compileModuleAsync(e))))}}class vc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dc,this.attachRef=null}}class Dc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new vc,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class kc{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Cc(e){throw e}function Mc(e,t,n){return t.parse("/")}function Pc(e,t){return ml(null)}let Uc=(()=>{class e{constructor(e,t,n,o,s,r,i,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=o,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Cc,this.malformedUriErrorHandler=Mc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pc,afterPreactivation:Pc},this.urlHandlingStrategy=new kc,this.routeReuseStrategy=new bc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(Qi),this.console=s.get(ya);const h=s.get(Pa);this.isNgZoneEnabled=h instanceof Pa,this.resetConfig(a),this.currentUrlTree=new Ju(new xu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sc(r,i,e=>this.triggerEvent(new yu(e)),e=>this.triggerEvent(new Ou(e))),this.routerState=fd(this.currentUrlTree,this.rootComponentType),this.transitions=new Il({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(kl(e=>0!==e.id),R(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Fl(e=>{let n=!1,o=!1;return ml(e).pipe(ru(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fl(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ml(e).pipe(Fl(e=>{const n=this.transitions.getValue();return t.next(new du(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Rl:[e]}),Fl(e=>Promise.resolve(e)),(o=this.ngModule.injector,s=this.configLoader,r=this.urlSerializer,i=this.config,function(e){return e.pipe(Fl(e=>function(e,t,n,o,s){return new nc(e,t,n,o,s).apply()}(o,s,r,e.extractedUrl,i).pipe(R(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),ru(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,o,s){return function(r){return r.pipe(G(r=>function(e,t,n,o,s="emptyOnly",r="legacy"){return new mc(e,t,n,o,s,r).recognize()}(e,t,r.urlAfterRedirects,n(r.urlAfterRedirects),o,s).pipe(R(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),ru(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),ru(e=>{const n=new fu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var o,s,r,i;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:o,source:s,restoredState:r,extras:i}=e,a=new du(n,this.serializeUrl(o),s,r);t.next(a);const h=fd(o,this.rootComponentType).snapshot;return ml(Object.assign(Object.assign({},e),{targetSnapshot:h,urlAfterRedirects:o,extras:Object.assign(Object.assign({},i),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Rl}),Ec(e=>{const{targetSnapshot:t,id:n,extractedUrl:o,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:i}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:o,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!i})}),ru(e=>{const t=new gu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),R(e=>Object.assign(Object.assign({},e),{guards:hc(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(G(n=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:i}}=n;return 0===i.length&&0===r.length?ml(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,o){return _(e).pipe(G(e=>function(e,t,n,o,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?ml(r.map(r=>{const i=lc(r,t,s);let a;if(function(e){return e&&Kd(e.canDeactivate)}(i))a=Bu(i.canDeactivate(e,t,n,o));else{if(!Kd(i))throw new Error("Invalid CanDeactivate guard");a=Bu(i(e,t,n,o))}return a.pipe(ou())})).pipe(Fd()):ml(!0)}(e.component,e.route,n,t,o)),ou(e=>!0!==e,!0))}(i,o,s,e).pipe(G(n=>n&&"boolean"==typeof n?function(e,t,n,o){return _(t).pipe(nu(t=>_([Ac(t.route.parent,o),cc(t.route,o),fc(e,t.path,n),pc(e,t.route,n)]).pipe(Dl(),ou(e=>!0!==e,!0))),ou(e=>!0!==e,!0))}(o,r,e,t):ml(n)),R(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),ru(e=>{if(Jd(e.guardsResult)){const t=ku(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),ru(e=>{const t=new mu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),kl(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Au(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Ec(e=>{if(e.guards.canActivateChecks.length)return ml(e).pipe(ru(e=>{const t=new Iu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Fl(e=>{let n=!1;return ml(e).pipe((o=this.paramsInheritanceStrategy,s=this.ngModule.injector,function(e){return e.pipe(G(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return ml(e);let r=0;return _(n).pipe(nu(e=>function(e,t,n,o){return function(e,t,n,o){const s=Object.keys(e);if(0===s.length)return ml({});const r={};return _(s).pipe(G(s=>function(e,t,n,o){const s=lc(e,t,o);return Bu(s.resolve?s.resolve(t,n):s(t,n))}(e[s],t,n,o).pipe(ru(e=>{r[s]=e}))),Ul(1),G(()=>Object.keys(r).length===s.length?ml(r):Rl))}(e._resolve,e,t,o).pipe(R(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),md(e,n).resolve),null)))}(e.route,t,o,s)),ru(()=>r++),Ul(1),G(t=>r===n.length?ml(e):Rl))}))}),ru({next:()=>n=!0,complete:()=>{if(!n){const n=new Au(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var o,s}),ru(e=>{const t=new Nu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Ec(e=>{const{targetSnapshot:t,id:n,extractedUrl:o,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:i}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:o,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!i})}),R(e=>{const t=function(e,t,n){const o=Ed(e,t._root,n?n._root:void 0);return new pd(o,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),ru(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,i=this.routeReuseStrategy,a=e=>this.triggerEvent(e),R(e=>(new Wd(i,e.targetRouterState,e.currentRouterState,a).activate(r),e))),ru({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!o){this.resetUrlToCurrentUrlTree();const n=new Au(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new hu(s))),Zl(n=>{if(o=!0,(s=n)&&s.ngNavigationCancelingError){const o=Jd(n.url);o||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new Au(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),o?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const o=new pu(e.id,this.serializeUrl(e.extractedUrl),n);t.next(o);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}var s;return Rl}));var s,r,i,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:o}=t,s={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(s.state=e)}this.scheduleNavigation(o,e,n,s)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Vd(e),this.config=e.map(Xd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:o,fragment:s,queryParamsHandling:r,preserveFragment:i}=t,a=n||this.routerState.root,h=i?this.currentUrlTree.fragment:s;let l=null;switch(r){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,o,s){if(0===n.length)return vd(t.root,t.root,t,o,s);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new kd(!0,0,e);let t=0,n=!1;const o=e.reduce((e,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const t={};return _u(o.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(o.segmentPath)return[...e,o.segmentPath]}return"string"!=typeof o?[...e,o]:0===s?(o.split("/").forEach((o,s)=>{0==s&&"."===o||(0==s&&""===o?n=!0:".."===o?t++:""!=o&&e.push(o))}),e):[...e,o]},[]);return new kd(n,t,o)}(n);if(r.toRoot())return vd(t.root,new xu([],{}),t,o,s);const i=function(e,t,n){if(e.isAbsolute)return new Cd(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Cd(e,e===t.root,0)}const o=Rd(e.commands[0])?0:1;return function(e,t,n){let o=e,s=t,r=n;for(;r>s;){if(r-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new Cd(o,!1,s-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+o,e.numberOfDoubleDots)}(r,t,e),a=i.processChildren?Pd(i.segmentGroup,i.index,r.commands):Md(i.segmentGroup,i.index,r.commands);return vd(i.segmentGroup,a,t,o,s)}(a,this.currentUrlTree,e,l,h)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Jd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Jd(e))return Wu(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Wu(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const o=e[n];return null!=o&&(t[n]=o),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new cu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,o,s){const r=this.getTransition(),i="imperative"!==t&&"imperative"===(null==r?void 0:r.source),a=(this.lastSuccessfulId===r.id||this.currentNavigation?r.rawUrl:r.urlAfterRedirects).toString()===e.toString();if(i&&a)return Promise.resolve(!0);let h,l,u;s?(h=s.resolve,l=s.reject,u=s.promise):u=new Promise((e,t)=>{h=e,l=t});const d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,o){const s=this.urlSerializer.serialize(e);o=o||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign(Object.assign({},o),{navigationId:n})):this.location.go(s,"",Object.assign(Object.assign({},o),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(no(Wn),no(ju),no(Dc),no(Sh),no(ur),no(nh),no(ka),no(void 0))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Lc=(()=>{class e{constructor(e,t,n,o,s){this.router=e,this.route=t,this.commands=[],this.onChanges=new T,null==n&&o.setAttribute(s.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:_c(this.skipLocationChange),replaceUrl:_c(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_c(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Er(Uc),Er(gd),Pn("tabindex"),Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Mr("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[it]}),e})();function _c(e){return""===e||!!e}let Bc=(()=>{class e{constructor(e,t,n,o,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new da,this.deactivateEvents=new da,this.name=o||Su,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,s=new Wc(e,o,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Er(Dc),Er($i),Er(Ai),Pn("name"),Er(Gi))},e.\u0275dir=xe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Wc{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===gd?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}class Hc{}class Gc{preload(e,t){return ml(null)}}let Kc=(()=>{class e{constructor(e,t,n,o,s){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=new Sc(t,n,t=>e.triggerEvent(new yu(t)),t=>e.triggerEvent(new Ou(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(kl(e=>e instanceof cu),nu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Qi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const o of t)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const e=o._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else o.loadChildren&&!o.canLoad?n.push(this.preloadConfig(e,o)):o.children&&n.push(this.processRoutes(e,o.children));return _(n).pipe(x(),R(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(G(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(no(Uc),no(nh),no(ka),no(ur),no(Hc))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),Jc=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof du?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cu&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ru&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Ru(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(no(Uc),no(Gh),no(void 0))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();const xc=new _n("ROUTER_CONFIGURATION"),Fc=new _n("ROUTER_FORROOT_GUARD"),Yc=[Sh,{provide:ju,useClass:Qu},{provide:Uc,useFactory:function(e,t,n,o,s,r,i,a={},h,l){const u=new Uc(null,e,t,n,o,s,r,Uu(i));if(h&&(u.urlHandlingStrategy=h),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing){const e=dh();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u},deps:[ju,Dc,Sh,ur,nh,ka,Rc,xc,[class{},new Vn],[class{},new Vn]]},Dc,{provide:gd,useFactory:function(e){return e.routerState.root},deps:[Uc]},{provide:nh,useClass:rh},Kc,Gc,class{preload(e,t){return t().pipe(Zl(()=>ml(null)))}},{provide:xc,useValue:{enableTracing:!1}}];function Vc(){return new Xa("Router",Uc)}let jc=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Yc,$c(t),{provide:Fc,useFactory:zc,deps:[[Uc,new Vn,new Qn]]},{provide:xc,useValue:n||{}},{provide:wh,useFactory:Xc,deps:[Ah,[new Yn(Eh),new Vn],xc]},{provide:Jc,useFactory:Qc,deps:[Uc,Gh,xc]},{provide:Hc,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Gc},{provide:Xa,multi:!0,useFactory:Vc},[qc,{provide:ca,multi:!0,useFactory:Zc,deps:[qc]},{provide:tA,useFactory:eA,deps:[qc]},{provide:Na,multi:!0,useExisting:tA}]]}}static forChild(t){return{ngModule:e,providers:[$c(t)]}}}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)(no(Fc,8),no(Uc,8))}}),e})();function Qc(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Jc(e,t,n)}function Xc(e,t,n={}){return n.useHash?new Rh(e,t):new bh(e,t)}function zc(e){return"guarded"}function $c(e){return[{provide:Bn,multi:!0,useValue:e},{provide:Rc,multi:!0,useValue:e}]}let qc=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(fh,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Uc),o=this.injector.get(xc);return"disabled"===o.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?ml(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(xc),n=this.injector.get(Kc),o=this.injector.get(Jc),s=this.injector.get(Uc),r=this.injector.get(eh);e===r.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),o.init(),s.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(no(ur))},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})();function Zc(e){return e.appInitializer.bind(e)}function eA(e){return e.bootstrapListener.bind(e)}const tA=new _n("Router Initializer");let nA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&Dr(0,"router-outlet")},directives:[Bc],styles:[""]}),e})();var oA=function(e){return e.phantom="phantom",e.attack="attack",e.revenge="revenge",e.hope="hope",e.empire="empire",e.return="return",e.awakens="awakens",e.last="last",e.skywalker="skywalker",e.rogue="rogue",e.solo="solo",e}({}),sA=function(e){return e.CORRECT="CORRECT",e.INCORRECT="INCORRECT",e.SKIP="SKIP",e}({});const rA=function(e){return["/trivia",e]};function iA(e,t){if(1&e&&(Sr(0,"div",1),Sr(1,"div"),Yr(2),vr(),Dr(3,"img",2),vr()),2&e){const e=t.$implicit;br("routerLink",(n=3,o=rA,s=e.code,function(e,t,n,o,s,r){const i=t+n;return Or(e,i,s)?function(e,t,n){return e[t]=n}(e,i+1,r?o.call(r,s):o(s)):function(e,t){const n=e[t];return n===Zo?void 0:n}(e,i+1)}(Rt(),function(){const e=Et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),n,o,s,r))),es(2),jr(" ",e.title," "),es(1),_r("src","assets/images/posters/",e.poster,"",lo)}var n,o,s,r}let aA=(()=>{class e{constructor(){this.movies=[{code:oA.phantom,title:"Phantom Menace",poster:"phantom_menace.jpg"},{code:oA.attack,title:"Attack of the Clones",poster:"attack_of_the_clones.jpg"},{code:oA.revenge,title:"Revenge of the Sith",poster:"revenge.jpg"},{code:oA.hope,title:"A New Hope",poster:"anh.jpg"},{code:oA.empire,title:"The Empire Strikes Back",poster:"empire.jpg"},{code:oA.return,title:"Return of the Jedi",poster:"return.jpg"},{code:oA.awakens,title:"The Force Awakens",poster:"force_awakens.jpg"},{code:oA.last,title:"The Last Jedi",poster:"last_jedi.jpg"},{code:oA.skywalker,title:"The Rise of Skywalker",poster:"rise_of_skywalker.jpg"},{code:oA.rogue,title:"Rogue One",poster:"rogue.jpg"},{code:oA.solo,title:"Solo",poster:"solo.jpg"}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-landing"]],decls:1,vars:1,consts:[["class","movie-option center",3,"routerLink",4,"ngFor","ngForOf"],[1,"movie-option","center",3,"routerLink"],[1,"movie-poster",3,"src"]],template:function(e,t){1&e&&Tr(0,iA,4,5,"div",0),2&e&&br("ngForOf",t.movies)},directives:[Uh,Lc],styles:[".movie-option[_ngcontent-%COMP%]{display:inline-block;width:300px}.movie-poster[_ngcontent-%COMP%]{width:80%}"]}),e})(),hA=(()=>{class e{constructor(){this.scripts={[oA.phantom]:["QUI-GON: (off screen voice) Captain.","The Captain turns to an unseen figure sitting behind her.","CAPTAIN: Yes, sir?","QUI-GON: (V.O) Tell them we wish to board at once.","The CAPTAIN looks to her view screen, where NUTE GUNRAY, a Neimoidian trade viceroy, waits for a reply.","CAPTAIN: With all due respect, the Ambassadors for the Supreme Chancellor wish to board immediately.","NUTE: Yes, yes, of course... as you know, our blockade is perfectly legal, and we'd be happy to receive the Ambassador.","The screen goes black. Out the cockpit window, the sinister battleship looms ever closer.","EXT FEDERATION BATTLESHIP - DOCKING BAY - SPACE (FX)","The small space cruiser docks in the enormous main bay of the Federation battleship.","INT FEDERATION BATTLESHIP - DOCKING BAY - SPACE","A PROTOCOL DROID, TC-14, waits at the door to the docking bay.","The door opens, and the Republic cruiser can be seen in the docking bay. Two darkly robed figures are greeted by TC-14.","TC-14: I'm TC-14 at your service. This way, please.","They move off down the hallway.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","A door slides open, and the two cloaked shapes are led PAST CAMERA into the formal conference room by TC-14.","TC-14: We are greatly honored by your visit Ambassadors. Make yourselves comfortable. My master will be with you shortly.","The droid bows before OBI-WAN KENOBI and QUI-GON JINN. She backs out the door and it closes. The JEDI lower their hoods and look out a large window at the lush green planet of Naboo. QUI-GON forty years old, has long brown hair in a ponytail. He is tall and striking, with blue eyes. OBI-WAN is twenty five, with very short brown hair, pale skin, and blue eyes.","OBI-WAN: I have a bad feeling about this.","QUI-GON: I don't sense anything.","OBI-WAN: It's not about the mission, Master, it's something... elsewhere... elusive.","QUI-GON: Don't center on your anxieties, Obi-Wan. Keep your concentration here and now where it belongs.","OBI-WAN: But Master Yoda says I should be mindful of the future...","QUI-GON: ... but not at the expense of the moment. Be mindful of the living Force, my young Padawan.","OBI-WAN: Yes, Master.","They walk over to the window and gaze out into space.","OBI-WAN: (cont'd) How do you think the trade viceroy will deal with the chancellor's demands?","QUI-GON: These Federation types are cowards. The negotiations will be short.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE GUNRAY and DAULTRAY DOFINE stand, stunned, before TC-14.","NUTE: (shaken) What?!? What did you say?","TC-14: The Ambassadors are Jedi Knights, I believe.","DOFINE: I knew it! They're here to force a settlement.","NUTE: Distract them. I will contact Lord Sidious.","DOFINE: Are you brain dead? I'm not going in there with two Jedi! Send the droid.","DOFINE turns to TC-14, who lets out a squeaky sigh.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","QUI-GON and OBI-WAN sit at the large conference table.","OBI-WAN: Is it in their nature to make us wait this long?","The door to the conference room slides open, and TC-14 enters with a tray of drinks and food.","QUI-GON: No... I sense an unusual amount of fear for something as trivial as this trade dispute.","TC-14 walks over to OBI-WAN who takes a drink. The droid then walks over to QUI-GON who takes a drink as TC-14 leaves the room.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE, DOFINE, and RUNE HAAKO are before the hologram of DARTH SIDIOUS, a robed figure whose face is obscured by a hood.","DARTH SIDIOUS: What is it?","DOFINE: ... This scheme of yours has failed, Lord Sidious. The blockade is finished! We dare not go against these Jedi.","DARTH SIDIOUS: Viceroy, I don't want this stunted slim in my sight again.","NUTE gives DOFINE a stern look and DOFINE bows his head in shame as he turns and walks away.","DARTH SIDIOUS: This turn of events is unfortunate. We must accelerate our plans. Begin landing your troops.","NUTE: My Lord, is that... legal?","DARTH SIDIOUS: I will make it legal?","NUTE: And the... Jedi?","DARTH SIDIOUS: The Chancellor should have never brought them into this. Kill them, immediately.","NUTE: Yes... yes, My Lord. As you wish.","INT REPUBLIC CRUISER - COCKPIT - DOCKING BAY","In the cockpit of the cruiser, the CAPTAIN and PILOT look up to see a gun turret swing around and point directly at them.","PILOT: Captain?! Look!!","The CAPTAIN looks up and just seconds before they are fired upon says something inaudible.","EXT FEDERATION BATTLESHIP - HANGAR BAY - SPACE (FX)","The battleship gun fires and the republic cruiser EXPLODES.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","QUI-GON and OBI-WAN leap to a standing position with their laser swords drawn. TC-14 jumps back, started, spilling the drinks on the tray.","TC-14: ... Sorry.","QUI-GON and OBI-WAN turn off their laser swords and listen intently. A faint hissing sound can be heard.","QUI-GON: Dioxin!","INT FEDERATION BATTLESHIP - HALLWAY","A hologram of NUTE , surrounded by BATTLE DROIDS, appears in the conference room hallway.","NUTE: They must be dead by now. Destroy, what's left of them.","The hologram fades off, as a BATTLE DROID, OWO-1, cautiously opens the door. A deadly green cloud billows from the room. BATTLE DROIDS cock their weapons as a figure stumbles out of the smoke. It is TC-14 , carrying the tray of drinks.","TC-14: Oh, excuse me.","The PROTOCOL DROID passes the armed camp.","OWO-1: Check it out Corporal. We'll cover you.","BATTLE DROID: Roger, roger.","Two flashing laser swords suddenly fly out of the deadly fog.","OWO-1: Uh-oh, blast them...","The two Jedi start cutting down BATTLE DROIDS as the droids fire on them. OBI-WAN jumps in the air and does a mid-air flip as he deflects laser bolts.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE watch OWO-1 on the viewscreen.","OWO-1 is suddenly cut in half. RUNE gives NUTE a worried look.","NUTE: What is going on down there?","The bridge is a cacophony of alarms.","TEY HOW: We've lost the transmission, sir.","RUNE: Have you ever encountered a Jedi Knight before, sir?","NUTE: Well, no, but I don't... (panicked) Seal off the bridge.","TEY HOW: Yes sir.","RUNE: That won't be enough, sir.","NUTE: I want droidekas up here at once!!!","RUNE: We will not survive this.","The doors to the bridge SLAM shut.","INT FEDERATION BATTLESHIP - HALLWAY - OUTSIDE BRIDGE","QUI-GON cuts several BATTLE DROIDS in half, creating a shower of sparks and metal parts. OBI-WAN raises his hand, sending several BATTLE DROIDS crashing into the wall.","QUI-GON makes his way to the bridge door and begins to cut through it.","INT FEDERATION BATTLESHIP - BRIDGE","The CREW is very nervous as sparks start flying around the bridge door. QUI-GON and OBI-WAN are on the view screen.","NUTE: Close the blast doors!!!","The huge, very thick blast door slams shut, followed by a second door, then a third. There is a hissing sound as the huge doors seal shut.","NUTE: That will hold them.","QUI-GON s tabs the door with his sword. The screen goes black as a red spot appears in the center of the blast door. OBI-WAN cuts down another BATTLE DROID in defense of his Master.","RUNE: ... They're still coming through!","On the door, chunks of molten metal begin to drop away.","NUTE: This is impossible!!","RUNE: Where are those droidekas?!","INT FEDERATION BATTLESHIP - HALLWAY - OUTSIDE BRIDGE","Two ugly destroyer WHEEL DROIDS roll down the hallway at full speed. Just before they get to the bridge area, they stop and transform into their battle configuration.","OBI-WAN: Master, destroyers.","QUI-GON stops penetrating the blast doors and turns to fight off the destroyer droids with OBI-WAN. The droids start to shoot their laser guns at the Jedi and an invisible shield appears around them.","OBI-WAN: They have shield generators.","QUI-GON: It's a standoff! Let's go!","QUI-GON and OBI-Wan leave the hallway just outside the bridge as the two destroyer droids turn around and continue shooting. The Jedi materialize at the far end of the hallway and dash through the doorway that slams shut. The WHEEL DROIDS blast away at the two JEDI with their laser swords.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE stand on the bridge, watching the view screen as the WHEEL DROIDS' POV speeds to the doorway.","RUNE: ... They're no match for droidekas.","TEY HOW: Sir, they've gone up the ventilation shaft.","INT FEDERATION BATTLESHIP - MAIN BAY","QUI-GON and OBI-WAN appear at a large vent in a giant hanger bay. They are careful not to be seen. Thousands of BATTLE DROIDS are loading onto landing craft.","QUI-GON: Battle droids.","OBI-WAN: It's an invisible army.","QUI-GON: This is an odd play for the Trade Federation. We've got to warn the Naboo and contact Chancellor Valorum. Let's split up. Stow aboard separate ships and meet down on the planet.","OBI-WAN: You were right about one thing, Master. The negotiations were short.","INT FEDERATION BATTLESHIP - BRIDGE","TEY HOW receives a transmission.","TEY HOW: Sir, a transmission from the planet.","RUNE: It's Queen Amidala herself.","NUTE: At last we're getting results.","On the view screen, QUEEN AMIDALA appears in her throne room. Wearing her elaborate headdress and robes, she sits, surrounded by the GOVERNING COUNCIL and FOUR HANDMAIDENS, EIRTAE, YANE, RABE, and SACHE.","NUTE: (cont'd) Again you come before me, Your highness.","AMIDALA: You will not be pleased when you hear what I have to say, Viceroy ... Your trade boycott of our planet has ended.","NUTE smirks at RUNE.","NUTE: I was not aware of such a failure.","PADME AMIDALA: I'm aware the Chancellor's Ambassadors are with you now, and that you have been commanded to reach a settlement.","NUTE: I know nothing of any Ambassadors ... you must be mistaken.","AMIDALA, surprised at his reaction, studies him carefully.","AMIDALA: Beware, Viceroy....the Federation has gone too far this time.","NUTE: We would never do anything without the approval of the Senate. You assume too much.","AMIDALA: We will see.","The QUEEN fades off, and the view screen goes black.","RUNE: She's right, the Senate will never....","NUTE: It's too late now.","RUNE: Do you think she suspects an attack?","NUTE: I don't know, but we must move quickly to disrupt all communications down there.","INT NABOO PALACE - THRONE ROOM","The QUEEN, EIRTAE, SACHE and her Governor, SIO BIBBLE, stand before a hologram of SENATOR PALPATINE, a thin, kindly man.","PALPATINE: ...The negotiations haven't started because the Ambassadors aren't there? How could that be true? I have assurances from the Chancellor... his Ambassadors did arrive. It must be the... get... negotiate...","The hologram of PALPATIONE sputters and fades away.","PADME AMIDALA: Senator Palpatine?!? (turns to Panaka) What's happening?","CAPTAIN PANAKA turns to his SARGEANT","CAPTAIN PANAKA: Check the transmission generators...","BIBBLE: A communications disruption can only mean one thing. Invasion.","AMIDALA: The Federation would not dare go that far.","CAPTAIN PANAKA: The Senate would revoke their trade franchise, and they'd be finished.","AMIDALA: We must continue to rely on negotiation.","BIBBLE: Negotiation? We've lost all communications! ... and where are the Chancellors Ambassadors?","CAPTAIN PANAKA: This is a dangerous situation, Your Highness. Our security volunteers will be no match against a battle-hardened Federation army.","AMIDALA: I will not condone a course of action that will lead us to war.","EXT SPACE LANDING CRAFT - TWILIGHT (FX)","Six landing craft fly in formation toward the surface of the planet Naboo.","EXT NABOO SWAMP - SHALLOW LAKE - TWILIGHT","Three landing craft slowly descend through the cloud cover of the perpetually gray twilight side of the planet. One by one, the Federation warships land in the eerie swamp.","TROOP TRANSPORTS (MTT's) emerge from the landing craft as a HALF DOZEN BATTLE DROIDS on STAPS fly by.","EXT NABOO EDGE OF SWAMP / GRASS PLAINS - TWILIGHT (FX)","The droid invasion force moves out of the swamp and onto a grassy plain. OOM-9, in his tank, looks out over the vast ARMY marching across the rolling hills. A small hologram of RUNE and NUTE stands on the tank.","OOM-9: Yes, Viceroy?","RUNE: Captain, we've searched the ship and there is no trace of the Jedi. They may have got on onto one of your landing craft.","OOM-9: If they are down here, sir, we'll find them.","NUTE: Use caution. These Jedi are not to be underestimated.","EXT NABOO SWAMP - TWILIGHT","QUI-GON runs through the strange landscape, glancing back to see the monstrous troop transports, emerging from the mist.","Animals begin to run past him in a panic.","An odd, frog-like GUNGAN, JAR JAR B INKS, squats holding a clam he has retrieved from the murky swamp. JAR JAR looks up and sees QUI-GON and the other creatures running like the wind toward him. One of the huge MTT's bears down on the JEDI like a charging locomotive. JAR JAR stands transfixed, still holding the clam shell in one hand.","JAR JAR: Oh, noooooooooo!","QUI-GON: Quick! Get out of here!","JAR JAR drops the shell and leaps onto QUI-GON as he mumbles something inaudible. The JEDI is caught by surprise.","QUI-GON: Get off!","JAR JAR continues to mumble something. The machine is about to crush them as QUI-GON drops to the ground. JAR JAR goes splat into the mud with him. The transport races overhead.","QUI-GON and JAR JAR pull themselves out of the mud. They stand watching the war machine disappear into the mist.","JAR JAR: Whas dat?","QUI-GON starts to walk away to find OBI-WAN. JAR JAR runs after him.","JAR JAR: Hey wait!","JAR JAR: Oyi, mooie-mooie! I luv yous!","QUI-GON: You almost got us killed! Are you brainless?","JAR JAR: I spake.","QUI-GON: The ability to speak does not make you intelligent. Now get outta here!","QUI-GON starts to move off, and JAR JAR follows.","JAR JAR: No... no! Mesa stay...Mesa culled Ja Ja Binksss. Mesa yous humble servaunt.","QUI-GON: That won't be necessary.","JAR JAR: Oh boot tit tis! Tis demunded byda guds it tis.","In the distance, two STAPS burst out of the mist at high speed, chasing OBI-WAN.","JAR JAR: (cont'd) Oh, nooooo!","QUI-GON throws JAR JAR into the mud.","QUI-GON: Stay down!","The two troops fire laser bolts at OBI-WAN. QUI-GON deflects the bolts back, and the STAPS blow up. One-two. OBI-WAN is exhausted and tries to catch his breath. Suddenly, JAR JAR pops up.","JAR JAR: Yousa sav-ed my again!","OBI-WAN: What's this?","QUI-GON: A local. Let's go, before more of those droids show up.","JAR JAR: Mure? Mure did you spake??!?","OBI-WAN and QUI-GON start to run. JAR JAR tries to keep up.","JAR JAR: (cont'd) Ex-squeeze me, but de mosta safest place would be GungaCity. Tis where I grew up ... Tis a hidden city.","They all stop.","QUI-GON: A city!","JAR JAR nods his head.","JAR JAR: Uhhu.","QUI-GON: (cont'd) Can you take us there?","JAR JAR: Ahhh, ... on second taut ... no, not willy, no.","QUI-GON: No??!","JAR JAR: Iss embarrissing, boot ahh... My afrai my've bean banished. My forgoten der Bosses would do terrible tings to my. Terrible tings if my goen back dare.","A PULSATING SOUND is heard in the distance.","QUI-GON: You hear that?","JAR JAR: Yeah.","QUI-GON: (cont'd) That's the sound of a thousand terrible things heading this way...","OBI-WAN: If they find us, they will crush us, grind us into little pieces, then blast us into oblivion!","JAR JAR: Oh! Yousa point is well said. Dis way! Hurry!","JAR JAR turns and runs into the swamp.","EXT NABOO SWAMP LAKE - TWILIGHT","QUI-GON, OBI-WAN and JAR JAR run into a murky lake and stop as JAR JAR tries to catch his breath. The TRANSPORTS ARE HEARD in the distance.","QUI-GON: How much farther?","JAR JAR: Wesa goen underwater, okeyday?","QUI-GON and OBI-WAN pull out small capsule from their utility belts that turn into breathing masks.","JAR JAR: (cont'd) ... and my warning yous. Gungans no liken outsiders, so don't expicin wern welcome.","OBI-WAN: Don't worry, this has not been our day for warm welcomes.","JAR JAR jumps, yells out, does a double somersault with a twist, and dives into the water.","Breath masks on, QUI-GON and OBI-WAN wade in after him. Before they continue, JAR JAR surfaces.","JAR JAR: Ahh... yousa follow me now, okeyday?","EXT NABOO LAKE - UNDERWATER","QUI-GON and OBI-WAN swim behind JAR JAR, who is very much at home in the water. Down they swim into murky depths. In the distance the glow of Otoh Gunga, an underwater city made up of large bubbles, becomes more distinct.","They approach the strange, art nouveau habitat. JAR JAR swims magically through one of the bubble membranes, which seals behind him. OBI-WAN and QUI-GON follow.","INT OTOH GUNGA - CITY SQUARE","GUNGANS in the square scatter when they see the strange JEDI.","JAR JAR: Sooo good beein home.","Two GUNGANS start talking gibberish. JAR JAR and the JEDI walk a little further as a GUNGAN, CAPTAIN TARPALS, armed with a long electro-pole rides up on a two-legged KAADU into the square.","CAPTAIN TARPALS: Hey yousa, stopa there.","JAR JAR: Heyo-dalee, Cap'n Tarpals, Mesa back!","CAPTAIN TARPALS: Noah gain, Ja Ja. Yousa goen tada Bosses. Yousa in big dudu this time.","JAR JAR hangs his head and wines. Another GUARD comes up on KAADU armed with an electro-pole and gives JAR JAR a slight zap with his power pole. JAR JAR jumps and moves off, followed by the two JEDI.","JAR JAR: How wude.","INT OTOH GUNGA - HIGH TOWER BOARD ROOM","The Bosses' Board Room has bubble walls, with small lighted fish swimming around outside like moving stars. A long circular judge's bench filled with GUNGAN OFFICIALS dominates the room. OBI-WAN and QUI-GON stand facing BOSS NASS, who sits on a bench higher than the others.","BOSS NASS: Yousa cannot bees hair. Dis army of mackineeks up dare tis new weesong!","QUI-GON: That droid army is about to attack the Naboo. We must warn them.","BOSS NASS: Wesa no like da Naboo! Da Naboo tink day so smarty. Day tink day brains so big.","OBI-WAN: Once those droids take control of the surface, they will take control of you.","BOSS NASS: Mesa no tink so. Dey not know of uss-en.","OBI-WAN: You and the Naboo form a symbiont circle. What happens to one of you will affect the other. You must understand this.","BOSS NASS: Wesa no care-n about da Naboo.","QUI-GON: (waves his hand) Then speed us on our way.","BOSS NASS: Wesa gonna speed yousaway.","QUI-GON: We could use a transport.","BOSS NASS: Wesa give yousa una bongo. Da speedest way tooda Naboo tis goen through da core. Now go.","QUI-GON: Thank you for your help. We leave in peace.","QUI-GON and OBI-WAN turn to leave.","OBI-WAN: Master, what's a bongo?","QUI-GON: A transport, I hope.","The JEDI notice JAR JAR in chains to one side, waiting to hear his verdict. QUI-GON stops. JAR JAR gives him a forlorn look.","JAR JAR: Daza setten yousa up. Goen through da planet core is bad bombin!! Ahhh... any hep hair would be hot.","JAR JAR's soulful look is counter-pointed by a sheepish grin.","OBI-WAN: Master, we're short of time.","QUI-GON: We'll need a navigator to get us through the planet's core. This Gungan my be of help.","QUI-GON walks back to BOSS NASS.","QUI-GON: (cont'd) What is to become of Jar Jar Binks here?","BOSS NASS: Hisen to be pune-ished.","JAR JAR hangs his head and wines.","QUI-GON: I have saved his life. He owes me what you call a life.debt. QUI-GON waves his hand.","QUI-GON: Your gods demand that his life belongs to me now.","BOSS NASS: Binks. Yousa haveda liveplay with thisen hisen?","JAR JAR: Ah-huh.","BOSS NASS: Begone wit him.","JAR JAR: Count mesa outta dis one! Better dead here, den deader in da core...Yee guds, whata mesa sayin?!","EXT NABOO CITY - UNDERWATER - SUB (FX)","A strange little submarine propels itself away from the Otoh Gunga, leaving the glow of the settlement in the distance.","INT SUB COCKPIT - UNDERWATER","OBI-WAN in the co-pilots seat, JAR JAR guides the craft.","JAR JAR: Dis is nutsen... Ooo, gooberfish!","OBI-WAN: Why were you banished, Jar Jar?","JAR JAR: Tis a longo taleo, buta small part of it wawdbe mesa... aaaa..... clumsy.","OBI-WAN: You were banished because you were clumsy?","JAR JAR: Ahh... Yousa mighten be sayin dat.","JAR JAR veers the craft to the left and turns the lights on. The coral vistas are grand, fantastic, and wondrous.","As the little sub glides into the planet core, a large dark shape begins to follow.","JAR JAR: Mesa cause-ed mabee one or duey lettal bitty axadentes...yud-say boom da gasser, un crash Der Bosses heyblibber...den banished.","Suddenly there is a loud CRASH, and the little craft lurches to one side. QUI-GON looks around and sees a huge, luminous","OPEE SEA KILLER has hooked them with its long gooey tongue.","JAR JAR: Uh-oh. Big gooberfish. Huge Opee.","Suddenly an even larger monster has attacked the OPEE SEA KILLER.","QUI-GON: There's always a bigger fish.","As the sub zooms away they see a larger set of jaws, munching on the hapless KILLER. The jaws belong to the incredible SANDO AQUA MONSTER. The lights on the tiny sub begin to flicker as they cruise deeper into the gloom.","INT FEDERATION BATTLESHIP - BRIDGE","NUTE and RUNE stand before a hologram of DARTH SIDIOUS.","NUTE: The invasion is on schedule, My Lord.","DARTH SIDIOUS: I have the Senate bogged down in procedures. They will have no choice but to accept your control of the system.","NUTE: The Queen has great faith the Senate will side with her.","DARTH SIDIOUS: Queen Amidala is young and naive. You will find controlling her will not be difficult.","NUTE: Yes, My Lord.","DARTH SIDIOUS fades away.","RUNE: You didn't tell him about the missing Jedi?","NUTE: No need to report that to him, until we have something to report.","INT SUB COCKPIT - UNDERWATER","JAR JAR: Where wesa goin.","QUI-GON: Don't worry, the Force will guide us...","JAR JAR: Ooooh, maxibig...'da Force'...Well, dat smells stinkowiff.","An alarm sounds on the control panel.","OBI-WAN: ... we're losing power.","JAR JAR: Oh, no...","OBI-WAN lands the sub in a cave and the lights go out.","JAR JAR: Oh, wesa diein here.","QUI-GON: Just relax. We're not in trouble yet.","JAR JAR: What yet? Monstairs out dare! Leak'n in here, all'n sink'n, and nooooo power! You nutsen! WHEN YOUSA TINKEN WESA IN TROUBLE?!!!?","The wires start to spark.","OBI-WAN: Power's back.","The lights flicker on, revealing an ugly COLO CLAW FISH right in front of them.","The large COLO CLAW FISH is surprised and rears back. The sub turns around and speeds away.","JAR JAR continues to panic and babble incoherently.","QUI-GON: Relax.","QUI-GON puts his hand on JAR JAR's shoulder. JAR JAR relaxes into a coma.","OBI-WAN: You overdid it.","The COLO CLAW FISH leaps after the fleeing sub. The sub narrowly avoids the deadly teeth of the AQUA MONSTER. The COLO CLAW FISH chasing them isn't so lucky. It is munched in half by the larger predator.","JAR JAR regains consciousness.","QUI-GON: Head for that outcropping.","JAR JAR: Oie Boie!","The little sub speeds away.","EXT THEED - MAIN ROAD INTO THEED - DAY (FX)","The long columns of the DROID ARMY move down the main road leading to Theed, the Naboo capital.","EXT THEED PLAZA - DAY (FX)","As the QUEEN watches helplessly from a window in the palace, a transport carrying NUTE and RUNE lands in Theed Plaza. They exit the transport.","OOM-9: Viceroy, we have captured the queen.","NUTE: Ah, victory!","INT NABOO LAKE - UNDERWATER - SUB (FX)","The little sub continues to propel itself toward the surface, which is brightly lit.","EXT THEED - ESTUARY - DAY","Paradise. Billowing clouds frame a romantic body of water. There is a LOUD RUSH OF BUBBLES, and a small sub bobs to the surface.","JAR JAR: Oo. Dis seem uverly.","QUI-GON stands and looks around to see if the coast is clear.","INT THEED - PALACE - DAY","QUEEN AMIDALA, SIO BIBBLE, and FIVE OF HER HANDMAIDENS (EIRTAE, YANE, PADME, RABE, SACHE) are surrounded by a half dozen DROIDS. CAPTAIN PANAKA and FOUR NABOO GUARDS are also with them as they are lead down stairs to the main floor. NUTE and RUNE are walking with the group.","BIBBLE: ...how will you explain this invasion to the Senate?","NUTE: The Queen and I will sign a treaty that will legitimize our occupation here. I assurances it will be ratified by the Senate.","AMIDALA: I will not co-operate.","NUTE: Now, now, your Highness. In time, the suffering of your people will persuade you to see our point of view. Commander?","OOM-9 steps forward.","OOM-9: Yes, sir!","NUTE: Process them.","OOM-9 turns to his sergeant.","OOM-9: Captain, take them to Camp Four.","CAPTAIN: Roger, roger.","The SERGEANT marches the GROUP down the rest of the stairs and into the plaza.","EXT PALACE - PLAZA - DAY","QUEEN AMIDALA, PADME, EIRTA, YANE, RABE, SACHE, CAPTAIN PANAKA, SIO BIBBLE, and FOUR GUARDS are led out of the palace by ten BATTLE DROIDS. The plaza is filled with tanks and BATTLE DROIDS, which they pass on their way to the detention camp. Unbeknownst to them, QUI-GON, OBI-WAN, and JAR JAR sneak across on a walkway above the plaza and jump from a balcony to begin an attack to rescue the QUEEN.","FOUR BATTLE DROIDS are instantly cut down. MORE DROIDS move forward and are also cut down by the JEDIS' flashing lightsabres until there is only the DROID SERGEANT left. The SERGEANT starts to run but is pulled back to QUI-GON by the Force, until finally he is dispatched by the JEDI.","QUI-GON: We should leave the streets, your highness.","SIO BIBBLE takes QUEEN AMIDALA away.","CAPTAIN PANAKA turns to the GUARDS.","CAPTAIN PANAKA: Get their weapons.","JAR JAR: Woah. Yousa guys bombad!","QUEEN AMIDALA and the OTHERS are amazed. JAR JAR is getting used to this. They move between two buildings.","QUI-GON: We're the Ambassadors, for the Supreme Chancellor.","BIBBLE: Your negotiations seem to have failed, Ambassador.","QUI-GON: The negotiations never took place. It's urgent that we make contact with the republic.","CAPTAIN PANAKA steps forward.","CAPTAIN PANAKA: They've knocked out all our communications.","QUI-GON: Do you have transports?","CAPTAIN PANAKA: In the main hanger. This way.","THEY disappear down an alleyway as the ALARMS are sounded","INT CENTRAL HANGER - HALLWAY - DAY","CAPTAIN PANAKA cracks open a side door to the central hanger. QUI-GON looks in over his shoulder. OBI-WAN, JAR JAR, and the rest of the group are behind him. They see several Naboo spacecraft guarded by about FIFTY BATTLE DROIDS. ALARMS can be heard in the distance.","CAPTAIN PANAKA: There are too many of them.","QUI-GON: That won't be a problem. (to Amidala) Your Highness, under the circumstances, Isuggest you come to Coruscant with us.","AMIDALA: Thank you, Ambassador, but my place is here with my people.","QUI-GON: They will kill you if you stay.","BIBBLE: They wouldn't dare.","CAPTAIN PANAKA: They need her to sign a treaty to make this invasion of theirs legal. They can't afford to kill her.","QUI-GON: There is something else behind all this, Your Highness. There is no logic in the Federation's move here. My feelings tell me they will destroy you.","BIBBLE: Our only hope is for the Senate to side with us ... Senator Palpatine will need your help.","AMIDALA: Either choice presents great danger.","The QUEEN turns to PADME and EIRTAE.","PADME AMIDALA: (cont'd) ... to us all.","PADME: We are brave, Your Highness.","QUI-GON: If you are to leave, Your Highness, it must be now.","AMIDALA: Then, I will plead our case to the Senate. (to Bibble as they are start to leave) Be careful, Governor.","INT CENTRAL HANGER - DAY","The door opens to the main hanger. QUI-GON, OBI-WAN, JAR JAR, CAPTAIN PANAKA, TWO GUARDS, and THREE HANDMAIDENS (PADME, EIRTAE, RABE), followed by QUEEN AMIDALA, head for a sleek chrome spacecraft. SIO BIBBLE, YANE and SACHE stay behind. The HANDMAIDENS begin to cry.","CAPTAIN PANAKA: We need to free those pilots.","CAPTAIN PANAKA points to TWENTY GUARDS, GROUND CREW, and PILOTS held in a corner by SIX BATTLE DROIDS.","OBI-WAN: I'll deal with that.","OBI-WAN heads toward the group of captured pilots.","QUI-GON and the QUEEN, CAPTAIN PANAKA, JAR JAR, and the rest Of the GROUP approach the GUARDS at the ramp of the Naboo craft.","GUARD DROID: Halt?","QUI-GON: I'm Ambassador for the Supreme Chancellor, and I'm taking these people to Coruscant.","GUARD DROID: Where are you taking them?","QUI-GON: To Coruscant.","GUARD DROID: Coruscant!? Ahh, that doesn't compute. ... Ahh, wait! ... Ahh, you're under arrest!","The DROID GUARD draws his weapon, but before any of the DROIDS can fire, they are cut down. OTHER GUARDS run to their aid.","OBI-WAN attacks the GUARDS around the PILOTS.","OBI-WAN: Go!","QUI-GON stands, fighting off DROIDS as the OTHERS rush on board the spacecraft. OBI-WAN, the FREED PILOTS (including RIC OLIE), GUARDS and GROUND CREW MEMBERS rush on board the ship. The OTHER PILOTS and GUARDS race to SIO BIBBLE. After everyone has made it onto the ship, QUI-GON jumps on board.","INT NABOO SPACECRAFT - COCKPIT","The PILOT, RIC OLIE, navigates toward the massive battleship.","EXT THEED - HANGER ENTRY - DAY (FX)","The ship exits the hanger.","INT NABOO SPACECRAFT - DROID HOLD","JAR JAR is led into a low, cramped doorway by OBI-WAN.","OBI-WAN: Now stay here, and keep out of trouble.","OBI-WAN closes the door. JAR JAR looks around and sees a long row of five short, dome-topped ASTRO DROIDS (R-2 units). The all look alike, except for thier paint color, and they all seem to be shut down.","JAR JAR: Ello, boyos.","The droids chirp and whistle in response.","INT NABOO SPACECRAFT - COCKPIT","The PILOT, RIC OLIE, navigates toward the massive battleship.QUI-GON and CAPTAIN PANAKA watch.","EXT SPACE BATTLE (FX)","The Naboo spacecraft, surrounded by EXPLOSIONS, heads even closer to the massive Federation battleships.","INT NABOO SPACECRAFT - COCKPIT","QUI-GON enters the cockpit.","RIC OLIE: There's the blockade.","OBI-WAN enters the cockpit as the blockade battleships fire upon them. ALARM SOUNDS fill the cockpit.","RIC OLIE: The shield generator's been hit.","INT NABOO SPACECRAT - DROID HOLD (FX)","A blue alarm light flashes as all the DROIDS are activated. The DROIDS rush to an exterior air lock.","One LITTLE BLUE ASTRO DROID, who is especially dedicated, lets out a loud screech as he runs into JAR JAR.","JAR JAR: How wude!","The BLUE ASTRO DROID continues to beep in exclamation as he too rushes toward the air lock.","The LITTLE DROID enters the air lock and is ejected onto the exterior of the ship.","EXT NABOO SPACECRAFT - SPACE (FX)","The LITTLE DROID rolls towards the others to help with repairs. One by one each DROID is being blown away.","INT NABOO SPACECRAT - COCKPIT","OBI-WAN: We're loosing droids... fast.","CAPTAIN PANAKA: If we can't get the shield generators fixed, we'll be sitting ducks.","EXT NABOO SPACECRAFT - ENGINES - SPACE (FX)","The Federation battleship blows away ONE MORE ASTRO DROID.","INT NABOO SPACECRAT - COCKPIT","RIC OLIE: The shields are gone.","EXT NABOO SPACECRAFT - ENGINES - SPACE (FX)","The BLUE DROID is now alone as he contines to work on the ship. He connects some wires, causing sparks to fly.","INT NABOO SPACECRAT - COCKPIT","RIC OLIE: Powers back! That little droid did it... bypassed the main power drive. Deflector shield up, at maximum.","EXT NABOO SPACECRAFT - SPACE (FX)","The lone BLUE DROID finishes his repairs and goes back into the ship. The Naboo spacecraft races away from the Federation battleship.","RIC OLIE: There's not enough power to get us to Coruscant... the hyperdrive is leaking.","QUI-GON: We'll have to land somewhere to refuel and repair the ship.","QUI-GON studies a star chart on a monitor.","OBI-WAN: Here, Master. Tatooine... It's small, out of the way, poor... The Trade Federation has no presence there.","CAPTAIN PANAKA: How can you be sure?","QUI-GON: It's controlled by the Hutts...","CAPTAIN PANAKA: You can't take Her Royal Highness there! The Hutts are gangsters ... If they discovered her ...","QUI-GON: ... It would be no different than if we landed on a system controlled by the Federation ... except the Hutts aren't looking for her, which gives us an advantage.","CAPTAIN PANAKA takes a deep breath in frustration.","EXT SPACE - FEDERATION BATTLESHIP (FX)","The Federation battleship looms over the planet of Naboo.","INT FEDERATION BATTLESHIP - CONFERENCE ROOM","NUTE and RUNE sit around a conference table with a hologram of DARTH SIDIOUS.","DARTH SIDIOUS: ... And Queen Amidala, has she signed the treaty?","NUTE: She has disappeared, My Lord. One Naboo cruiser got pat the blockade.","DARTH SIDIOUS: I want that treaty signed.","NUTE: My Lord, it's impossible to locate the ship. It's out of our range.","DARTH SIDIOUS: ...not for a Sith...","A second SITH LORD appears behind DARTH SIDIOUS.","DARTH SIDIOUS: (Cont'd) ... This is my apprentice. Darth Maul. He will find your lost ship.","The hologram fades off.","NUTE: This is getting out of hand ... now there are two of them.","RUNE: We should not have made this bargain.","INT NABOO SPACECRAFT - QUEENS CHAMBERS","QUI-GON, OBI-WAN, CAPTAIN PANAKA, and the LITTLE BLUE DROID stand before QUEEN AMIDALA and her THREE HANDMAIDENS, PADME, EIRTAE and RABE.","CAPTAIN PANAKA: ...An extremely well put together little droid. Without a doubt, it saved the ship, as well as our lives.","AMIDALA: It is to be commended...what is its number?","The LITTLE BLUE DROID lets out a series of bleeps. CAPTAIN PANAKA leans over and scrapes some dirt off of the side of the DROID and read the number","CAPTAIN PANAKA: R2-D2, Your Highness.","AMIDALA: Thank you, Artoo Detoo... Padme!","PADME bows before the QUEEN.","PADME AMIDALA: (Cont'd) Clean this droid up the best you can. It deserves our gratitude... (to Panaka) Continue, Captain.","CAPTAIN PANAKA looks nervously to OBI-WAN and QUI-GON.","QUI-GON: Your Highness, with your permission we're heading for a remote planet called Tatooine. It is a system far beyond the reach of the Trade Federation.","CAPTAIN PANAKA: I do not agree with the Jedi on this.","QUI-GON: You must trust my judgment, Your Highness.","AMIDALA and PADME exchange looks.","INT NABOO SPACECRAFT - MAIN AREA","PADME sits in the Main Area, cleaning R2-D2, the brave little Astro Droid. JAR JAR pops out of an open door.","JAR JAR: Hidoe!","PADME jumps. The Gungan is embarrassed that he frightened them.","JAR JAR: (Cont'd) Sorry. Whosa are yousa?","PADME AMIDALA: I'm Padme.","JAR JAR steps into the room.","JAR JAR: Mesa Ja Ja Binksss...","ARTOO wines a little as PADME looks up from the droid.","PADME AMIDALA: You're a GUNGAN, aren't you?","JAR JAR: Ah-huh.","PADME: How did you end up here with us?","JAR JAR: My no know... mesa day starten pitty okeyday witda brisky morning munchen. Den boom.... getten berry skeered, un grabbed dat Jedi, and before mesa knowen it... pow! Mesa here. (he shrugs)... getten berry berry skeered.","ARTOO BEEPS a sympathetic beep.","EXT SPACE (FX)","The Naboo cruiser speeds off towards the planet TATOOINE.","INT NABOO SPACECRAFT - COCKPIT","OBI-WAN, QUI-GON, and CAPTAIN PANAKA watch over RIC OLIE'S shoulder. A large yellow planet appears directly ahead. RIC OLIE searches his scopes.","OBI-WAN: That's it. Tatooine... There's a settlement.","QUI-GON: Land near the outskirts. We don't want to attract any attention.","EXT TATOOINE - SPACE (FX)","The ship heads toward the planet of Tatooine.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY (FX)","The Naboo spacecraft lands in the desert in a swirl of dust. The spaceport of Mos Espa is seen in the distance.","INT NABOO SPACECRAFT - ENGINE ROOM","OBI-WAN is hoisting the hyperdrive out of a floor panel.","OBI-WAN: The hyperdrive generator's gone, Master.","QUI-GON: That'll complicate things. Be wary... I sense a disturbance in the Force.","OBI-WAN: I feel it also, Master.","QUI-GON: Don't let them send ant transmissions.","EXT TATOOINE - DESERT - SPACESHIP - DAY","They start their trek across the desert toward the city of Mos Espa. In the distance, a strange looking caravan makes its way toward the spaceport.","JAR JAR: Dis sun doen murder ta mesa skin.","From the spaceship, CAPTAIN PANAKA and PADME run toward them.","CAPTAIN PANAKA: Wait!","QUI-GON stops as they catch up. PADME is dresses in rough peasant's garb.","CAPTAIN PANAKA: (Cont'd) Wait. Her Highness commands you to take her handmaiden with you.","QUI-GON: No more commands from Her Highness today, Captain. This spaceport is not going to be pleasant...","CAPTAIN PANAKA: The Queen wishes it. She is curious about this planet.","QUI-GON: This is not a good idea. Stay close to me.","He gives PADME a stern look.","EXT MOS ESPA - STREET - DAY","The little GROUP walks down the main street of Mos Espa. They pass dangerous looking citizens of all types. PADME looks around in awe at this exotic environment.","QUI-GON: ...moisture farms for the most part. Some indigenous tribes and scavengers. The few spaceports like this one are havens for those who do not wish to be found...","PADME: ... like us.","JAR JAR is in a constant state of panic.","JAR JAR: Dissen berry berry bad. (steps in ooze) Ooooh... icky... icky... goo.","ARTOO whistles along, with perfect confidence.","EXT MOS ESPA - JUNK DEALER PLAZA - DAY","The GROUP comes to a little plaza surrounded by several junk spaceship dealers.","QUI-GON: We'll try one of the smaller dealers.","They head for a little junk shop that has a huge pile of broken spaceships stacked up behind it.","INT WATTO'S JUNK SHOP - DAY","QUI-GON, JAR JAR, PADME, and ARTOO enter the dingy junk shop and are greeted by WATTO, a pudgy blue alien who flies on short little wings like a hummingbird.","WATTO: (subtitled) Guta naloya. (Good day to you.)","WATTO flies over to the visitors.","WATTO: (cont'd)(subtitled) Ha chuba da nala? (What do you want?)","QUI-GON: I need parts for a J-type 327 Nubian.","WATTO: Ah yes, ah yes. Nubian. We have lots of that. (subtitled) Peedenk! Naba dee unko (Boy, get in here! Now!)","QUI-GON: My droid here has a readout of what I need.","A disheveled boy, ANAKIN SKYWALKER, runs in from the junk yard. He is about nine years old, very dirty, and dressed in rags.","WATTO turns to ANAKIN.","WATTO: (subtitled) Coona tee-tocky malia? (What took you so long?)","ANAKIN: (subtitled) Mel tassa cho-passa... (I was cleaning the bin like you...)","WATTO: (subtitled) Chut-Chut! Ganda doe wallya. Me dwana no bata. (Watch the store. I've got some selling to do here.) (to Gui-Gon) Soooo, let me take - a thee out back. Ni you'll find what you need.","ARTOO and QUI-GON follow WATTO toward the junk yard, leaving JAR JAR with PADME and the young boy ANAKIN. JAR JAR picks up a gizmo, trying to figure out its purpose. QUI-GON takes the part out of his hand and puts it back.","QUI-GON: Don't touch anything.","JAR JAR makes a rude face to QUI-GON's back and sticks out his long tongue. ANAKIN sits on the counter, pretending to clean a part, staring at PADME. She is the most beautiful creature he has ever seen in his life. PADME is a little embarrassed by his stare, but she musters up an amused smile. Finally, he gets the courage to speak.","ANAKIN: Are you an angel?","PADME: What?","ANAKIN: An angel. I've heard the deep space pilots talk about them. They are the most beautiful creatures in the universe. They live on the Moons of Iego I think.","PADME looks at him, not knowing what to say.","PADME AMIDALA: You're a funny little boy. How do you know so much.","ANAKIN: I listen to all the traders and starpilots that come by here. I'm a pilot, you know, and some day I'm gonna fly away from this place.","PADME AMIDALA: You're a pilot?","ANAKIN: All my life.","PADME: How long have you been here?","ANAKIN: Since I was very little, three, I think. My Mom and I were sold to Gardulla the Hutt, but she lost us, betting on the Podraces.","PADME AMIDALA: You're ... a slave?","ANAKIN looks at PADME defiantly.","ANAKIN: I am a person! My name is Anakin.","PADME AMIDALA: I'm sorry. I don't fully understand. (looking around) This is a strange place to me.","ANAKIN studies her intently.","JAR JAR pushes the nose on what appears to be a LITTLE DROID, and it instantly comes to life, grows legs and arms, and starts marching around, knocking over everything. JAR JAR hold on but can't stop it.","ANAKIN: Hey...","JAR JAR: Wha?","ANAKIN: Hit the nose!","JAR JAR: Oh!","JAR JAR hits the nose, and the DROID collapses back into its original state. ANAKIN and PADME laugh.","EXT WATTO'S JUNK YARD - BEHIND SHOP - DAY","WATTO flies along as QUI-GON walks through the junk yard.","WATTO: ... a T-14 hyperdrive generator!! Thee in luck, I'm the only one hereabouts who has one... but thee might as well buy a new ship. It would be cheaper, I think... Saying of which, how's thee going to pay for all this?","QUI-GON: I have 20,000 Republic dataries.","WATTO: Republic credits?!? Republic credits are no good out here. I need something more real...","QUI-GON: I don't have anything else. (raising his hand) But credits will do fine.","WATTO: No they won'ta.","QUI-GON, using his mind power, waves his hand again.","QUI-GON: Credits will do fine.","WATTO: No, they won'ta. What you think you're some kinda Jedi, waving your hand around like that? I'm a Toydarian. Mind tricks don'ta work on me-only money. No money, no parts! No deal! And no one else has a T-14 hyperdrive, I promise you that.","INT WATTO'S JUNK SHOP - DAY","ANAKIN and PADME are still talking.","ANAKIN: ... wouldn't have lasted long if I weren't so good at fixing things.","JAR JAR pulls a part out of a stack of parts to inspect it, and they all come tumbling down. He struggles to catch them, only to knock more down. ANAKIN and PADME are oblivious.","QUI-GON hurries into the shop, followed by ARTOO.","QUI-GON: We're leaving. Jar Jar?","The stuff JAR JAR is juggling crashes to the ground. PADME gives ANAKIN a loving look.","PADME AMIDALA: I'm glad to have met you.","PADME turns, and ANAKIN looks sad as he watches her leave.","ANAKIN: I was glad to meet you too.","JAR JAR and ARTOO leave the shop.","WATTO enters the shop, shaking his head.","WATTO: (subtitled) Ootmians! Tinka me chasa hopoe ma booty na nolia. (Outlanders! They think they know everything.)","ANAKIN: (subtitled) La lova num botaffa. (They seemed nice to me.)","WATTO: (subtitled) Fweepa niaga. Tolpa da bunky dunko. (Clean the racks... then you can go home.)","ANAKIN lets out a 'yipee' and runs out the back.","INT NABOO SPACECRAFT - COCKPIT","OBI-WAN is in the cockpit of the Naboo craft.","QUI-GON: ... and you're sure there's nothing left on board?","OBI-WAN: (V.O) A few containers of supplies, the Queen's wardrobe, maybe. But not enough for you to barter with. Not in the amounts you're talking about.","QUI-GON: All right. I'm sure another solution will present itself. I'll check back later.","QUI-GON puts his comlink away and starts out into the main street. JAR JAR grabs his arm.","JAR JAR: Noah gain... Noah gain da beings hereabouts cawazy. Wesa be robbed un crunched.","QUI-GON: Not likely. We have nothing of value, that's our problem.","EXT MOS ESPA - STREET - MARKET - DAY","QUI-GON, PADME, JAR JAR, and ARTOO move out into the street. JAR JAR is walking behind the others. They walk by an outdoor cafe filled with a rough gang of aliens, one of which is especially ugly, SEBULBA, a spider-like creature. JAR JAR stops for a moment in front of a stall selling dead frogs hanging on a wire. He looks around to see if anyone is looking, then sticks out his tongue, and gets hold of one, pulling it into his mouth. Unfortunately, the frog is tied tightly to the wire. The vendor suddenly appears.","VENDOR: (subtitled) Ay, ay. Yawoba wonga? (Are you going to pay for that?)","JAR JAR turns his head in surprise.","VENDOR: Uga wupiupi wep. (It costs seven wupiupi.","JAR JAR opens his mouth and the frog snaps away., ricochets around the market, and lands in Sebulba's soup, splashing him. As JAR JAR moves away from the VENDOR, SEBULBA jumps up on the table and grabs the hapless Gungan.","SEBULBA: Chuba!!","JAR JAR: Ooops.","JAR JAR starts to whistle as he walks away.","Angry, SEBULBA gets up an hops over to JAR JAR and kicks him.","SEBULBA: (subtitled) Ni chuba ni?? (Is this yours??)","SEBULBA holds the frog up to the Gungan threateningly.","JAR JAR: Who, mesa?","SEBULBA grabs JAR JAR by the neck. QUI-GON looks around for JAR JAR and sees him in a fight.","JAR JAR turns to see ANAKNI pushing his way next to him. The boy stands up to SEBULBA in a very self-assured way.","ANAKIN: (subtitled) Chesko Sebulba... Cha pooka uman geesa... Matesa ratico ponipa chop chowa. (Careful, Sebulba... He's a big time outlander... I'd hate to see you diced before we race again.)","SEBULBA stops his assault on JAR JAR and turns to ANAKIN.","SEBULBA: (subtitled) Nic me chouwa wimo noke maka noke. (Next time we race, boy, it will be the end of you!) Una noto wo shag, me wompity du pom pom. (If you weren't a slave, I'd squash you now.)","SEBULBA turns away.","ANAKIN: (subtitled) Eh, chee bana do mullee ra. (Yeah, it'd be a pity if you had to pay for me.)","QUI-GON, PADME and ARTOO arrive.","ANAKIN: (Cont'd) Hi!","QUI-GON: Hi there.","ANAKIN: Your buddy here was about to be turned into orange goo. He picked a fight with a Dug. An especially dangerous Dug called Sebulba.","JAR JAR: Mesa haten crunchen. Dat's da last ting mesa wanten.","QUI-GON: Nevertheless, the boy is right ... you were heading for trouble... Thanks, my young friend.","PADME looks at ANAKIN and smiles; he smiles back. They start walking down the crowded street.","JAR JAR: But... but... mesa doen nutteen!","The group walks away and SEBULBA chews on the frog.","EXT TATOOINE - DESERT - SPACESHIP - DAY","OBI-WAN stands in front of the Naboo spacecraft as the wind picks up and begins to whip at his robe. CAPTAIN PANAKA exits the ship and joins him.","OBI-WAN: This storm will slow them down.","CAPTAIN PANAKA: It looks pretty bad.","CAPTAIN PANAKA's comlink sounds off.","CAPTAIN PANAKA: (Cont'd) Panaka?","RIC OLIE: (V.O.) We're receiving a message from home.","CAPTAIN PANAKA: We'll be right there.","EXT MOS ESPA - STREET - FRUIT STAND - DAY","ANAKIN and the GROUP stop at a fruit stand run by a jolly, but very poor, old lady named JIRA.","ANAKIN: Here, you'll like these pallies... Here.","QUI-GON: Thank you.","QUI-GON takes them puting them in a little pouch under his poncho, revealing for a moment, his lightsaber.","JIRA: Oh, my bones are aching ... storm's coming up, Annie. You'd better get home quick.","ANAKIN: (to QUI-GON) Do you have shelter?","QUI-GON: We'll head back to our ship.","ANAKIN: Is it far?","PADME AMIDALA: It's on the outskirts.","ANAKIN: You'll never reach the outskirts in time... sandstorms are very, very dangerous. Come on! I'll take you to my place.","The GROUP follows ANAKIN as he rushes down the windy street. ARTOO wistles along the way.","EXT MOS ESPA - SLAVE QUARTERS - STREET - SANDSTORM - DAY","The wind is blowing hard as QUI-GON, JAR JAR, and PADME follow ANAKIN down the street and into a slave hovel.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON, JAR JAR, ARTOO, and PADME enter a small living space.","ANAKIN: Mom! Mom! I'm home.","JAR JAR: Dissen cozy.","Anakin's mother, SHMI SKYWALKER, a warm, friendly woman of forty, enters from her work area and is startled to see the room full of people.","ANAKIN: These are my friends, Mom.","JAR JAR: Hidoe!","ARTOO lets out a little beep.","QUI-GON: I'm Qui-Gon Jinn.","ANAKIN: I'm building a droid. You wanna see?","QUI-GON: Your son was kind enough to offer us shelter.","ANAKIN: Come on! I'll show you Threepio!","ANAKIN leads PADME into the other room. ARTOO follows, beeping all the way.","INT ANAKIN'S HOVEL - BEDROOM - DAY","ARTOO rolls through the doorway as ANAKIN shows off his DROID, which is lying on his workbench. There is one eye in the head; the body, arms, and legs have no outer coverings.","ANAKIN: Isn't he great?! He's not finished yet.","PADME AMIDALA: He's wonderful!","ARTOO continues to lets out a few warbles.","ANAKIN: You really like him? He's a protocol droid ... to help Mom. Watch!","ANAKIN pushes a button, and the DROID sits up.","C-3PO: Oh, oh. Where is everybody?","Anakin reaches over and grabs an eye and puts it in one of the sockets.","C-3PO: Oh, hello, I am See-Threepio, Human Cyborg Relations. How might I serve you?","PADME AMIDALA: He's perfect.","C-3PO: Oh, perfect.","ANAKIN: When the storm is over, I'll show you my racer.","C-3PO starts to walk away as ANAKIN contines talking to PADME.","ANAKIN: (cont'd) I'm building a Podracer!","PADME smiles at his enthusiasm.","THREEPIO: I'm not sure this floor is entirely stable. Oh, hello. I don't believe we've been introduced.","ARTOO lets out a flurry of beeps and whistles.","C-3PO: Artoo-Detoo. A pleasure to meet you. I am See-Threepio, Human Cyborg Relations.","ARTOO lets out another series of beeps and whistles.","C-3PO: I beg your pardon .... what do you mean, naked?","ARTOO beeps.","THREEPIO: (Cont'd) My parts are showing? My goodness.","ARTOO releases a laugh-like twitter.","EXT TATOOINE - SANDSTORM","The sandstorm rages on.","INT NABOO SPACECRAFT - QUEENS CHAMBERS","AMIDALA, EIRTAE, RABE, and OBI-WAN watch a very bad transmission of a SIO BIBBLE hologram.","BIBBLE: ... the death toll is catastrophic...we must bow to their wishes... you must contact me ...","AMIDALA looks upset ... almost nervous.","OBI-WAN: It's a trick. Send no reply... Send no transmission of any kind.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON listens to his comlink. OBI-WAN is in the cockpit.","QUI-GON: It sounds like bait to establish a connection trace.","OBI-WAN: What if it is true and the people are dying?","QUI-GON: Either way, we're running out of time.","EXT CORUSCANT - BALCONY OVERLOOKING CITY - NIGHT","DARTH SIDIOUS and DARTH MAUL are walking along the balcony overlooking the vast city.","DARTH MAUL: Tatooine is sparsely populated. If the trace was correct, I will find them quickly, Master.","DARTH SIDIOUS: Move against the Jedi first...you will then have no difficulty in taking the Queen to Naboo to sign the treaty.","DARTH MAUL: At last we will reveal ourselves to the Jedi. At last we will have revenge.","DARTH SIDIOUS: You have been well trained, my young apprentice, they will be no match for you.","EXT MOS ESPA - SANDSTORM - DAY","The giant sandstorm engulfs the town, including the Naboo spaceship on the outskirts of the city center, where Watto's ship is; and the slave quarters, where drifts of sand begin building up against Anakin's house.","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","QUI-GON, ANAKIN, JAR JAR, and PADME are seated around a table. JAR JAR slurps his soup as SHMI walks over pours him a drink. JAR JAR looks up at her as she moves on. ARTOO beeps as he looks on from the corner of the room.","SHMI: All slaves have transmitters placed inside their bodies somewhere.","ANAKIN: I've been working on a scanner to try and locate mine.","SHMI: Any attempt to escape...","ANAKIN: ... and they blow you up ... boom!","JAR JAR: How wude.","PADME AMIDALA: I can't believe there is still slavery in the galaxy. The Republic's anti-slavery laws...","SHMI: The Republic doesn't exist out here...we must survive on our own.","JAR JAR snatches some food from a bowl at the other end of the table with his tongue. PADME looks over at JAR JAR. QUI-GON gives him a dirty look.","JAR JAR: 'Scuse me.","ANAKIN: Has anybody ever seen a Podrace?","PADME shakes her head no.","QUI-GON: They have Podracing on Malastare. Very fast, very dangerous.","ANAKIN: I'm the only human who can do it.","QUI-GON: You must have Jedi reflexes if you race Pods.","ANAKIN smiles. JAR JAR attempts to snare another bit of food from the bowl with his tongue, but QUI-GON, in a flash, grabs it between his thumb and forefinger. JAR JAR is startled.","QUI-GON: (Cont'd) Don't do that again.","JAR JAR tries to acknowledge with some silly mumbling. QUI-GON lets go of the tongue, and it snaps back into JAR JAR's mouth.","ANAKIN: You're a Jedi Knight, aren't you?","QUI-GON: What makes you think that?","ANAKIN: I saw your laser sword. Only Jedi carry that kind of weapon.","QUI-GON leans back and slowly smiles.","QUI-GON: Perhaps I killed a Jedi and took it from him.","ANAKIN: I don't think so ... No one can kill a Jedi.","QUI-GON: I wish that were so...","ANAKIN: I had a dream I was a Jedi. I came back here to free all the slaves... have you come to free us?","QUI-GON: No, I'm afraid not ...","ANAKIN: I think you have ... why else would you be here?","QUI-GON thinks for a moment.","QUI-GON: I can see there's no fooling you ... (leans forward) We're on our way to Coruscant, the central system in the Republic, on a very important mission.","ANAKIN: How did you end up here in the outer rim?","PADME AMIDALA: Our ship was damaged, and we're stranded here until we can repair it.","ANAKIN: I can help! I can fix anything!","QUI-GON: I believe you can, but first we must acquire the parts we need...","JAR JAR: Wit no-nutten mula to trade.","PADME: These junk dealers must have a weakness of some kind.","SHMI: Gambling. Everything here revolves around betting on those awful races.","QUI-GON: Podracing ... Greed can be a powerful ally.","ANAKIN: I've built a racer! It's the fastest ever...There's a big race tomorrow, on Boonta Eve. You could enter my pod.","SHMI: Anakin! Watto won't let you...","ANAKIN: Watto doesn't know I've built it. (to Qui-Gon) You could make him think it's yours, and get him to let me pilot it for you.","QUI-GON looks to SHMI. She is upset.","SHMI: I don't want you to race. It's awful. I die every time Watto makes you do it.","ANAKIN: But Mom, I love it. The prize money would more than pay for the parts they need.","SHMI: Anakin!","QUI-GON: Your mother's right. Is there anyone friendly to the Republic who might help us?","SHMI shakes her head no.","ANAKIN: Mom... you said the biggest problem in the universe is nobody helps each other...","SHMI sighs heavily.","PADME AMIDALA: I'm sure Qui-Gon doesn't want to put your son in danger. We'll find some other way...","SHMI: No, there is no other way... I may not like it, but... he can help you... he was meant to help you.","EXT MOS ESPA - STREET - DAY","STREET PEOPLE fill the streets as a BANTHA and a few landspeeders go by. clean up the mess and rebuild their food stalls. QUI-GON, JAR JAR, and PADME are walking toward WATTOS shop. ARTOO is rolling behind thim.","PADME stops QUI-GON as he is about to enter the shop.","PADME: Are you sure about this? Trusting our fate to a boy we hardly know. The Queen will not approve.","QUI-GON: The Queen does not need to know.","PADME AMIDALA: Well, I don't approve.","QUI-GON turns and starts into the shop.","INT WATTO'S JUNK SHOP - DAY","QUI-GON walks in, and WATTO and ANAKIN join him.","WATTO: The boy tells me you wanta sponser him in a race. How can you do this? Not on Republic credits, I think, huh. (he laughs)","QUI-GON: My ship will be the entry fee.","QUI-GON pulls a small object that looks like a watch out of his pocket, and a hologram of the Naboo spacecraft appears about a foot long in front of WATTO. He studies it.","WATTO: Oh, not bad... not bad... ah Nubian, ah.","QUI-GON: It's in good order, except for the parts I need.","WATTO: ... what would the boy ride? He smashed up my Pod in the last race. It will take some time to fix it.","ANAKIN is embarrassed and steps forward.","ANAKIN: Ahhhh ... it wasn't my fault really... Sebulba flashed me with his vents. I actually saved the Pod... mostly.","WATTO: (laughing) That you did huh. The boy is good, no doubts there huh.","QUI-GON: Well, I have acquired a Pod in a game of chance. 'The fastest ever built.'","WATTO: I hope you didn't kill anyone I know for it. (laughs) So, you supply the Pod and the entry fee; I supply the boy. We split the winnings fifty-fifty, I think.","QUI-GON: If it's going to be fifty-fifty, I suggest you front the cash for the entry. If we win, you keep all the winnings, minus the cost of the parts I need... If we lose, you keep my ship.","WATTO thinks about this. ANAKIN tries not to be nervous.","QUI-GON: (Cont'd) Either way, you win.","WATTO: Deal!","QUI-GON leaves the shop.","WATTO: (cont'd) (subtitled) Yo bana pee ho-tah, meedee ya. (Your friend is a follish one, methinks.)","INT NABOO SPACECRAFT - LOUNGE","OBI-WAN stands in the lounge of the Naboo spacecraft, speaking into his comlink. QUI-GON is on the back porch of the hovel.","OBI-WAN: What if this plan fails, Master? We could be stuck here for a long time.","QUI-GON: (V.O) Well, it's too dangerous to call for help now. A ship without a power supply isn't gonna get us anywhere, and... there is something about this boy...","EXT MOS ESPA - SLAVE QUARTERS - PORCH - DAY","QUI-GON puts the comlink away as SHMI comes onto the porch. PADME, ANAKIN, JAR JAR, and ARTOO work on the engines of the Podracer in the courtyard below.","QUI-GON: You should be proud of your son. He gives without any thought of reward.","SHMI: Well he knows nothing of greed. He has a...","QUI-GON: He has special powers.","SHMI: Yes...","QUI-GON: He can see things before they happen. That's why he appears to have such quick reflexes. It is a Jedi trait.","SHMI: He deserves better than a slave's life.","QUI-GON: Had he been born in the Republic, we would have identified him early. The Force is unusually strong with him, that much is clear. Who is his father?","SHMI: There was no father. I carried him, I gave birth, I raised him, I can't explain what happened.","QUI-GON nods.","SHMI: (cont'd) Can you help him?","QUI-GON: I don't know. I didn't actually come here to free slaves.","EXT MOS ESPA - SLAVE QUARTERS - BACK YARD - DAY","KITSTER (a young boy about Anakin's age), SEEK (a red headed boy of ten), AMEE (a girl of nine), a LITTLE GIRL about six, and WALD (a RODIAN, six years old) join ANAKIN, JAR JAR, ARTOO, and PADME securing some wiring.","ARTOO whistles, hoots, in greeting.","KITSTER: Wow, a real Astro Droid... how'd you get so lucky?","ANAKIN: This isn't the half of it. I'm entered in the Boonta Race tomorrow!","KITSTER: What? With this??","WALD: (subtitled) Ona joka, Annie. (You are such a joker, Ani.)","AMEE: You've been working on that thing for years.","LITTLE GIRL: It's never gonna run.","SEEK: Come on, let's go and play ball. Keep racing, Ani, you're gonna be bug squash.","SEEK, WALD, AMEE and the LITTLE GIRL take off, laughing. JAR JAR is fiddling with one of the energy binder plates.","ANAKIN: Hey! Jar Jar! Keep away from those energy binders... If your hand gets caught in that beam, it will go numb for hours.","JAR JAR drops the tool he had, bends down to pick it up and come right up into the energy binders. It makes a little electronic pop, zaps him in the mouth and he jumps back. JAR JAR tries to say something, but his mouth is numb and his words are garbled.","JAR JAR: Ouch muy tonge is fat. Muy togne. Oucho. (Gibberish)","JAR JAR sees that a tool is stuck in the engine and reaches in to get it but gets his hand caught instead.","JAR JAR: Hey! Ou-oh. Ow, hey, I'm stuck.","C-3PO: You know, I find that Jar Jar creature very... odd.","ARTOO twitters a response.","KITSTER: You don't even know if this things gonna run.","ANAKIN jumps into the little capsule behind the two giant engines.","ANAKIN: It will.","QUI-GON approaches the GROUP and gives ANAKIN a small battery.","QUI-GON: I guess it's time we found out. Here use this power charge.","QUI-GON: Come on Kitster. Lets move away.","JAR JAR: Mm... my mout. I'm stuck. Hep I'm s..","PADME sees JAR JARS trouble and walks over to help him.","JAR JAR: Muy tonge is fat...","ARTOO beeps something.","THREEPIO: You're quite right. He's very odd indeed.","JAR JAR: Ow, th... thank yous.","JAR JAR looks at ANAKIN and gives him the thumbs-up and walks away.","ANAKIN flips a switch and the engines ignite with a ROAR. EVERYONE looks at eachother with smiles.","ANAKIN: It's working! It's working!","EXT MOS ESPA - SLAVE QUARTERS - PORCH - DAY","SHMI, watching from the porch, smiles sadly.","EXT SLAVE QUARTERS - BALCONY - NIGHT","ANAKIN sits on the balcony rail of his hovel as QUI-GON tends to a cut. The BOY leans back to look at the vast blanket of stars in the sky.","QUI-GON: Stay still, Annie. Let me clean this cut.","ANAKIN: There are so many! Do they all have a system of planets?","QUI-GON: Most of them.","ANAKIN: Has anyone been to them all?","QUI-GON: (laughs) Not likely.","ANAKIN: I want to be the first one to see them all ...","SHMI yells from inside the hovel.","SHMI: (O.S.) Annie, bedtime!","ANAKIN: (cont'd) ... Ouch!","QUI-GON wipes a patch of blood off ANAKIN's arm.","QUI-GON: There we are, good as new...","SHMI: (O.S.) Ani! I'm not going to tell you again!","QUI-GON scrapes ANAKIN's blood onto a comlink chip.","ANAKIN: What are you doing?","QUI-GON: Checking your blood for infections.","QUI-GON: You have a big day tomorrow. (beat) Goodnight.","ANAKIN rolls his eyes and runs into the hovel. QUI-GON takes the blood stained chip and inserts it into the comlink, then calls OBI-WAN.","QUI-GON: (Cont'd) Obi-Wan...","OBI-WAN: Yes, Master.","QUI-GON: I need an analysis of this blood sample I'm sending you.","OBI-WAN: Wait a minute...","QUI-GON: I need a midi-chlorian count.","OBI-WAN: The reading's off the chart... over twenty thousand. (V.O.) Even Master Yoda doesn't have a midi-chlorian count that high!","QUI-GON: No Jedi has.","OBI-WAN: What does that mean?","QUI-GON: I'm not sure.","The JEDI KNIGHT looks up and sees SHMI in the doorway watching him. Embarrassed, she goes back into the kitchen while QUI-GON ponders the situation.","EXT TATOOINE - DESERT MESA - NIGHT","The sinister looking Sith spacecraft lands on top of a desert mesa at dus, scattering a herd of banthas. DARTH MAUL walks to the edge of the mesa and studies the landscape with a pair of electrobinoculars. He picks out the lights of three different cities in the distance, then pushes buttons on his electronic armband.","Three football-sized PROBE DROIDS float out of the ship and head off in three different directions toward the cities.","DARTH MAUL stands on the mesa and watches them through his electrobinoculars.","EXT MOS ESPA - ARENA - MAIN HANGER - DAY","RACE CREWS mill about outside the Main Hanger.","INT MOS ESPA - ARENA - MAIN HANGER - DAY","The hanger is a large building with a dozen or so Podracers being readied for the race. ALIEN CREWS and PILOTS rush about, making last minute fixes on their vehicles. WATTO, QUI-GON, and JAR JAR walk through the activity.","WATTO: ... I wanta see your spaceship the moment the race is over.","QUI-GON: Patience, my good friend. You'll have your winnings before the suns set, and we'll be far away from here.","WATTO: Not if your ship belongs to me, I think... I warn you, no funny business.","QUI-GON: You don't think Anakin will win?","WATTO stops before an orange racer. Sitting to one side, having his shoulders and neck massaged by TWIN YOBANAS, is SEBULBA.","WATTO: Don't get me wrongo. I have great faith in the boy. He's a credit to your race, but Sebulba there is going to win, I think.","WATTO flies over to where SEBULBA is getting a massage as JAR JAR's eyes bug out in shock.","JAR JAR: Oh-no!","QUI-GON: Why do you think that?","WATTO: He always wins. (laughs) I'm betting heavily on Sebulba.","QUI-GON: I'll take that bet.","WATTO: (suddenly stops laughing) You'll what??!!","QUI-GON: I'll wager my new racing pod against... say... the boy and his mother.","WATTO: No Pod's worth two slaves ... not by a long shot.","QUI-GON: The boy, then ...","WATTO thinks a bit as JAR JAR looks around.","WATTO: We'll let fate decide, huh. I just happen to have a chance cube here. Blue it's the boy, red his mother...","WATTO tosses the cube down. QUI-GON lifts his hand slightly; it turns blue. QUI-GON smiles. WATTO is angry.","WATTO: (Cont'd) You won the small toss, outlander, bou you won't win the race, so ... it makes little difference.","ANAKIN and PADME enter the hanger on one of the EOPIES, pulling an engine. KITSTER and SHMI, on the other EOPIE. With THREEPIO walking alongside, ARTOO trundles behind, pulling the Pod. WATTO flies off, laughing. He passes ANAKIN as he leaves.","WATTO: (subtitled) Ouna bakeesa. Bonapa keesa pateeso, o wanna meetee chobodd. (Better stop your friends betting or I'll end up owning him too.)","ANAKIN: What'd he mean by that?","QUI-GON: I'll tell you later. Goodmorning.","QUI-GON walks over to where SHMI is seated on the EOPIE and helps her down.","ARTOO beeps at THREEPIO.","C-3PO: Oh my! Space travel sounds rather perilous.","ARTOO emits a series of beeps.","C-3PO: I can assure you they will never get me onto one of those dreadful starships!","KITSTER: (to Anakin) This is so wizard Ani! I'm sure you'll do it this time.","PADME: Do what?","KITSTER: Finish the race, of course!","PADME AMIDALA: You've never won a race?","ANAKIN: Well... not exactly...","PADME: Not even finished?!","ANAKN looks sheepish.","ANAKIN: ... Kitster's right, I will this time.","QUI-GON: Of course you will.","QUI-GON and PADME look at eachother. PADME is concerned.","EXT MOS ESPA - STREET - DAY","One of Darth Maul's PROBE DROIDS slowly floats down the main street of Mos Espa. It looks in shops and studies PEOPLE as it searches for OBI-WAN, QI-GON, or the QUEEN.","EXT MOS ESPA - DESERT RACE ARENA - DAY","An EXTREME HIGH WIDE ANGLE reveals a vast arena in the Tatooine desert. A large semi-circular amphitheatre that holds at least a hundred thousand people dominates the landscape. Large viewing platforms loom over the racetrack.","INT MOS ESPA - ARENA ANNOUNCER'S BOX - DAY (FX)","A two-headed ANNOUNCER describes the scene.","Fodesinbeed Annodue (Beed): Toogi! Toogie! Toong mee cha kulkah du Boonta magi! tah oos azalus ooval Poddraces.","Fodesinbeed Annodue (Fode): That's absolutly right. And a big turnout here, from all corners of the Outer Rim territories. I see the contestants are making their way out onto the starting grid.","EXT MOS ESPA - DESERT RACE ARENA - DAY","On the left side of the tracks across from the grandstands, a line of Podracers emerges from the large hanger, surrounded by several CREW MEMBERS. Pods are pulled by a wide variety of CREATURES and are led by aliens carrying flags. The PILOTS stand facing the royal box.","Fodesinbeed Annodue (Beed): La Yma beestoo.","Fodesinbeed Annodue (Fode): I see Ben Quadinaros from the Tund system.","Fodesinbeed Annodue (Beed): ... eh Gasgano doowa newpa Ord Petrovia!","Fodesinbeed Annodue (Fode): Two time winner, Boles Roor ...","Fodesinbeed Annodue (Beed): Poo tula moosta, woe grane champio Sebulba du Pixelito! Splastyleeya bookie ookie!!","Fodesinbeed Annodue (Fode): And a late entry, Anakin Skywalker, a local boy.","Fodesinbeed Annodue (Beed): Wampa peedunkee unko.","The crowd cheers as ANAKIN waves.","Fodesinbeed Annodue (Fode): I see the flaggers are moving onto the track.","EXT MOS ESPA - ARENA - GRANDSTAND - DAY","Colorful canopies shade some of the SPECTATORS. VENDORS sell barbecued creature parts and colorful drinks.","EXT MOS ESPA - ARENA - ANAKINS POD - DAY (FX)","JAR JAR is standing near an EOPIE who makes a stink.","JAR JAR: Peeusa!","Behind JAR JAR, SEBULBA comes up to ANAKINS pod engines and disconnects something, laughing. He continues to walk toward the cockpit where ANAKIN contines to connect things.","SEBULBA: Bazda wahota, shag. Dobiella Nok. (You won't walk away from this one, Skywalker. You slave scum.)","ANAKIN: (subtitled) Cha skrundee da pat, sleemo. (Don't count on it, slime-ball.)","ANAKIN looks the evil SEBULBA in the eye with a cold stare.","SEBULBA: (subtitled) Yoka to Bantha poodoo. (You're bantha fodder!)","SEBULBA walks away as QUI-GON walks up.","QUI-GON: You all set, Ani?","ANAKIN: Yep.","QUI-GON: All right.","QUI-GON picks him up and sets him down in the racer.","QUI-GON: Remember, concentrate on the moment. Feel. Don't think. Use your instincts.","ANAKIN: I will.","QUI-GON: (cont'd) May the Force be with you.","QUI-GON steps away as ANAKIN puts on his helmet and goggles.","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","All the PILOTS bow from the waist as JABBA THE HUTT enters the box and waves to the crowd.","Fodesinbeed Annodue (Beed): O grandio lust amu intoe tah parena, Jabba Du Hutt.","The crowd ROARS. JABBA moves out of his box to greet the crowed. One other SLUG-LIKE HUTT follows, along with humans and aliens. A SLAVE GIRL on a chain is led alongside JABBA.","JABBA: (subtitled) Chowbaso! Tam ka chee Boonta rulee ya, kee madda hodrudda du wundee. (Welcome! Begin the race!)","The powerful energy binders of the various pods ignite and engines roar.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","SHMI looks nervously to QUI-GON as he enters a veiwing platform. PADME and JAR JAR are already on board. The platform rises like an elevator.","SHMI: Is he nervous?","QUI-GON: He's fine.","PADME: You Jedi are far too reckless. The Queen is not...","QUI-GON: The Queen trusts my judgment, young handmaiden. You should too.","PADME: You assume too much.","EXT MOS ESPA - ARENA ANNOUNCER'S BOX - DAY (FX)","Fodesinbeed Annodue (Fode): Start your engines.","EXT MOS ESPA - ARENA - STARTING GRID - DAY","ANAKIN flips a switch and his engines come to life. The PILOTS flip switches, and powerful energy binders shoot between the engines. Aliens carrying large flags move off the track. JAR JAR covers his eyes.","JAR JAR: Oh, dissen ganna be messy! Mesa no watchen.","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","Jabba bites off the head of a frog and spits it at a gong, signaling the start of the race.","EXT MOS ESPA - ARENA - STARTING GRID - DAY","On a bridge over the track, a great green light at the center flashes. The Podracers shoot forward with a high-pitches scream.","ANAKIN'S engine floods and coughs - then dies. All the other Podracers except one swerve around him and dissapear down the track. The slave boy struggles to get his racer started. The two-headed announcer reports.","Fodesinbeed Annodue (Beed): An dare ovv!","Fodesinbeed Annodue (Fode): Oh...wait. Little Skywalker has stalled.","The crowd laughs and points at the stalled craft.","QUADRINAROS works franticaly on his pod.","Fodesinbeed Annodue (Fode): Well it looks like Quadrinaros is having engine trouble also.","QUADRINAROS pounds on his dashboard in frustration.","JAR JAR: C'mon Ani!","Finally, Anakin's engines ignite. He zooms away after the receeding pack of competitors, leaving one quadra-Pod racer still trying to get started. The two-headed ANNOUNCER describes the race as it progresses.","Fodesinbeed Annodue (Fode): And there goes Skywalker...","JAR JAR: Go Ani, go!","Fodesinbeed Annodue (Fode): (cont'd) He'll be hard pressed to catch up with the leaders.","EXT MOS ESPA - RACETRACK - DAY (FX)","The Podracers fly across the desert. SEBULBA is running neck and neck with MAWHONIC. They round the first turn in the track, side by side. SEBULBA drives his Pod into his rival, forcing him into the wall of a large rock formation. MAWHONIC crashes in a spectacular display of fire and smoke.","ANAKIN is much faster than the back-end stragglers and passes them easily.","One of the drivers, GASGANO, won't let ANAKIN by. ANAKIN tries to pass him on one side and is cut off. He then tries to pass him on the other side ansd is cut off. As they come up on a cliff drop-off, ANAKIN backs off, then guns it as GASGANO goes over the cliff. ANAJIN accelerates so fast that he sails right over the top of GASGANO and speeds away.","Four TUSKEN RAIDERS perched above the race course fire their rifles at the Pods racing in the canyon below them. One shot ricochets off the back of Anakin's Pod.","Fodesinbeed Annodue (Fode): Looks like a few Tusken Riaders have camped out on the canyon dune turn.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","The quadra-Pod engines start just as the racers come around the corner. The DRIVER, BEN QUADRINAROS, puts it in gear, and the four engines go off in all directions, EXPLODING in a spectacular display.","Fodesinbeed Annodue (Fode): Ooo! There goes Quadrinaros power cuppling.","The Pod drops to the ground as SEBULBA enters the arena, closely followed by all the OTHER RACERS.","PADME, SHMI, JAR JAR and QUI-GON watch another screen and look worried.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","Fodesinbeed Annodue (Beed): Sebulba! Ka pa me cheespa wata!","The crowd SCREAMS. WATTO is laughing with his friends, confident in Anakin's defeat.","ODY stops in the pits. Droids work on his engines. DUM-4 stands in front of the engine and is sucked in, causing the engine to die.","DUM-4 is spit out the back of the engine, very bent up. The engine lets out one final wheeze, then EXPLODES in a puff of smoke.","Fodesinbeed Annodue (Beed): Ody Mandrell! Coona wa wunda dunko!","ODY: Droids!","EXT MOS ESPA - ARENA - ROYAL BOX - DAY (FX)","JABBA flicks a rodent off the edge of the balcony.","EXT MOS ESPA - ARENA - PIT AREA - DAY","ARTOO, down in the pits with KITSTER, lets out a worried sigh. The driver of the quadra-Pod looks worried.","C-3PO: Where is master Anakin?","ARTOO twitters something in response.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","QUI-GON sits quietly, meditating. PADME and SHMI search the landscape for any sign of the racers.","PADME: Look, here he comes!","EXT MOS ESPA - RACETRACK - DAY (FX)","Sure enough, coming around the bend is ANAKIN, quickly gaining on the pack. The two-headed announcer describes the action. The crowd goes wild.","Fodesinbeed Annodue (Fode): It looks like Skywalker is moving up in the field...","ANAKIN continues to gain on the pack. Tension for SHMI and PADME is unbearable.","EXT MOS ESPA - ARENA - PIT AREA - DAY (FX)","KITSTER and WALD cheer as ANAKIN passes.","ARTOO lets out an excited whistle.","C-3PO: He has to complete two more circuits? Oh dear!","Lap two. SEBULBA and the pack race past the main arena. The crowd stands and YELLS as the Podracers scream off into the distance.","EXT MOS ESPA - RACETRACK - DAY (FX)","ANAKIN is powering around corners and over hills and cliffs, passing other racers right and left. SEBULBA is in the lead. He is being challenged by another racer, XELBREE.","SEBULBA slows a little, and as XELBREE pulls alongside, he opens a side vent on the racer's engine and the exhaust starts to cut through the alien's engine.","The blast cuts along the engine until finally it EXPLODES. SEBULBA deftly veers away.","Fodesinbeed Annodue (Fode): Oh, I don't care what universe you're from, that's gotta hurt.","ANAKIN works his way through a dense mass of racers as they zoom over a dune sea, kicking up dust. His Pod shakes violently as he goes over a jump. Tusken Raiders continue to shoot at the podracers. One of the Podracers, ODY, is hit by a blaster bolt and the whole thing EXPLODES.","EXT MOS ESPA - ARENA - VIEWING PLATFORM - DAY","QUI-GON, SHMI, PADME and JAR JAR continue to look fo ANAKIN.","JAR JAR: Here he comes, yahoo!","Fodesinbeed Annodue (Fode): At the start of the third and final lap, Sebulba is in the lead, closely followed by Skywalker...","ANAKIN finally catches up with SEBULBA, and runs neck and neck over the rough terrain. JAR JAR, QUI-GON, SHMI, and PADME all SCREAM s ANAKIN comes through the arena.","EXT MOS ESPA - RACETRACK - DAY (FX)","SEBULBA uses his side exhaust port to try to cut through Anakin's engines. ANAKIN manages to avoid having his engine disabled but is forced off course.","Fodesinbeed Annodue (Fode): Skywalker's been forced onto the service ramp!","On a tight corner, ANAKIN dives to the inside and takes the lead.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): It's Skywalker!","The crowd goes wild.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): (cont'd) Amazing... a quick controlled thrust and he's back on course!","JAR JAR: Did he crashed?","SEBULBA is furious. He stay's right on Anakin's tail, crowding him and pushing him through the turns. SEBULBA pushes ANAKIN harder, and the young boy has a difficult time keeping control.","Two JAWA are watching from a distance.","One of the parts on Anakin's engines begins to shake loose.","FODE BEED: (O.S.)","Fodesinbeed Annodue (Fode): Skywalker's in trouble. Sebulba takes the lead.","ANAKIN sees the problem and switches over to an auxiliary system. While he is trying to accomplish this maneuver, SEBULBA races past him.","ANAKIN tries to get around SEBULBA, to no avail. Every move ANAKIN makes, SEBULBA is able to block.","Finally, ANAKIN fakes a move into the inside as he usually does, then tries to go around SEBULBA on the outside. They race side by side down the final stretch of the track.","Fodesinbeed Annodue (Fode): He's catching Sebulba.","Fodesinbeed Annodue (Beed): Inkabunga.","JAR JAR: Careful, Ani, careful, Ani!","SEBULBA veers toward ANAKIN and bangs into his Pod. He crashes into ANAKIN over and over. The young boy struggles to maintain control as the steering rods on the two Pods become hooked together. SEBULBA laughs at ANAKIN.","Fodesinbeed Annodue (Fode): That little human being is out of his mind.","Fodesinbeed Annodue (Beed): Punda tah punda!","Fodesinbeed Annodue (Fode): They're side by side!","Fodesinbeed Annodue (Beed): Bongo du bongu!","As they head for the final stretch, ANAKIN fights to unlock the steering rods by trying to pull away from SEBULBA. The strain on the steering rod is tremendous. The release of tension sends SEBULBA into a spin as he crashes. One engine EXPLODES, then the other. SEBULBA skids and slides to a smoking stop. He slams his fists against his pod in discust.","SEBULBA: Poodu!","ANAKIN flies by as the crowd stands, CHERRING. QUI-GON, SHMI and PADME smile. JAR JAR gets excited. WALD and KITSTER jump up and down in excitment. ARTOO whistles hysterically.","THREEPIO: I can't believe it.","ANAKIN races over the finish line, the winner.","INT MOS ESPA - ARENA ANNOUNCERS BOX - DAY (FX)","The two-headed announcer excitedly calls the finish.","Fodesinbeed Annodue (Fode): The crowds are going nuts! Oh Ah Oh Ah (rock head in tandem with partner)","EXT MOS ESPA - ARENA - DAY","As ANAKIN stops the Podracer, KITSTER turns up, and they embrace. Hundreds of SPECTATORS join them and put ANAKIN on their shoulders, marching off, CHEERING AND CHANTING. QUI-GON, SHMI, PADME and JAR JAR rush over to him.","ANAKIN: Mom! I did it! Yeah!","INT MOS ESPA - ARENA - PRIVATE BOX - DAY","Several ALIENS leave Watto's box, laughing and counting their money. WATTO's angry.","INT MOS ESPA - ARENA - ROYAL BOX - DAY","JABBA sits asleep in his box. His TWILEK majordomo taps him on the shoulder letting him know the race is over.","EXT MOS ESPA - ARENA - MAIN HANGER - DAY","The Main Hanger is almost deserted as RACERS depart.","INT MOS ESPA - ARENA - MAIN HANGER - DAY","JAR JAR picks up ANAKIN giving him a great hug.","JAR JAR: Great job, Ani!","Then PADME gives him a hug.","PADME: We owe you everything, Ani.","Then SHMI gives him a kiss.","SHMI: It's so wonderful, Ani. You have brought hope to those who have none. I'm so very proud of you...","ANAKIN: Ah...","INT MOS ESPA - ARENA - PRIVATE BOX - DAY","WATTO sees QUI-GON standing in the doorway.","WATTO: You! You swindled me! You knew the boy was going to win! Somehow you knew it! I lost everything.","WATTO flies up to QUI-GON and puts his face right up against QUI-GON's. QUI-GON simply smiles.","QUI-GON: Whenever you gamble, my friend, eventually you'll lose. Bring the parts to the main hanger. I'll come by your shop later so you can release the boy.","WATTO: You can't have him! It wasn't a fair bet!","QUI-GON: Would you like to discuss it with the Hutts ... I'm sure they can settle this.","WATTO: Take him!","QUI-GON nods and starts to leave.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","ARTOO cruises ahead of QUI-GON and PADME, who are riding one of the EOPIES; JAR JAR rides the other. They stop in front of the sleek Naboo spacecraft. OBI-WAN comes out of the ship and joins them.","QUI-GON: Well, we have all the essential parts we need. I'm going back...some unfinished business. I won't be long.","OBI-WAN: Why do I sense we've picked up another pathetic life form...?","QUI-GON: It's the boy who's responsible for getting those parts. Get this hyperdrive generator installed.","OBI-WAN: Yes, Master. It shouldn't take long.","QUI-GON turns and rides back to town on the EOPIE.","EXT TATOOINE - STREET - SLAVE QUARTERS - DAY","Farther down the street QUI-GON and ANAKIN head toward Anakin's hovel. QUI-GON takes a handful of credits from beneath his poncho and hands them to the boy.","QUI-GON: Hi!","ANAKIN: (suddenly beaming) Yes!","INT ANAKIN'S HOVEL - MAIN ROOM - DAY","SHMI is cleaning up as ANAKIN bursts through the door, followed by QUI-GON.","ANAKIN: Mom, he sold the Pod. Look at all the money we have!","ANAKIN pulls a bag of coins out of his pocket.","SHMI: Oh, my goodness, That's wonderful Ani.","QUI-GON: And Anakin has been freed.","ANAKIN: What?!?","QUI-GON: You're no longer a slave.","ANAKIN: Did you hear that?","SHMI: Now you can make your dreams come true, Annie. You're free! (turns to Qui-Gon) Will you take him with you? Is he to become a Jedi?","QUI-GON: Yes. Our meeting was not a coincidence. Nothing happens by accident.","ANAKIN: You mean I get to come with you in your starship?!","QUI-GON kneels down to the boy.","QUI-GON: Anakin, training to become a Jedi is not be a easy challenge. And if you succeed, it's a hard life.","ANAKIN: But I want to go. It's what I've always dreamed of doing. Can I go, Mom?!","SHMI: Anakin, this path has been placed for you; the choice is yours alone.","ANAKIN thinks a bit as he looks to his mother.","ANAKIN: I want to do it.","QUI-GON: Then, pack your things. We haven't much time.","ANAKIN: Yipee!!","ANAKIN hugs his mom and starts for the other room, then stops. ANAKIN has realized something.","ANAKIN: (Cont'd) What about Mom? Is she free too?","QUI-GON: I tried to free your mother, Ani, but Watto wouldn't have it.","ANAKIN: You're coming, aren't you, Mom?","SHMI: Son, my place is here. My future is here. It is time for you to let go...","ANAKIN: I don't want things to change.","SHMI: But you can't stop change any more than you can stop the suns from setting. Now... hurry.","ANAKIN and SHMI hug. ANAKIN runs into the other room.","SHMI: (Cont'd) Thank you.","QUI-GON: I'll watch after him. You have my word. Will you be all right?","INT ANAKIN'S HOVEL - BEDROOM - DAY","ANAKIN hurries to throw the last of his things into his backpack. He walks over and pushes the button on the droid to wake him up. THREEPIO stares at him blankly.","C-3PO: Oh! Oh my, oh. Hello Master Anakin.","ANAKIN: Well, Threepio, I'm free ... and I'm going away ... in a starship ...","C-3PO: Master, Annie, you are my maker, and I wish you well. However, I should prefer it if I were a little more... comepleted.","ANAKIN: I'm sorry I wasn't able to finish you, Threepio ... give you coverings and all ... I'm going to miss working on you. You've been a great pal. I'll make sure Mom doesn't sell you or anything.","C-3PO stares at ANAKIN as he rushes out of the room.","C-3PO: Sell me?!?","ANAKIN: Bye.","EXT MOS ESPA - STREET - SLAVE QUARTERS - DAY","QUI-GON and ANAKIN exit the hovel. SHMI stands in the doorway. QUI-GON and ANAKIN start to walk down the street, then ANAKIN stops to look back at his mother standing in the doorway. He turns back to QUI-GON, then turns and runs back to his mother. SHMI hugs ANAKIN. QUI-GON watches from the distance. She kneels down and looks him in the face.","ANAKIN: (starting to cry) I can't do it, Mom. I just can't do it.","SHMI: Annie...","ANAKIN: Will I ever see you again?","SHMI: What does your heart tell you?","ANAKIN: I hope so... yes... I guess.","SHMI: Then we will see each other again.","ANAKIN: I will come back and free you, Mom... I promise.","SHMI: Now be brave, and don't look back... don't look back.","SHMI hugs ANAKIN, then turns him around so he is facing QUI-GON, and off he marches, like the brave little trooper that he is. He marches right past QUI-GON, starring right ahead, tears in his eyes, determined not to look back.","EXT TATOOINE - DESERT MESA - DAY","The PROBE DROID beeps and whistles to DARTH MAUL. The SITH LORD gets on a speeder bike and follows the PROBE DROID into Mos Espa.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","QUI-GON and ANAKIN run toward the Naboo spacecraft. ANAKIN is having a hard time keeping up.","ANAKIN: Qui-Gon, sir, wait, I'm tired!","QUI-GON turns to answer and sees a DARK-CLOAKED FIGURE bearing down on a speeder bike.","QUI-GON: Anakin, drop!","ANAKIN drops to the ground just as DARTH MAUL sweeps over him. DARTH MAUL jumps off his speeder bike, and before he has hit the ground, the Sith Lord has swund a death blow with his laser sword that is barely blocked by QUI-GON.","ANAKIN picks himself up. The two galactic warriors, Sith and Jedi, are bashing each other with incredible blows. They move in a continual cloudof dust, smashing everything around them. This is a fierce fight. ANAKIN gets up, bewildered by the confrontation.","QUI-GON: (Cont'd) Annie, tell them to take off!","QUI-GON struggles to fend off the relentless onslaught as ANAKIN races to the ship.","INT NABOO SPACECRAFT - COCKPIT","CAPTAIN PANAKA, ANAKIN, and PADME rush into the cockpit where OBI-WAN and RIC OLIE are checking the hyperdrive.","CAPTAIN PANAKA: Qui-Gon's in trouble!","OBI-WAN: Take off. Over there! Fly low!","In the distance is a small cloud of dust.","EXT TATOOINE - DESERT - NABOO SPACECRAFT - DAY","QUI-GON and DARTH MAUL continue their sword battle. Leaping over one another in an incredible display of acrobatics, the two warriors hear the ship fly over them a few feet off the ground. QUI-GON almost disappears for a moment.","Before DARTH MAUL knows what's happening, QUI-GON is on the spacecrat's ramp.","EXT TATOOINE - NABOO SPACECRAFT RAMP - DAY","The ramp closes, and the Naboo craft rockets away, leaving the Sith Lord standing alone.","EXT SPACE - NABOO SPACECRAFT (FX)","The sleek spacecraft rockets away from the planet Tatooine.","INT NABOO SPACECRAFT - HALLWAY","ANAKIN and OBI-WAN rush into the hallway to find QUI-GON collapsed on the floor opposite the entry. ARTOO is looking over him.","The JEDI is breathing hard, wet with sweat and covered in dirt.","ANAKIN and OBI-WAN come through the door.","ANAKIN: Are you all right?","QUI-GON: I think so.","OBI-WAN: What was it?","QUI-GON: I'm not sure... but he was well trained in the Jedi arts. My guess is he was after the Queen...","ANAKIN: What are we going to do about it?","OBI-WAN gives ANAKIN a 'who are you ? ' look. ANAKIN returns an innocent stare.","QUI-GON: We will be patient. Anakin Skywalker, meet Obi-Wan Kenobi.","ANAKIN: Hi. You're a Jedi too? Pleased to meet you.","OBI-WAN and QUI-GON look at each other.","EXT. SPACE - NABOO SPACECRAFT (FX)","The ship flies away from Tatooine.","EXT THEED - NIGHT (FX)","The Palace can be seen in the distance.","INT NABOO PALACE - THRONE ROOM - THEED - NIGHT","NUTE sits in a strange, mechanical walking chair, which moves beside SIO BIBBLE. A group of armed GUARD DROIDS march behind them.","NUTE: Your Queen is lost, your people are starving, and you, Governor, are going to die, much sooner than your people, I'm afraid.","BIBBLE: This invasion will gain you nothing. We're a democracy. The people have decided...","NUTE: Take him away.","BIBBLE is taken away as OOM-9 approaches NUTE.","OOM-9: My troops are in position to begin searching the swamps for these rumored underwater villages... they will not stay hidden for long.","INT NABOO SPACECRAFT - MAIN AREA","The ship is asleep. The lights are dim as PADME walks into the main room. She goes to a monitor and watches the BIBBLE plea recording. JAR JAR is stretched out in a chair, snoring. ARTOO is to one side, cooing as he rests.","PADME appears tired. She senses someone watching her and turns around with a start. She sees ANAKIN sitting in the corner, shivering and looking very dejected.","PADME: Are you all right?","ANAKIN: It's very cold.","She goes over to him. He looks up at her with tears in his eyes. He is holding his arms to keep himself warm. PADME gives him her over-jacket.","PADME: You come from a warm planet, Annie. A little too warm for my taste. Space is cold.","ANAKIN: You seem sad.","PADME AMIDALA: The Queen is... worried. Her people are suffering... dying. She must convince the Senate to intervene, I'm not sure what will happen.","ANAKIN: (he pulls something from his pocket) I made this for you. So you'd remember me. I carved it out of a japor snippet... It will bring you good fortune.","ANAKIN hands a wooden pendant to PADME. She inspects it, then puts it around her neck.","PADME AMIDALA: It's beautiful, but I don't need this to remember you by. Many things will change when we reach the capital, Ani. My caring for you will remain.","ANAKIN: I care for you too. Only I...","ANAKIN is disturbed about something. Tears are in his eyes.","PADME: ...Miss your mother.","ANAKIN looks at her, unable to speak. She hugs him.","EXT SPACE - PLANET CORUSCANT (FX)","MOVE with the ship as it heads toward Coruscant.","INT CORUSCANT - CITYSCAPE - NABOO SPACECRAFT - DAY (FX)","The spacecraft flies over the endless cityscape of Coruscant, the capital of the galaxy.","INT NABOO SPACECRAFT - COCKPIT","ANAKIN looks out the cockpit window in awe.","RIC OLIE: Coruscant... the entire planet is one big city. There's Chancellor Valorum's shuttle. And look over there, Senator Palpatine is waiting for us.","INT NABOO SPACECRAFT - DAY (FX)","The ship flies through the cityscape of Coruscant.","EXT CORUSCANT - SENATE LANDING PLATFORM - DAY","Supreme Chancellor VALORUM, SEVERAL GUARDS, and SENATOR PALPATINE stand on a landing platform.","The sleek Naboo spacecraft lands on the platform high above the street level of the galactic capital. The ramp lowers. OBI-WAN, QUI-GON, JAR JAR and ANAKIN descend the ramp first and bow before PALPATINE and VALORUM.","CAPTAIN PANAKA, TWO GUARDS, QUEEN AMIDALA, then PADME, RABE, EIRTAE, and MORE GUARDS descend the ramp. QUEEN AMIDALA stops before the group.ANAKIN and JAR JAR stand to one side, looking at the huge city. PADME smiles at ANAKIN. PALPATINE bows before the Queen.","PALPATINE: It is a great gift to see you alive, Your Majesty. With the communications breakdown, we've become very concerned. I'm anxious to hear your report on the situation. May I present Supreme Chancellor Valorum.","VALORUM: Welcome, Your Highness. It's an honor to finally meet you in person.","AMIDALA: Thank you, Supreme Chancellor.","VALORUM: (cont'd) I must relay to you how distressed everyone is over the currant situation. I've called for a special session of the Senate to hear your position.","AMIDALA: I am grateful for your concern, Chancellor.","PALPATINE starts to lead QUEEN AMIDALA and her RETINUE off the platform toward a waiting air taxi.","PALPATINE: There is a question of precedure, but I feel confident we can overcome it...","JAR JAR and ANAKIN follow the QUEEN, PALPATINE, PADME, RABE and EIRTAE to the taxi.","QUI-GON and OBI-WAN stop to speak with VALORUM as they watch the group head towards the taxi.","QUI-GON: I must speak with the Jedi Council immediately. The situation has become more complicated.","INT PALPATINE'S QUARTERS - ANTEROOM - DAY","QUEEN AMIDALA is sitting listening to PALPATINE. EIRTAE and RABE stand behind the QUEEN; PADME is nowhere to be seen. ANAKIN and JAR JAR are waiting in an adjoining room. They can see the Queen but cannot hear what is being said.","CAPTAIN PANAKA enters, then goes into the room with QUEEN AMIDALA.","INT PALPATINE'S QUARTERS - LIVING AREA - DAY","PALPATINE is pacing as CAPTAIN PANAKA enters. EIRTAE and RABE stand to one side.","PALPATINE: ...the Republic is not what it once was. The Senate is full of greedy, squabbling delegates. There is no interest in the common good. I must be frank, Your Majesty, there is little chance the Senate will act on the invasion.","AMIDALA: Chancellor Valorum seems to think there is hope.","PALPATINE: If I may say so, Your Majesty, the Chancellor has little real power... he is mired by baseless accusations of corruption. The bureaucrats are in charge now.","AMIDALA: What options have we?","PALPATINE: Our best choice would be to push for the election of a stronger Supreme Chancellor. One who will take control of the bureaucrats, and give us justice. You could call for a vote of no confidence in Chancellor Valorum.","AMIDALA: He has been our strongest supporter?","PALPATINE: Our only other choice would to be to submit a plea to the courts...","AMIDALA: The courts take even longer to decide things than the Senate. Our people are dying, Senator... We must do something quickly to stop the Federation.","PALPATINE: To be realistic, Your Majesty, I think we're going to have to accept Federation control for the time being.","AMIDALA: That is something I cannot do.","EXT TEMPLE OF THE JEDI - DAY (FX)","A unique building with it tall spires stands out against the Coruscant skyline. A small transport passes by the vast temple.","INT TEMPLE OF THE JEDI - COUNCIL CHAMBERS - DAY","QUI-GON stands in a tall stately room. Twelve JEDI sit in a semi-circle. OBI-WAN stands behind QUI-GON in the center of the room.","The Senior Jedi is MACE WINDU. To his left is an alien Jedi named KI-ADI-MUNDI, and to his right, the Jedi Master, YODA.","QUI-GON: ... He was trained in the Jedi arts. My only conclusion can be that it was a Sith Lord.","KI-ADI: Impossible! The Sith have been extinct for a millenium.","MACE WINDU: I do not believe the Sith could have returned without us knowing.","YODA: Ah, hard to see, the dark side is.","MACE WINDU: We will use all our resources here to unravel this mystery and discover the identity of your attacker... May the Force be with you.","OBI-WAN turns and leaves, but QUI-GON continues to face the Council.","YODA: (Cont'd) Master Qui-Gon more to say have you?","QUI-GON: With your permission, my Master. I have encountered a vergence in the Force.","YODA: A vergence, you say?","MACE WINDU: Located around a person?","QUI-GON: A boy... his cells have the highest concentration of midi-chlorians I have ever seen in a life form. It is possible he was conceived by the midi-chlorians.","MACE WINDU: You're referring to the prophesy of the one who will bring balance to the Force... you believe it's this boy??","QUI-GON: I don't presume...","YODA: But you do! Revealed your opinion is.","QUI-GON: I request the boy be tested, Master.","The JEDI all look to one another. They nod and turn back to OBI-WAN and QUI-GON.","YODA: Trained as a Jedi, you request for him?","QUI-GON: Finding him was the will of the Force... I have no doubt of that.","MACE WINDU: Bring him before us, then.","INT QUEENS QUARTERS - CORUSCANT - DAY","Anakin, tentative, walks down one of the long hallways in Senator Palpatine's quarters. He stops before a door that is flanked by a GUARD.","The GUARD speaks into his comlink as ANAKIN looks around a bit nervously.","GUARD: The boy is here to see Padme.","RABE: (v.o.) Let him in.","The doors open, and ANAKIN enters the Queen's quarters.","RABE greets ANAKIN as TWO OTHER HANDMAIDENS come and go into the next room.","RABE: I'm sorry, Ani, but Padme is not here right now.","The Queen speaks out in the next room.","AMIDALA: (O.S.) Who is it?","RABE: Anakin Skywalker, to see Padme, Your Highness.","The QUEEN moves into the doorway and studies ANAKIN. ANAKIN bows and looks down, then takes a peek at her.","PADME AMIDALA: I've sent Padme on an errand.","ANAKIN: I'm on my way to the Jedi temple to start my training, I hope.","The QUEEN just stares at him.","ANAKIN: (Cont'd) I may not see her again... so... I came to say goodbye.","AMIDALA: We will tell her for you. We are sure her heart goes with you.","ANAKIN bows again.","ANAKIN: Thank you, Your Highness.","The QUEEN dissapears behind the doorway, and ANAKIN exits.","EXT CORUSCANT - GALACTIC SENATE BUILDING - DAY (FX)","A large, distinctive looking domed building stands out amid the cityscape of Coruscant.","INT MAIN ROTUNDA - GALACTIC SENATE - DAY","The Senate chambers are huge. Thousands of SENATORS and their AIDES sit in the circular assembly area. CHANCELLOR VALORUM sits in an elevated area in the center. SENATOR PALPATINE, QUEEN AMIDALA, EIRTA, RABE, and CAPTAIN PANAKA sit in the Naboo congressional box, which is actually a floating platform.","VALORUM: The Chair recognizes the Senator from the sovereign system of Naboo.","The Naboo congressional box floats into the center.","PALPATINE: Supreme Chancellor, delegates of the Senate. A tragedy has occurred which started with the taxation of trade routes, and has now engulfed our entire planet in the oppression of the Trade Federation.","A second box rushes into the center of the Senate. It is filled with Federation trade barons led by LOTT DOD, the Senator for the Federation.","LOTT DOD: This is outrageous! I object to the Senator's statements!","VALORUM: The Chair does not recognize the Senator from the Trade Federation at this time. Please return to your station.","LOTT DOD reluctantly moves back to his place.","PALPATINE: To state our allegations, I present Queen Amidala, recently elected ruler of Naboo, who speaks on our behalf.","QUEEN AMIDALA stands and addresses the assembly. There is some applause.","AMIDALA: Honorable representatives of the Republic, I come to you under the gravest of circumstances. Naboo system has been invaded by the droid armies of the Trade...","LOTT DOD: I object! There is no proof. This is incredible. We recommend a commission be sent to Naboo to ascertain the truth.","A third box representing Malastare moves into the center of the room. AKS MOE, the Ambassador, addresses the convention.","AKS MOE: The Congress of Malastare concurs with the honorable delegate from the Trade Federation. A commission must be appointed.","VALORUM: The point...","VALORUM confers with several of his AIDES and VICE CHAIRMAN MAS AMEDDA. PALPATINE whispers something to the QUEEN.","PALPATINE: Enter the bureaucrats, the true rulers of the Republic, and on the payroll of the Trade Federation, I might add. This is where Chancellor Valorum's strength will dissapear.","VALORUM: The point is conceded ... will you defer your motion to allow a commission to explore the validity of your accusations?","QUEEN AMIDALA is angry but remains composed.","PADME AMIDALA: (angrily) I will not defer... I have come before you to resolve this attack on our sovereignty now. I was not elected to watch my people suffer and die while you discuss this invasion in a committee. If this body is not capable of action, I suggest new leadership is needed... I move for a 'vote of no confidence'... in Chancellor Valorum's leadership.","This causes a great stir in the assembly. A loud murmur cresendos into a roar of approval and jeers.","ASSEMBLY: Vote now! Vote now! Vote now!","CHANCELLOR VALORUM is stunned and stands back, speechless. His Vice Chair, MAS AMEDDA, takes over.","MAS AMEDDA: Order!","Things settledown a little. The Federation box settles next to AMIDALA.","PALPATINE stands next to AMIDALA.","PALPATINE: Now they will elect a new Chancellor, a strong Chancellor, one who will not let our tragedy continue...","EXT PALACE OF THE JEDI - BALCONY - SUNSET","OBI-WAN and QUI-GON stand outside the palace on a balcony.","OBI-WAN: The boy will not pass the Council's tests, Master. He's too old.","QUI-GON: Anakin will become a Jedi ... I promise you.","OBI-WAN: Do not defy the Council, Master... not again.","QUI-GON: I shall do what I must, Obi-Wan.","OBI-WAN: If you would just follow the code you would be on the council. They will not go along with you this time.","QUI-GON: You still have much to learn, my young apprentice.","INT PALACE OF THE JEDI - COUNCIL CHAMBERS - SUNSET","ANAKIN stands before the TWELVE JEDI. MACE WINDU holds a small hand-held viewing screen. In rapid succession, images flash across the screen.","ANAKIN: A ship... a cup... a ship... a speeder.","MACE WINDU turns the viewing screen off and nods toward YODA.","YODA: Hmm... how feel you?","ANAKIN: Cold, sir.","YODA: Afraid are you?","ANAKIN: No, sir.","YODA: See through you, we can.","MACE WINDU: Be mindful of your feelings...","KI-ADI: Your thoughts dwell on your mother.","ANAKIN: I miss her.","YODA: Afraid to lose her... I think, hmm?","ANAKIN: (a little angry) What's that got to do with anything?","YODA: Everything. Fear is the path to the dark side... fear leads to anger... anger leads to hate.. hate leads to suffering... I sense much fear in you.","INT PALPATINES QUARTERS - SUNSET","QUEEN AMIDALA is standing, staring out the window, with JAR JAR. The lights of the city shimmer before them. EIRTAE and SABE stand near the door. JAR JAR turns to face the QUEEN and sees her sadness.","JAR JAR: Yousa tinken yousa people ganna die?","PADME AMIDALA: I don't know.","JAR JAR: Gungans get pasted too, eh?","AMIDALA: I hope not.","JAR JAR: Gungans no die'n without a fight... wesa warriors. Wesa gotta grand army. Dat why yousa no liken us, mesatinks.","PALPATINE and CAPTAIN PANAKA rush into the room and bow before the QUEEN.","CAPTAIN PANAKA: Your Highness? Your Highness, Senator Palpatine has been nominated to succeed Valorum as Supreme Chancellor.","PALPATINE: A surprise, to be sure, but a welcome one. Your Majesty, if I am elected, I promise put an end to corruption.","AMIDALA: Who else can be nominated?","CAPTAIN PANAKA: Bail Antilles of Alderaan and Ailee Teem of Malastare.","PALPATINE: I feel confident ... our 'situation' will create a strong sympathy vote for us ... I will be Chancellor.","AMIDALA: I fear by the time you have control of the bureaucrats, Senator, there will be nothing left of our our people, our way of life...","PALPATINE: I understand your concern, Your Majesty; unfortunately, the Federation has possession of our planet.","PADME AMIDALA: Senator, this is your arena. I feel I must return to mine. I've decided to go back to Naboo.","PALPATINE: Go back!! But, Your Majesty, be realistic! They'll force you to sign the treaty.","AMIDALA: I will sign no treaty, Senator. My fate will be no different from that of our people. Captain!","CAPTAIN PANAKA: Your Highness?","AMIDALA: Ready my ship!","CAPTAIN PANAKA: Please, Your Majesty, stay here... where it's safe.","AMIDALA: It is clear to me now that the Republic no longer functions. I pray you will bring sanity and compassion back to the Senate.","AMIDALA and her RETINUE exit the room. PALPATINE is strieght-faced.","INT TEMPLE OF THE JEDI - COUNCIL CHAMBERS - TWILIGHT","ANAKIN, OBI-WAN, and QUI-GON stand before the TWELVE MEMBERS OF THE JEDI COUNCIL.","KI-ADI: The Force is strong with him.","QUI-GON: He's to be trained, then?","The COUNCIL MEMBERS look to one another.","MACE WINDU: No. He will not be trained.","ANAKIN is crestfallen and stares at MACE.","MACE WINDU: He is too old.","QUI-GON: He is the chosen one... you must see it.","YODA: Clouded, this boy's future is.","QUI-GON: I will train him, then. I take Anakin as my Padawan learner.","OBI-WAN reacts with surprise. ANAKIN watches with interest.","YODA: An apprentice, you have, Qui-Gon. Impossible, to take on a second.","MACE WINDU: The code forbids it.","QUI-GON: Obi-Wan is ready...","OBI-WAN: I am ready to face the trials.","YODA: Our own council we will keep on who is ready.","QUI-GON: He is headstrong and he has much to learn of the living Force, but he is capable. There is little more he can learn from me.","YODA: Young Skywalker's fate will be decided later.","MACE WINDU: Now is not the time for this... the Senate is voting for a new Supreme Chancellor and Queen Amidala is returning home, which will put pressure on the Federation, and could widen the confrontation.","KI-ADI: And draw out the Queen's attacker.","MACE WINDU: Go with the Queen to Naboo and discover the identity of the dark warrior. That is the clue we need to unravel this mystery of the Sith.","YODA: May the Force be with you.","OBI-WAN, QUI-GON, and ANAKIN bow then leave.","EXT CORUSCANT - SENATE LANDING PLATFORM - NIGHT","QUI-GON, OBI-WAN, and ANAKIN stand on the landing platform outside the ship. ARTOO whistles a happy tune. The wind whips at ANAKIN as he listens to the JEDI.","OBI-WAN: It is not disrespect, Master, it is the truth.","QUI-GON: From your point of view....","OBI-WAN: The boy is dangerous... they all sense it. Why can't you?","QUI-GON: His fate is uncertain, he's not dangerous. The Council will decide Anakin's future... that should be enough for you. Now get on board!","OBI-WAN reluctantly boards the Naboo spacecraft. QUI-GON goes over to ANAKIN who is standing next to ARTOO.","ANAKIN: Master Qui-Gon, sir, I don't want to be a problem.","QUI-GON: You won't be, Ani... I'm not allowed to train you, so I want you to watch me and be mindful...","ARTOO turns and rolls over to the edge of the platform watching the trafic.","QUI-GON: (cont'd) ... always remember, your focus determines your reality. Stay close to me and you will be safe.","ANAKIN: Master, sir... I heard Yoda talking about midi-chlorians. I've been wondering, what are midi-chlorians?","QUI-GON: Midi-chlorians are a microcopic lifeform that reside within all living cells.","ANAKIN: They live inside of me?","QUI-GON: In your cells, yes... and we are symbionts with them.","ANAKIN: Symbionts?","QUI-GON: Life forms living together for mutual advantage. Without the midi-chlorians, life could not exist, and we would have no knowledge of the Force. They continually speak to us, telling us the will of the Force. When you learn to quiet your mind, you will hear them speaking to you.","ANAKIN: I don't understand.","QUI-GON: With time and training, Ani... you will... you will.","Two taxis pull up, and CAPTAIN PANAKA, QUEEN AMIDALA, and her HANDMAIDENS stop before the JEDI.","QUI-GON: (Cont'd) Your Majesty, it is our pleasure to continue to serve and protect you.","AMIDALA: I welcome your help. Senator Palpatine fears the Federation means to destroy me.","QUI-GON: I assure you, I will not let that happen.","AMIDALA enters the ship, followed by her HANDMAIDENS. JAR JAR hugs QUI-GON and ANAKIN.","JAR JAR: Wesa goen home!","ANAKIN: C'mon, Artoo.","They ALL move onto the ship. The ship takes off.","INT NABOO PALACE - THRONE ROOM - THEED - NIGHT","NUTE and RUNE stand before a hologram of DARTH SIDIOUS.","DARTH SIDIOUS: Is the planet secure?","NUTE: We have taken over the last pockets of primitive life forms. We are in complete control of the planet now.","DARTH SIDIOUS: Good. I will see to it that in the Senate, things stay as they are. I'm sending my apprentice, Darth Maul, to join you.","NUTE: Yes, my Lord.","DARTH SIDIOUS fades off.","RUNE: A Sith Lord here?!!","INT SPACE - NABOO SPACECRAFT COCKPIT","ANAKIN stands next to the PILOT, RIC OLIE, pointing to various buttons and gauges.","RIC OLIE: Those are the forward stabalizers.","ANAKIN: And those two control the pitch?","RIC OLIE: You catch on pretty quick.","INT NABOO SPACECRAFT - QUEEN'S CHAMBERS","SABE and EIRTAE stand behind QUEEN AMIDALA as she talks with QUI-GON and CAPTAIN PANAKA. OBI-WAN and JAR JAR watch.","CAPTAIN PANAKA: As soon as we land the Federation will arrest you, and force you to sign the treaty.","QUI-GON: I agree... I'm not sure what you wish to accomplish by this.","PADME AMIDALA: I will take back what's ours.","CAPTAIN PANAKA: There are too few of us, Your Highness.... we have no army.","QUI-GON: And I can only protect you. I cannot fight a war for you.","AMIDALA: Jar Jar Binks!","JAR JAR looks around, puzzled.","JAR JAR: Mesa, Your Highness?","AMIDALA: Yes. I need your help.","INT NABOO CRUISER COCKPIT - DAY","The Naboo Cruiser heads toward the lush green planet. There is only one Federation battle cruiser orbiting. OBI-WAN and CAPTAIN PANAKA spot it on the view screen.","RIC OLIE: I have one battleship on my scope.","OBI-WAN: It's a droid control ship.","CAPTAIN PANAKA: They've probably spotted us.","OBI-WAN: We haven't much time.","INT NABOO SPACECRAFT - MAIN HOLD","The QUEEN, CAPTAIN PANAKA, TROOPS, and HANDMAIDENS get ready to disembark as the ship lands deep within the forest.","EXT NABOO SWAMP - DAY","The Naboo spacecraft has landed in the Gungan swamp. TROOPS unload the ships in the background as OBI-WAN approaches QUI-GON.","OBI-WAN: Jar Jar is on his way to the Gungan city, Master.","QUI-GON's thoughts are elsewhere.","QUI-GON: Good.","OBI-WAN and QUI-GON stand silently for a moment.","OBI-WAN: Do you think the Queen's idea will work?","QUI-GON: The Gungans will not easily be swayed, and we cannot use our power to help her.","OBI-WAN: I'm... I'm sorry for my behavior, Master. It is not my place to disagree with you about the boy... and I am grateful you think I am ready to take the trials.","QUI-GON looks at him for a long moment.","QUI-GON: You've been a good apprentice, Obi-Wan, and you're a much wiser man than I am. I foresee you will become a great Jedi Knight.","EXT NABOO SWAMP LAKE - DAY","JAR JAR exits the swamp lake and walks over to CAPTAIN PANAKA, OBI-WAN, and QUI-GON. QUEEN AMIDALA, PADME, EIRTAE, RABE, ANAKIN, ARTOO, FOUR PILOTS, and EIGHT GUARDS stand in the background near the starship.","JAR JAR: Dare-sa nobody dare. Da Gungan city is diserted. Some kinda fight, mesa tinks.","OBI-WAN: Do you think they have been taken to camps?","CAPTAIN PANAKA: More likely they were wiped out.","JAR JAR: Mesa no tink so.","QUI-GON: Do you know where they are, Jar Jar?","JAR JAR: When in trouble, Gungans go to sacred place. Mesa show you. C'mon, mesa show you.","EXT NABOO SWAMP - DAY","The GROUP follows JAR JAR as he moves through the swamp. JAR JAR stops and sniffs the air. The GROUP stop behind him.","EXT NABOO SACRED TEMPLE RUINS - DAY","JAR JAR, QUEEN AMIDALA, ANAKIN, ARTOO, QUI-GON, OBI-WAN, PADME, RABE, EIRTAE, and the rest of her group are led through a clearing full of GUNGAN refugees. At the far end are the ruins of a grand temple with massive carved heads. BOSS NASS and several other COUNCIL MEMBERS walk out on the top of a three-quarter-submerged head.","CAPTAIN TARPALS: You Honor, Queen Amidala of the Naboo.","JAR JAR: Ah, ello dare, ye big Boss Nass, You Honor.","BOSS NASS: Jar Jar Binks, who's da uss-en others??","QUEEN AMIDALA steps forward. CAPTAIN PANAKA and the JEDI stand behind her.","AMIDALA: I am Queen Amidala of the Naboo... I come before you in peace.","BOSS NASS: Ah, Naboo biggen. Yousa bringen da Mackineeks... Yousa all bombad.","CAPTAIN PANAKA and HALF A DOZEN GUARDS and PILOTS look around nervously, and the GUNGAN TROOPS lower their long power poles. The JEDI stay relaxed. ANAKIN watches everything with great interest.","PADME AMIDALA: We have searched you out 'cause we wish to form an alliance...","Suddenly, PADME steps forward.","PADME: Your Honor...","BOSS NASS: Whosa dis?","PADME: I am Queen Amidala.","JAR JAR and ANAKIN are stunned.","PADME: (points to Queen) This is my decoy... my protection... my loyal bodyguard.","OBI-WAN and QUI-GON give each other a knowing look.","PADME AMIDALA: (Cont'd) ... I am sorry for my deception, but it was necessary to protect myself. Although we do not always agree, Your Honor, our two great societies have always lived in peace. The Trade Federation has destroyed all that we have worked so hard to build. If we do not act quickly, all will be lost forever... I ask you to help us... (PADME drops to her knees before the GUNGANS.)... no, I beg you to help us. We are your humble servants...","There is a gasp from CAPTAIN PANAKA, HIS TROOPS, and the HANDMAIDENS.","PADME AMIDALA: (Cont'd) ... Our fate is in your hands.","Slowly, CAPTAIN PANAKA and his TROOPS bow down before the GUNGAN COUNCIL. Then the HANDMAIDENS, ANAKIN, and finally the JEDI. The GUNGANS are puzzled by this. BOSS NASS begins to laugh.","BOSS NASS: Yousa no tinken yousa greater den da Gungans.. Mesa like dis.","QUI-GON and OBI-WAN smile at each other.","BOSS NASS: (cont'd) Maybe wesa bein friends.","PADME and the others start to smile and laugh at the situation.","INT NABOO PALACE - THRONE ROOM - DAY","NUTE, RUNE, and DARTH MAUL walk with a hologram of DARTH SIDIOUS.","NUTE: ... we've sent out patrols. We've already located their starship in the swamp... It won't be long, My Lord.","DARTH SIDIOUS: This is an unexpected move for her. It's too aggressive... Lord Maul, be mindful. Let them make the first move.","DARTH MAUL: Yes, my Master.","EXT NABOO EDGE OF SWAMP/ GRASS PLAINS - DAY","A GUNGAN SENTRY sits on top of the ancient temple heah, searching the landscape with a pair of electrobinoculars. He sees something and yells down to ANAKIN at the foot of the statue.","GUNGAN LOOKOUT: Daza comen!","ANAKIN: All right...","ANAKIN yells and runs over to PADME and the JEDI, who are discussing a battle plan with FIVE GUNGAN GENERALS.","ANAKIN: (cont'd) ... They're here.","PADME: Good, they made it.","THREE SPEEDERS pull up to the GROUP. CAPTAIN PANAKA and a DOZEN OR SO GUARDS and PILOTS pile out and join the group.","BOSS NASS puts his arm around JAR JAR.","BOSS NASS: Yousa doen grand. Jar Jar bringen usen an da Naboo together.","JAR JAR: Oh, no, no, no...","BOSS NASS: So, wesa make yous Bombad General.","JAR JAR: General??! Oh, no..","JAR JAR's eyes roll back, his tongue flops out and he faints.","BOSS NASS laughs and walks over to where CAPTAIN PANAKA is talking with PADME and the JEDI.","PADME: What is the situation?","CAPTAIN PANAKA: Almost everyone's in camps. A few hundred police and guards have formed an underground resistance movement. I brought back as many of the leaders as I could. The Federation Army's also much larger than we thought, and much stronger. Your Highness, this is a battle I do not think we can win.","PADME: The battle is a diversion. The Gungans must draw the Droid Army away from the cities. (to Artoo) Artoo, we can enter the city using the secret passages on the waterfall side. Once we get to the main entrance, Captain Panaka will create a diversion. Then we can enter the palace and capture the Viceroy. Without the Viceroy, they will be lost and confused.","QUI-GON and OBI-WAN look on with interest.","PADME AMIDALA: (Cont'd) What do you think, Master Jedi?","QUI-GON: The Viceroy will be well guarded.","CAPTAIN PANAKA: The difficulty's getting into the throne room. Once we're inside, we shouldn't have a problem.","QUI-GON: There is a possibility, with this diversion many, Gungans will be killed.","BOSS NASS: Wesa ready to do are-sa part.","ANAKIN watches with interest.","PADME: We have a plan which should immobilize the Droid Army. We will send what pilots we have to knock out the Droid control ship orbiting the planet.","QUI-GON: A well-conceived plan. However, there's great risk. The weapons on your fighters may not penetrate the shields.","OBI-WAN: And there's an even bigger danger. If the Viceroy escapes, Your Highness, he will return with another droid army.","PADME: Well that is why we must not fail to get to the Viceroy. Everything depends on it.","INT THEED - PALACE - THRONE ROOM - DAY","NUTE, RUNE, DARTH MAUL, OOM-9, and a hologram of DARTH SIDIOUS walk through the throne room.","DARTH SIDIOUS: ... she is more foolish than I thought.","NUTE: We are sending more troops to meet this army assembling in the swamp. It appears to be made up of primitives.","DARTH SIDIOUS: This will work to our advantage.","NUTE: I have your approval to proceed then, My Lord.","DARTH SIDIOUS: Wipe them out... all of them.","INT NABOO SWAMP LAKE - DAY (FX)","All is peaceful. Suddenly there is a disturbance in the middle of the lake. A rush of bubbles, then a GUNGAN SOLDIER riding a KAADU emerges from the fog, followed by SEVERAL OTHERS.","SOLDIERS on huge, lizard-like FAMBAAS with large shield generators mounted on their backs follow the marching WARRIORS.","The GUNGAN ARMY heads out of the swamp and onto the rolling grassy hills. HUNDREDS OF GUNGAN WARRIORS march in lon lines toward the horizon.","The GUNGAN, GENERAL CEEL, sees the tanks on the ridge and orders a halt. The GUNGANS are spread out in a large line. JAR JAR is nervous.","GENERAL CEEL signals to the shield operators.","GENERAL CEEL: Halt! Starten up the shield.","A red ray shoots out of the generator and blasts into a large dish on the back of a second FAMBAA and spreads like an umbrella over the assembled WARRIORS.","Federation tanks move up to a ridge and stop. In the distance they see the GUNGAN ARMY waiting for them.","BATTLE DROID CAPT.: Pull 'em forward.","The Federation tanks fire upon the GUNGAN army hitting thier shields.","EXT THEED - CENTRAL PLAZA - DAY","PADME, followed by EIRTAE, OBI-WAN, QUI-GON, ANAKIN, and ARTOO, stealthily makes her way toward the entrance to the main hanger. They are followed by about TWENTY NABOO GUARDS, PILOTS, and TROOPS. They stop, and PADME uses a small red laser light to signal across the plaza to CAPTAIN PANAKA, RABE and TWENTY OTHER ASSORTED NABOO TROOPS. They signal back. QUI-GON leans over to ANAKIN.","QUI-GON: Once we get inside, you find a safe place to hide and stay there.","ANAKIN: Sure.","QUI-GON points a stern finger at ANAKIN.","QUI-GON: (cont'd) Stay there!","DROID TROOPS mill about the tank-filled plaza. At the far end of the plaza, SEVERAL DROIDS begin to run and fire. NABOO SOLDIERS begin to fire back at the BATTLE DROIDS.","As the ruckus erupts at one end of the plaza, PADME and her TROOPS rush into the main hanger. CAPTAIN PANAKA and HIS SOLDIERS continue to engage the DROIDS outside.","INT THEED - PALACE THRONE ROOM - DAY","NUTE, RUNE, and FOUR COUNCIL MEMBERS watch the plaza battle on a large view screen.","NUTE: I thought the battle was going to take place far from here... this is too close!","INT THEED - CENTRAL HANGER - DAY","QUI-GON: Ani, find cover, quick!","ANAKIN hides behind one of the Naboo fighters, ducking as large bolts whiz past and EXPLODE near him. PADME and the TWO JEDI destroy BATTLE DROIDS right and left. The QUEEN'S TROOPS and EIRTAE also blast away at the DROIDS. PADME signals to her pilots.","PADME: Get to your ships!","The PILOTS and ARTOO UNITS run for the Naboo fighter craft stacked in the hanger bay. ","The ship begins to levitate out of the hanger. BATTLE DROIDS fire at it as it falls in behind five other fighters. ARTOO whistles to ANAKIN from a fighter not far away. ANAKIN runs and jumps into the fighter to hide.","EXT THEED - CENTRAL HANGER - DAY","SEVERAL FIGHTERS take off. One is hit which causes it to pinwheel into the ground and EXPLODE.","INT THEED - CENTRAL HANGER - DAY","CAPTAIN PANAKA and several GUARDS rush for cover as the remaining fighters exit the hanger.","PADME and the JEDI defend themselves against the remaining BATTLE DROIDS.","EXT NABOO FIGHTERS - SPACE (FX)","The fighters fly past the planets moon towards the DROID CONTROL SHIP of the FEDERATION.","RIC OLIE: Fighters straight ahead.","BROVO TWO: Roger, Brovo Leader.","BROVO THREE: Roger, Brovo Leader.","EXT NABOO GRASS PLAINS - DAY (FX)","The Federation tanks begin to fire on the GUNGANS, but they are protected by their energy shield.","OOM-9: Cease fire!","The tanks stop firing, and the GUNGANS watch for a minute.","JAR JAR: (to the group) Steady, steady.","The GUNGANS continue to wait as they see the doors to the massive transports open, and racks of BATTLE DROIDS are pulled out and lined up.","The GUNGANS get ready for an attack by activating individual shields. The WARRIORS dump large balls of energy into thier catapults readying themselves for the impending battle.","EXT SPACE (FX)","The battle rages on around the DROID CONTROL SHIP.","INT FEDERATION BATTLESHIP - CONTROL ROOM","RUNE: Activate the droids.","TEY HOW: Yes, sir!","TEY HOW presses a switch on her control pad.","EXT NABOO GRASS PLAINS - DAY (FX)","The BATTLE DROIDS reconfigure into their standing position. They turn and aim their blasters at the GUNGANS.","CAPTAIN TARPALS: (to Jar Jar) Ouch time.","THOUSANDS OF DROIDS march toward the GUNGANS.","The DROIDS slowly march through the protective shield and start firing.","CAPTAIN TARPALS: Fire!","The GUNGANS throw their power poles and fling small balls of energy with slingshots towards the DROIDS.","The KAADU JAR JAR is mounted on rears up an nocks JAR JAR to the ground.","JAR JAR and another GUNGAN pick up a few enegy balls and fling them towards the DROIDS. OOM-9 watches from a tank on a hill overlooking the battle.","INT THEED - CENTRAL HANGER - DAY","CAPTAIN PANAKA, SABE and NABOO TROOPS rush into the hanger and overwhelm the few remaining BATTLE DROIDS. PADME, OBI-WAN, and QUI-GON join forces with CAPTAIN PANAKA.","PADME: My guess is the Viceroy is in the throne room.","She looks to QUI-GON.","CAPTAIN PANAKA: Red Group, Blue Group, everybody, this way.","They start to head for the exit, on the way passing the fighter where ANAKIN is hiding. ARTOO whistles a greeting as ANAKIN peeps out of the cockpit.","ANAKIN: Hey! Wait for me.","QUI-GON: Anakin, stay where you are. You'll be safe there.","ANAKIN: But, I...","QUI-GON: Stay in that cockpit.","They head for the exit. As they are about to go through the door, suddenly everyone halts, revealing DARTH MAUL standing in the doorway. CAPTAIN PANAKA, PADME, and HER TROOPS back away. QUI-GON and OBI-WAN step forward.","QUI-GON: (Cont'd) We'll handle this...","PADME AMIDALA: We'll take the long way.","DARTH MAUL takes off his hood, and the TWO JEDI take off their capes.","At the far end of the hanger, THREE WHEEL DROIDS roll in and transform into their battle position. ARTOO calls ANAKIN's attention to the DROIDS.","PADME and HER TROOPS run for cover as they see the DESTROYER DROIDS.","ANAKIN: We've gotta do something, Artoo!","DARTH MAUL ignites his laser sword as the JEDI ignite theirs. Both ends of the sword light up.","The JEDI begin to fight the Sith Lord.","The DROIDS begin to advance and start firing on PADME and HER TROOPS.","ARTOO whistles a reply. Suddenly, the ship's systems go on, and the ship begins to levitate.","ANAKIN: I'm trying to. I don't know where the trigger is.","ANAKIN pushes a button, and the ship begins to roll towards the DROIDS.","ANAKIN: (Cont'd) Oops, wrong one.. Maybe this one....","ANAKIN pulls down on a lever and the hatch closes.","ANAKIN: No. Wait, here it is.","He pulls back on it and hits the button. The lasers begin to fire, wiping out all DESTROYER DROIDS.","PADME AMIDALA: Let's go!","ANAKIN: Ah... It's on automatic pilot.","CAPTAIN PANAKA, PADME, and HER TROOPS exit into a palace hallway.","The fighter rockets out of the hanger. ARTOO and ANAKIN hold on for dear life.","INT NABOO STARFIGHTER - COCKPIT - DAY","ARTOO beeps.","ANAKIN: Try and override it.","ARTOO beeps.","ANAKIN puts on his helmet as the ship continues to speed towards space.","INT THEED - CENTRAL HANGER - DAY","The JEDI are engaged in a fierce sword fight with DARTH MAUL. They have moved into the center of the hanger.","The SITH LORD's moves are incredible. He is fighting the TWO JEDI at once, flipping into the air, outmaneuvering them at every turn.","The SITH LORD drives the JEDI out of the hanger and nto the power generator area next door.","The SITH LORD does a back flip over the chasm as the JEDI follow in pursuit.","INT THEED - PALACE - HALLWAY - DAY","PADME, CAPTAIN PANAKA, EIRTAE, SABE and THIER TROOPS are trapped in a hallway by BATTLE DROIDS.","PADME AMIDALA: We don't have time for this, Captain.","INT NABOO STARFIGHTER - COCKPIT - SPACE","A giant dogfight ensues. ANAKIN's fighter flies into space above Naboo. ARTOO beeps a worried concern.","ANAKIN: Look! There they are! That's where the autopilot is taking us.","ANAKIN's fighter flies toward the Federation Battleship.","EXT NABOO GRASS PALINS - DAY","A HALF DOZEN WHEEL DROIDS roll out toward the battle. They slowly roll through the deflector shields, then transform themselves once they get on the other side.","JAR JAR's clumsiness works for him in the battle. He falls off his KAADU and a DROID jumps on him. He drops the DROID and gets caught up in the DROIDS wiring, dragging the torso around with him, the DROID's gun firing randomly, accidentally blasting SEVERAL DROIDS in one process.","The GUNGANS blast the WHEEL DROIDS with energy balls. The DESTROYER DROIDS blast many GUNGANS.","INT NABOO STARFIGHTER - COCKPIT - SPACE","The SQUADRON attacks the space station.","RIC OLIE: Their deflector shield is too strong.","ANAKIN finds himself in the middle of the space battle. A ship explodes behind him (over his left shoulder).","ANAKIN: This is tense!","He looks forward to see enemy ships approaching head on.","ANAKIN: (Cont'd) Artoo, get us off this Autopilot! It's gonna get us both killed!","ARTOO screams a reply.","ANAKIN: (Cont'd) You did it, Artoo!","ANAKIN flips switches.","ANAKIN: (Cont'd) Okay, let's go left!","He moves the controls left and the ship responds, turning left.","ARTOO beeps","ANAKIN: (Cont'd) Go back!?! Qui-Gon told me to stay in this cockpit and that's what I'm gonna do.","An enemy fighter comes into his sights. ANAKIN pushes the controls and instead of firing, his fighter accelerates past the enemy ship.","Now the enemy ship is on his tail. He tries evasive maneuvers.","ANAKIN: (Cont'd) I'll try spinning, that's a good trick.","ANAKIN rolls the ship as ARTOO screams desperately.","ANAKIN: (Cont'd) I know we're in trouble! Just hang on!","INT THEED - PALACE - HALLWAY - DAY","CAPTAIN PANAKA blasts a hole in the window.","CAPTAIN PANAKA: Go!","They make their way outside the building onto a ledge about six stories above a raging waterfall. SABE, EIRTAE and about TWENTY NABOO SOLDIERS stay in the hallway to hold off the BATTLE DROIDS.","EXT THEED - PALACE - OVER WATERFALL - DAY","PADME, CAPTAIN PANAKA, and about SIX OTHER NABOO SOLDIERS are lined up along the edge. They have pulled small attachments out of their pistols and fire at a ledge about four stories above them. Thin cables shoot out of the pistols and are embedded into the ledge. PADME, CAPTAIN PANAKA, and the OTHERS begin to climb up the wall. Once they reach the ledge they aim thier blasters at the window.","INT THEED - PALACE - HALLWAY TO THRONE ROOM","A window in the hallway blasts apart. PADME, CAPTAIN PANAKA, and HER SOLDIERS climb into the hallway. They head for the door to the throne room.","INT THEED - POWER GENERATOR PIT - DAY","Three swords are crossed in an intense display of swordsmanship. The JEDI and the SITH LORD fight their way across the narrow bridge of the Theed power generator. The laser sword battle continues on the small catwalk around the vast power pit. DARTH MAUL kicks OBI-WAN off one of the ramps and he falls several levels. QUI-GON knocks the DARK LORD off another ramp, and he lands hard on a ramp two levels below. QUI-GON jumps down after him. The DARK LORD backs away along the catwalk into a small door. QUI-GON follows as OBI-WAN leaps up and runs to join QUI-GON in battle.","INT THEED - POWER GENERATOR ELECTRON BEAM - HALLWAY","The SITH LORD, followed by QUI-GON, enters a long hallway filled with a series of deadly rays that go on and off in a pulsing pattern that shoots down the corridor every minute or so. DARTH MAUL makes it down several walls of deadly rays before they close. QUI-GON is one wall away from the DARK LORD. OBI-WAN is just starting into it and is five walls way from DARTH MAUL. The JEDI must wait until the next pulse to advance down the corridor. OBI-WAN is impatient and paces, waiting for the wall of rays to open. QUI-GON sits and meditates. DARTH MAUL hits the wall with the blade of his laser sword causing it to short out temporarily.","EXT NABOO GRASS PLAINS - DAY","The GUNGAN ARMY is no match for the DESTROYER DROIDS. A DESTROYER DROID blasts one of the shield generators, causing it to EXPLODE. The protective shield begins to weaken and fall apart. The GUNGAN GENERAL signals a retreat as the tanks enter the battle.","The GUNGANS flee as fast as they can. JAR JAR mutters something in a panic as he runs for cover under a wagon.","JAR JAR: Dis is nuttsen.","The driver of the wagon starts to leave, uncovering JAR JAR.","JAR JAR: O, oh.","He attempts to escape on the wagon of energy balls but only manages to unhitch the back gate, causing all of the energy balls to roll out of the wagon and down the hill.","The GUNGANS renew their attack on the DROID ARMY. JAR JAR's bumbling destroys several more DESTROYER DROIDS. JAR JAR scrambles to avoid being hit by one of the balls. A TANK isn't so lucky.","JAR JAR: Hey, hey! Gimme a lift.","A GUNGANS riding by on a KAADU picks up JAR JAR.","An explosion hits the GUNGAN and JAR JAR is blown off his KAADU and lands on one of the tank guns. JAR JAR is scared.","CAPTAIN TARPALS: Ja Ja! Usen da booba!","JAR JAR: Wat! Mesa no have a booba.","CAPTAIN TARPALS pulls an energy ball out of his pouch.","CAPTAIN TARPALS: Here, taken dis one.","The GUNGAN throws JAR JAR an electric ball. JAR JAR struggles to catch it and it lands in the face of DROID in control of the tank.","The tank looses control and vears off to the left digging a path in the ground. JAR JAR struggles to hang on as he hangs from the cannon.","CAPTAIN TARPALS rides by on his KAADU.","CAPTAIN TARPALS: Ja Ja! Jump Ja Ja! Jump!","The TWO GUNGANS roll from the force of the fall and come to a stop amidst a FEW DOZEN BATTLE DROIDS.","INT THEED - PALACE - HALLWAY TO THRONE ROOM","PADME, CAPTAIN PANAKA, and HER SOLDIERS hurry toward the throne room. Suddenly, two DESTROYER DROIDS skitter in front of the door. PADME turns around and sees TWO MORE appear at the far end of the hallway, trapping them in the middle.","PADME throws down her pistol and turns to CAPTAIN PANAKA.","PADME: Throw down your weapons. They win this round.","CAPTAIN PANAKA and HIS MEN throw down their weapons.","A HALF DOZEN BATTLE DROIDS come up behind them.","INT NABOO STARFIGHTER - COCKPIT - SPACE","The battle rages on around ANAKIN's starfighter as he continues to spin.","ARTOO screams in protest.","ANAKIN: We're hit Artoo! Wah...!","ANAKIN's ship spins out of control into the hangar of the Federation Battleship.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ARTOO squeals in exclamation.","ANAKIN: I'm tring to stop. I'm tring to stop.","ANAKIN hits the reverse thrusters and the ship skids to a stop on the hanger deck. ARTOO gives out a worried whistle.","ANAKIN: (Cont'd) Everything's overheated.","ARTOO sees DROIDS approaching, and beeps frantically.","ANAKIN: Oops! This is not good.","ANAKIN sees the lights turn from green to red as he flips switches and presses buttons.","INT THEED - POWER GENERATOR ELECRIC BEAM - HALLWAY","When the wall between QUI-GON and DARTH MAUL opens, QUI-GON is in a split second fighting the DARK LORD with a ferocity not seen before. The wall of the deadly rays turn away, and OBI-WAN starts running toward QUI-GON and the DARK LORD. They move into the area at the end of the corridor called the melting pit, a small area that is mostly made up of a deep hole.","The electron ray gates begin to close. OBI-WAN tries to make it to the melting pit but is caught one gate short. He slides to a stop just before he hits the deadly electron field.","QUI-GON and DARTH MAUL battle around the melting pit as a frustrated OBI-WAN watches.","DARTH MAUL catches QUI-GON off guard. The SITH makes a quick move, bashes his lightsaber handle into QUI-GON's chin, and runs his lightsaber through his mid-section. QUI-GON slumps to the floor in a heap.","OBI-WAN: Noooo!","The SITH LORD withdrawls his lightsaber and turns and walks toward OBI-WAN who is still trapped by the electron ray wall.","EXT NABOO GRASS PLAINS - DAY","The GUNGANS have been overrun. Some flee into the hills, chased by BATTLE DROIDS on STAPS. Many OTHERS are herded into groups by BATTLE DROIDS and DESTROYER DROIDS.","JAR JAR and GENERAL CEEL are held in a small group with OTHER OFFICERS.","GENERAL CEEL: No given up General Ja Ja. Wesa tink of sometin.","BATTLE DROID CAPT.: Hands up!","JAR JAR: My giv up. My giv up.","GENERAL CEEL covers his eyes in shame shaking his head.","INT THED - PALACE THRONE ROOM - DAY","PADME, CAPTAIN PANAKA, and SIX OTHER OFFICERS are brought by TEN BATTLE DROIDS before NUTE and RUNE and FOUR NEIMOIDIAN COUNCIL MEMBERS.","NUTE: Your little insurrection is at an end, Your Highness. Time for you to sign the treaty... and end this pointless debate in the Senate.","SABE dressed like the Queen appears in the doorway with SEVERAL TROOPS. SEVERAL DESTROYED BATTLE DROIDS can be seen in the distance.","SABE: Viceroy, your occupation here has ended!","NUTE and THE OTHERS are stunned to see a SECOND QUEEN. NUTE yells at the TEN GUARDS in the room.","HER SOLDIERS shoot down to of the DROIDS in the room.","NUTE: After her! This one is a decoy!","SIX OF THE DROIDS rush out of the throne room after SABE.","PADME slumps down on her throne and immediately hits a security button that opens a panel in her desk opposite CAPTAIN PANAKA.","PADME grabs two pistols, tosses one of the to CAPTAIN PANAKA and one to an OFFICER. She takes a third pistol and BLASTS the last of the BATTLE DROIDS.","CAPTAIN PANAKA: (to his officers) Jam the doors!","The OFFICERS rush to the door control panel as PADME hits the switch to close the door. The OFFICER at the door jams the controls. CAPTAIN PANAKA throws more pistols to the OTHERS GUARDS. The NEIMODIANS are confused and afraid.","PADME: Now, Viceroy, we will discuss a new treaty.","INT THEED - POWER GENERATOR - MELTING PIT","The pulsing electron gate opens, and OBI-WAN attacks the SITH LORD. The JEDI is relentless in his assault on the SITH LORD.","OBI-WAN slices through the center of THE DARK LORD's laser sword and he looses half.","The JEDI flips as DARTH MAUL gets up to continue the fight.","As OBI-WAN grows weary, he is kicked in the chin by the DARK LORD.","The TWO continue to fight DARTH MAUL FORCE THROWS OBI-WAN into a melting pit. He is barely able to hold onto a nozzle on the side of the pit. DARTH MAUL grins evilly at OBI-WAN as he kicks OBI-WAN's lightsaber down the endless shaft.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ARTOO whistles.","ANAKIN sees the dashboard lights go from red to green.","ANAKIN: Yes! We have power. Shields up.","ANAKIN flips a switch and the ship levitates, knocking over the BATTLE DROID CAPTAIN. The OTHER DROIDS shoot, but the lasers are deflected by ANAKIN's shields. ARTOO beeps.","ANAKIN: Take this!...","ANAKIN fires lasers as the ship begins to rotate.","ANAKIN: (cont'd)... and this!","He presses a button and launches two torpedoes which miss the DROIDS.","ANAKIN: Woa!","The two torpedoes fly down a hallway and explode inside the reactor room.","ANAKIN: Oops.","INT FEDERATION BATTLESHIP - BRIDGE","TEY HOW turns to CAPTAIN DOFINE.","TEY HOW: Sir, we're losing power... There seems to be a problem with the main reactor...","DOFINE: Impossible!! Nothing can get through our shield.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ANAKIN continues to fire, maneuvering the ship towards the exit.","ANAKIN: Let's get out of here.","ARTOO beeps in agreement.","INT NABOO FIGHTER - COCKPIT - SPACE","RIC OLIE watches in amazement as the Federation battleship starts to explode from the inside out.","BRAVO TWO: What's that?? It's blowing up from the inside.","RIC OLIE: We didn't hit it.","INT NABOO STARFIGHTER - COCKPIT - FEDERATION HANGER","ANAKIN's ship roars through the hanger deck, bouncing over the DROIDS.","ANAKIN: (Cont'd) Now, this is Podracing!","INT NABOO FIGHTER - COCKPIT - SPACE","A lone NABOO FIGHTER comes into view.","BRAVO THREE: Look! One of ours! Outta the main hold!!","ANAKIN: Whoo, hoo!","All the pilots start to cheer and laugh in ANAKIN's excitement.","INT FEDERATION BATTLESHIP - BRIDGE","The bridge explodes as DOFINE and TEY HOW look for a way to escape.","EXT NABOO GRASS PLAINS - DAY","Suddenly, all of the DROIDS begin to shake upside down, run around in circles, then stop. The GUNGANS carefully move out to inspect the FROZEN DROIDS. JAR JAR pushes one of the BATTLE DROIDS, and it falls over.","JAR JAR: Whatsen dey doin?","CAPTAIN TARPALS: The control ship has been destroyed. Look!","He pushes one over to show what he means.","JAR JAR: Dey all broken.","The GUNGANS cheer.","INT THEED - POWER GENERATOR - MELTING PIT","The SITH LORD smiles as he goes in for the kill. At the last moment, OBI-WAN jumps up out of the pit, calls QUI-GON's lightsaber to him, throwing DARTH MAUL off. The young JEDI swings with a vengeance, cutting the SITH down. DARTH MAUL falls into the melting pit to his death.","OBI-WAN rushes over to QUI-GON, who is dying.","QUI-GON: It is too late... It's...","OBI-WAN: No!","QUI-GON: Obi-Wan promise ... promise me you'll train the boy...","OBI-WAN: Yes, Master...","QUI-GON: He is the chosen one... he will... bring balance... train him!","QUI-GON dies. OBI-WAN cradles his Master, quietly weeping.","INT MAIN HANGER - COURTYARD - DAY","The large, grand cruiser of the Supreme Chancellor lands in the courtyard of the main hanger. CAPTAIN PANAKA and TWENTY TROOPS guard NUTE GUNRAY and RUNE HAAKO. OBI-WAN, the QUEEN, and her HANDMAIDENS stand before the NEIMOIDIANS.","PADME: Now, Viceroy, you are going to have to go back to the Senate and explain all this.","CAPTAIN PANAKA: I think you can kiss your Trade franchise goodbye.","The main ramp of the cruiser is lowered as OBI-WAN and CAPTAIN PANAKA lead the VICEROY and HIS ASSISTANT toward the ship. The GRAND CHANCELLOR PALPATINE and SEVERAL REPUBLIC GUARDS descend the walkway, followed by YODA and SEVERAL OTHER JEDI MASTERS.","The CHANCELLOR PALPATINE walks up to OBI-WAN and ANAKIN. The JEDI bow before him.","PALPATINE: (to Obi-Wan) We are indebted to you for your bravery, Obi-Wan Kenobi. (to Anakin) And you, young Skywalker, we will watch your career with great interest.","The CHANCELLOR PALPATINE is greeted by the QUEEN.","AMIDALA: Congratulations on your election, Chancellor.","PALPATINE: Your boldness has saved our people, Your Majesty. It is you who should be congratulated. Together we shall bring peace and prosperity to the Republic.","INT. TURRET ROOM - NABOO PALACE - LATE DAY","The sun streams into the multi-windowed room at a low angle. It is not quite sunset. YODA paces before OBI-WAN, who is kneeling in the center of the room.","YODA: Confer on you, the level of Jedi Knight the Council does. But agree on you taking this boy as your Padawan learner, I do not.","OBI-WAN: Qui-Gon believed in him.","YODA: The Chosen One the boy may be; nevertheless, grave danger I fear in his training.","OBI-WAN: Master Yoda, I gave Qui-Gon my word. I will train Anakin. Without the approval of the Council if I must.","YODA: Qui-Gon's defiance I sense in you. Need that, you do not. Agree with you, the council does. Your apprentice, Skywalker will be.","EXT THEED - CENTRAL PLAZA - FUNERAL TEMPLE STEPS - SUNSET","QUI-GON's body goes up in flames as the JEDI COUNCIL, the QUEEN, SIO BIBBLE, CAPTAIN PANAKA, the HANDMAIDENS, and ABOUT ONE HUNDRED NABOO TROOPES, TWENTY OTHER JEDI, PALPATINE, OBI-WAN (standing with ANAKIN), JAR JAR, BOSS NASS, and TWENTY OTHER GUNGAN WARRIORS watch. There is a drum roll that stops. Doves are released, and the body is gone. ANAKIN looks to OBI-WAN.","ANAKIN: What will happen to me now?","OBI-WAN: The Council has granted me permission to train you. You will be a Jedi, I promise.","To one side, MACE WINDU turns to YODA.","MACE WINDU: There's no doubt. The mysterious warrior was a Sith.","YODA: Always two there are.... no more... no less. A master and an apprentice.","MACE WINDU: But which one was destroyed, the master or the apprentice?","They give each other a concerned look as the camera pans over to PALPATINE.","EXT THEED - CENTRAL PLAZA - DAY","CHILDEREN SING and throw flowers on the passing GUNGAN SOLDIERS. The CROWDS CHEER. It is a grand parade.","QUEEN AMIDALA stands next to the SUPREME CHANCELLOR PALPATINE, ANAKIN, OBI-WAN, SIO BIBBLE, and the JEDI COUNCIL. ARTOO stands in front of the QUEEN'S HANDMAIDENS and whistles at the parade. QUEEN AMIDALA and PALPATINE smile at one another.","In the parade are BOSS NASS and his GUARDS, JAR JAR and GENERAL CEEL. The GUNGANS ride KAADU. They stop before the QUEEN and walk up the steps to stand by her side. BOSS NASS holds up the Globe of Peace.","BOSS NASS: Peace!"],[oA.attack]:["LIEUTENANT: Senator, we're making our final approach in to Coruscant.","SENATOR AMIDALA: Very good, Lieutenant.","EXTERIOR: CITYSCAPE, CORUSCANT - DAWN","The ships skim across the surface of the city landscape. The sun glints off the chrome hulls of the sleek Naboo spacecraft as they navigate between the buildings of the capital planet.","EXTERIOR: CORUSCANT, LANDING PLATFORM - DAWN","Two Naboo Fighters land on one leaf of a three-leaf-clover landing platform. The Naboo Cruiser lands on the central leaf, and the third Fighter lands on the remaining platform.","A small GROUP OF DIGNITARIES waits to welcome the Senator.","One of the FIGHTER PILOTS jumps from the wing of his ship and removes his helmet. He is CAPTAIN TYPHO, SENATOR AMIDALA'S Security Officer. He moves over to a WOMAN PILOT.","CAPTAIN TYPHO: We made it. I guess I was wrong, there was no danger at all.","The ramp lowers. TWO NABOO GUARDS appear. SENATOR AMIDALA, ONE HANDMAIDEN (VERS\xc9) and FOUR TROOPERS descend the ramp. AMIDALA is more beautiful now than she was ten years earlier when, as Queen, she was freeing her people from the yoke of the Trade Federation.","The DIGNITARIES start to move forward. SENATOR AMIDALA reaches the foot of the ramp, when suddenly there is a blinding FLASH and a huge EXPLOSION. The DIGNITARIES and PILOTS are hurled to the ground as the starship is destroyed.","Klaxons blare, alarms sound! CAPTAIN TYPHO and the TWO ESCORT PILOTS get up and run to where SENATOR AMIDALA lies dying. Beyond, ARTOO DETOO drops down from the Naboo Fighter and rolls toward the wreckage. The FEMALE ESCORT PILOT kneels by SENATOR AMIDALA and takes off her helmet, revealing SENATOR PADM\xc9 AMIDALA.","PADME AMIDALA: Cord\xe9...","She gathers up her decoy double in her arms. Cord\xe9's eyes open. She looks up at her.","CORD\xc9: ...I'm so sorry, M'Lady... I'm... not sure I... I've failed you, Senator.","CORD\xc9 dies. PADM\xc9 hugs her.","PADME AMIDALA: No...!","CAPTAIN TYPHO: M'Lady, you are still in danger here.","PADM\xc9 lowers CORD\xc9 to the ground. She gets up and looks around at the devastation. There are tears in her eyes.","PADME AMIDALA: I shouldn't have come back.","CAPTAIN TYPHO: This vote is very important. You did your duty - Cord\xe9 did hers. Now come. (she doesn't respond Senator Amidala, please!","She turns. They walk away. ARTOO lets out a small whimper and rolls after them.","EXTERIOR: SENATE BUILDING - DAY ","The massive Senate Building glistens in the afternoon sun. Small patches of fog have still to burn off.","INTERIOR: SENATE CHAMBER - DAY","The vast rotunda is buzzing with chatter. MAS AMEDDA, the Supreme Chancellor's majordomo, tries to quiet things down as PALPATINE confers with an AIDE, UV GIZEN, riding a small one-man floating scooter.","MAS AMEDDA: Order! We shall have order! The motion for the Republic to commission an army takes precedent, and that is what we will vote on at this time.","Everything quiets down. The AIDE disperses, and SUPREME CHANCELLOR PALPATINE steps to the podium.","PALPATINE: ...My esteemed colleagues, excuse me... I have just received some tragic and disturbing news. Senator Amidala of the Naboo system has been assassinated!","There is a shock silence in the vast arena.","PALPATINE: This grievous blow is especially personal to me. Before I became Chancellor, I served Amidala when she was Queen. She was a great leader who fought for justice, not only here in this honorable assembly, but also on her home planet. She was so loved she could have been elected Queen for life. She believed in public service, and she fervently believed in democracy. Her death is a great loss to us all. We will all mourn her as a relentless champion of freedom... and as a dear friend.","There is a moment of silence. ASK AAK, the SENATOR of MALASTARE, moves his pod into the center of the arena.","ASK AAK: How many more Senators will die before this civil strife ends! We must confront these rebels now, and we need an army to do it.","A second pod moves into the center of the area with DARSANA, the AMBASSADOR of GLEE ANSELM.","DARSANA: Why weren't the Jedi able to stop this assassination? We are no longer safe, under their protection.","SENATOR ORN FREE TAA swings forward in his pod.","ORN FREE TAA: The Republic needs more security now! Before it comes to war.","PALPATINE: Must I remind the Senator from Malastare that negotiations are continuing with the separatists. Peace is our objective here... not war.","The SENATORS yell pro and con. MAS AMEDDA tries to calm things down. SENATOR PADM\xc9 AMIDALA, with CAPTAIN TYPHO, JAR JAR, and DORM\xc9, maneuver her pod into the center of the vast arena.","PADME AMIDALA: My noble colleagues, I concur with the Supreme Chancellor. At all costs, we do not want war!","The Senate goes quiet, then there is an outburst of cheering and applause.","PALPATINE: It is with great surprise and joy the chair recognizes the Senator from Naboo, Padm\xe9 Amidala.","PADME AMIDALA: Less than an hour ago, an assassination attempt was made against my life. One of my bodyguards and six others were ruthlessly and senselessly murdered. I was the target but, more importantly, I believe this security measure before you, was the target. I have led the opposition to build an army... but there is someone in this body who will stop at nothing to assure its passage...","Many of the SENATORS boo and yell at SENATOR AMIDALA.","PADME AMIDALA: I warn you, if you vote to create this army, war will follow. I have experienced the misery of war firsthand; I do not wish to do it again.","There is sporadic yelling for and against her statements.","PADME AMIDALA: Wake up, Senators... you must wake up! If we offer the separatists violence, they can only show us violence in return! Many will lose their lives. All will lose their freedom. This decision could very well destroy the very foundation of our great Republic. I pray you, do not let fear push you into a disastrous decision. Vote down this security measure, which is nothing less than a declaration of war! Does anyone here want that? I cannot believe they do.","There is an undercurrent of booing... and groaning. SENATOR ORN FREE TAA moves his pod next to AMIDALA.","ORN FREE TAA: My motion to defer the vote must be dealt with first. That is the rule of law.","AMIDALA looks angry and frustrated. PALPATINE gives her a sympathetic look.","PALPATINE: Due to the lateness of the hour and the seriousness of this motion, we will take up these matters tomorrow. Until then, the Senate stands adjourned.","EXTERIOR: EXECUTIVE QUARTERS BUILDING - DAY ","The giant towers of the Republic Executive Building seem to reach the heavens. Traffic clogs the smoggy sky.","INTERIOR: CHANCELLOR'S OFFICE - DAY ","CHANCELLOR PALPATINE sits behind his desk with TWO RED-CLAD ROYAL GUARDS on either side of the door. YODA, PLO KOON, KI-ADI-MUNDI, and MACE WINDU sit across from him. Behind them stand the Jedi LUMINARA UNDULI and her Padawan, BARRISS OFFEE.","PALPATINE: I don't know how much longer I can hold off the vote, my friends. More and more star systems are joining the separatists.","MACE WINDU: If they do break away -","PALPATINE: I will not let this Republic that has stood for a thousand years be split in two. My negotiations will not fail!","MACE WINDU: If they do, you must realize there aren't enough Jedi to protect the Republic. We are keepers of the peace, not soldiers.","PALPATINE: Master Yoda, do you think it will really come to war?","YODA closes his eyes.","YODA: Worse than war, I fear... Much worse. ","PALPATINE: What?","MACE WINDU: What do you sense, Master?","YODA: The Dark Side clouds everything. Impossible to see, the future is. But this I am sure of - (opens his eyes) Do their duty, the Jedi will.","A muted BUZZER SOUNDS. A hologram of an AIDE, DAR WAC, appears on the Chancellor's desk.","DAR WAC: (in Huttese) The loyalist committee has arrived, my Lord. ","PALPATINE: Good. We will discuss this matter later. Send them in.","They all stand as SENATOR AMIDALA, CAPTAIN TYPHO, MAS AMEDDA, DORM\xc9, and SENATORS (BAIL ORGANA, JAR JAR BINKS and HOROX RYYDER) and their ATTENDANTS enter the office. As YODA and MACE WINDU move to greet the SENATOR, YODA taps AMIDALA with his cane.","YODA: Padm\xe9, your tragedy on the landing platform, terrible. With you the force is strong... young Senator. Seeing you alive brings warm feeling to my heart.","PADME AMIDALA: Thank you, Master Yoda. Do you have any idea who was behind the attack?","MACE WINDU: Our intelligence points to disgruntled spice miners, on the moons of Naboo.","PADME AMIDALA: But I think that Count Dooku was behind it.","There is a stir of surprise. They look at one another.","KI-ADI-MUNDI: He is a political idealist, not a murderer.","MACE WINDU: You know, M'Lady, Count Dooku was once a Jedi. He couldn't assassinate anyone. It's not in his character.","YODA: In dark times nothing is what it appears to be, but the fact remains for certain, Senator, in grave danger you are.","PALPATINE gets up, walks to the window, and looks out at the vast city.","PALPATINE: Master Jedi, may I suggest that the Senator be placed under the protection of your graces.","BAIL ORGANA: Do you think that is a wise decision during these stressful times?","PADME AMIDALA: Chancellor, if I may comment, I do not believe the...","PALPATINE: ...'situation is that serious.' No, but I do, Senator.","PADME AMIDALA: Chancellor, please! I don't want any more guards!","PALPATINE: I realize all too well that additional security might be disruptive for you, but perhaps someone you are familiar with... an old friend like... Master Kenobi...","PALPATINE nods to MACE WINDU, who nods back.","MACE WINDU: That's possible. He has just returned from a Border dispute on Ansion.","PALPATINE: You must remember him, M'Lady... he watched over you during the blockade conflict.","PADME AMIDALA: This is not necessary, Chancellor.","PALPATINE: Do it for me, M'Lady, please. I will rest easier. We had a big scare today. The thought of losing you is unbearable.","AMIDALA sighs as the JEDI get up to leave.","MACE WINDU: I will have Obi-Wan report to you immediately, M'Lady.","YODA leans into her ear.","YODA: Too little about yourself you worry, Senator, and too much about politics. Be mindful of your danger, Padm\xe9. Accept our help.","The JEDI leave the office.","EXTERIOR: APARTMENT BUILDING - TWILIGHT","A graceful skyscraper twinkles in the evening light of Coruscant.","INTERIOR: APARTMENT BUILDING ELEVATOR - TWILIGHT","ANAKIN and OBI-WAN ride in a windowed elevator attached to the outside of the Senate Building. They are on their way to SENATOR AMIDALA'S apartments. ANAKIN nervously rearranges his robes.","OBI-WAN: You seem a little on edge, Anakin.","ANAKIN: Not at all.","OBI-WAN: I haven't felt you this tense since we fell into that nest of gundarks.","ANAKIN: You fell into that nightmare, Master, and I rescued you, remember?","OBI-WAN: Oh yeah. (they laugh) You're sweating. Relax. Take a deep breath.","ANAKIN: I haven't seen her in ten years, Master.","OBI-WAN: She's not the Queen anymore, Anakin.","ANAKIN: That's not why I'm nervous.","INTERIOR: APARTMENT BUILDING, APARTMENT CORRIDOR - TWILIGHT","The door to the apartment slides open. JAR JAR walks into the corridor, where TWO JEDI are exiting the elevator. He recognizes OBI-WAN and becomes extremely excited, jumping around, shaking his hand.","JAR JAR: Obi! Obi! Obi! Mesa sooo smilen to seein yousa. Wahooooo!","OBI-WAN smiles.","OBI-WAN: It's good to see you, too, Jar Jar.","JAR JAR notices OBI-WAN'S APPRENTICE.","JAR JAR: ...and this, I take it, is your apprentice... Noooooooo! Annie? Noooooooo! Little bitty Annie? (Looks at Anakin) Noooooooo! Yousa so biggen! Yiyiyiyyi! Annie!!","ANAKIN: Hi, Jar Jar.","JAR JAR grabs hold of ANAKIN and envelops him in a big hug.","JAR JAR: Shesa expecting yousa. Annie... Mesa no believen!","INTERIOR: SENATE BUILDING, APARTMENT - EVENING","PADM\xc9 is in a conference with CAPTAIN TYPHO and DORM\xc9. JAR JAR enters the room, followed by the TWO JEDI.","JAR JAR: Mesa here. Lookie... lookie... Senator. Desa Jedi arriven.","PADM\xc9 and TYPHO rise as OBI-WAN and ANAKIN stop before the SENATOR. OBI-WAN steps forward. ANAKIN stares at PADM\xc9. She glances at him.","OBI-WAN: It's a pleasure to see you again, M'Lady.","PADM\xc9 walks over to OBI-WAN and takes his hand in hers.","PADME AMIDALA: It has been far too long Master Kenobi. I'm so glad our paths have crossed again... but I must warn you that I think your presence here is unnecessary.","OBI-WAN: I'm sure the Jedi Council has their reasons.","She moves in front of ANAKIN.","PADME AMIDALA: Annie? (stares) My goodness, you've grown.","They look at each other for a long moment.","ANAKIN: (trying to be smooth) So have you... grown more beautiful, I mean... and much shorter... for a Senator, I mean.","OBI-WAN looks disapprovingly at his apprentice. PADM\xc9 laughs and shakes her head.","PADME AMIDALA: Oh Annie, you'll always be that little boy I knew on Tatooine.","This embarrasses ANAKIN, and he looks down. OBI-WAN and CAPTAIN TYPHO smile.","OBI-WAN: Our presence will be invisible, M'Lady, I can assure you.","CAPTAIN TYPHO: I'm very grateful you're here, Master Kenobi. I'm Captain TYPHO, head of Her Majesty's security service. Queen Jamillia has informed you of your assignment. The situation is more dangerous than the Senator will admit.","PADME AMIDALA: I don't need more security, I need answers. I want to know who is trying to kill me.","OBI-WAN: (frowning) We're here to protect you Senator, not to start an investigation.","ANAKIN: We will find out who's trying to kill you Padm\xe9, I promise you.","He's done it again. He bites his lip in frustration and shame. OBI-WAN gives ANAKIN a dirty look.","OBI-WAN: We will not exceed our mandate, my young Padawan learner!","ANAKIN: I meant in the interest of protecting her, Master, of course.","OBI-WAN: We will not go through this exercise again, Anakin. And you will pay attention to my lead.","ANAKIN: Why?","OBI-WAN: What??!!","ANAKIN: Why else do you think we were assigned to protect her, if not to find the killer? Protection is a job for local security... not Jedi. It's overkill, Master. Investigation is implied in our mandate.","OBI-WAN: We will do exactly as the Council has instructed, and you will learn your place, young one.","PADME AMIDALA: Perhaps with merely your presence, the mysteries surrounding this threat will be revealed. Now, if you will excuse me, I will retire.","Everyone gives AMIDALA a slight bow as she and DORM\xc9 leave the room.","TYPHO: Well, I know I feel a lot better having you here. I'll have an officer situated on every floor and I'll be at the control center downstairs.","JAR JAR: Mesa busten wit happiness seein yousa again, Annie. Deesa bad times, bombad times.","CAPTAIN TYPHO leaves.","ANAKIN: She hardly recognized me, Jar Jar. I've thought about her every day since we parted... and she's forgotten me completely.","JAR JAR: Shesa happy. Happier den mesa seein her in longo time.","OBI-WAN: Anakin, you're focusing on the negative again. Be mindful of your thoughts. She was pleased to see us. Now lets check the security here.","ANAKIN: Yes, my master.","EXTERIOR: SKYSCRAPER LEDGE - NIGHT","An armor-clad bounty hunter, JANGO FETT, waits on the ledge of a skyscraper as another bounty hunter, ZAM WESELL, a CHANGELING, steps from her hovering speeder and approaches FETT.","ZAM WESELL: I hit the ship, but they used a decoy.","JANGO FETT: We'll have to try something more subtle this time, Zam. My client is getting impatient.","FETT hands ZAM a transparent tube about a foot long containing centipede-like KOUHUNS.","JANGO FETT: Take these. Be careful. They're very poisonous.","ZAM attaches her veil across the bottom of her face. She turns to leave, but FETT calls her back.","JANGO FETT: Zam, there can be no mistakes this time.","She turns again, and walks toward her speeder.","EXTERIOR: JEDI TEMPLE - NIGHT","The vast Jedi Temple sits on an endless flat plain, silhouetted by a against the traffic-filled sky.","INTERIOR: JEDI TEMPLE, CORRIDOR - NIGHT","MACE WINDU and YODA walk down the long hallway, silhouetted by a lit room at the end.","MACE WINDU: Why couldn't we see this attack on the Senator?","YODA: Masking the future, is this disturbance in the Force.","MACE WINDU: The prophecy is coming true, the Dark Side is growing.","YODA: And only those who have turned to the Dark Side can sense the possibilities of the future. ","MACE WINDU: It's been ten years, and the Sith still have yet to show themselves.","YODA: ...Out there, they are. A certainty that is.","There is a long silence as they walk away. Only footsteps are heard.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN R0OM - NIGHT","ANAKIN is standing in the living room. He is in a meditative state. It is quiet. We hear DISTANT FOOTSTEPS in the corridor outside the apartment. Suddenly ANAKIN'S eyes pop open. His eyes dart around the room. He reaches for his lightsaber, then smiles and puts it back in his belt.","The door to the apartment slides open, and OBI-WAN enters.","OBI-WAN: Captain Typho has more than enough men downstairs. No assassin will try that way. Any activity up here?","ANAKIN: Quiet as a tomb. I don't like just waiting here for something to happen to her.","OBI-WAN checks a palm-sized view scanner he has pulled out of his utility belt. It shows a shot of ARTOO by the door, but no sign of PADM\xc9 on the bed.","OBI-WAN: What's going on?","ANAKIN shrugs.","ANAKIN: She covered the cameras. I don't think she liked me watching her.","OBI-WAN: What is she thinking?","ANAKIN: She programmed Artoo to warn us if there's an intruder.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM - NIGHT","PADM\xc9 is asleep in her bed, lit only by the light of the city outside her window coming through the blinds. ARTOO stands in the corner of the bedroom. His power is off.","OBI-WAN: (V.O.) It's not an intruder I'm worried about. There are many other ways to kill a Senator.","ANAKIN: (V.O.) I know, but we also want to catch this assassin. Don't we, Master?","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM - NIGHT","OBI-WAN: You're using her as bait??","ANAKIN: It was her idea... Don't worry, no harm will come to her. I can sense everything going on in that room. Trust me.","OBI-WAN: It's too risky... besides, your senses aren't that attuned, young apprentice.","ANAKIN: And yours are?","OBI-WAN: Possibly.","EXTERIOR: SKYSCRAPER LEDGE - NIGHT","Standing on the skyscraper ledge, ZAM WESELL loads the cylinder carrying the deadly KOUHUNS into a PROBE DROID. She sends the PROBE DROID out into the Coruscant night.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM - NIGHT","ANAKIN and OBI-WAN continue their conversation, moving out onto the apartment's balcony.","OBI-WAN: You look tired.","ANAKIN: I don't sleep well anymore.","OBI-WAN: Because of your mother?","ANAKIN: I don't know why I keep dreaming about her now. I haven't seen her since I was little.","OBI-WAN: Dreams pass in time.","ANAKIN: I'd rather dream of Padm\xe9. Just being around her again is... intoxicating.","OBI-WAN: Be mindful of your thoughts, Anakin, they betray you. You've made a commitment to the Jedi Order... a commitment not easily broken... and don't forget she's a politician. They're not to be trusted.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM - NIGHT","As PADM\xc9 sleeps, a PROBE DROID approaches outside her window. It sends out several small arms that attach to the window, creating sparks that shut down the security system. Then a large arm cuts a small hole in the glass. A FAINT SOUND is heard as the small section of glass is removed from the window.","ARTOO wakes up, and his lights go on. The PROBE DROID freezes. ARTOO looks around, makes a PLAINTIVE LITTLE SOUND, then shuts down again. The PROBE DROID attaches a little tube to the window. TWO DEADLY LOOKING CENTIPEDE LIKE KOUHUNS exit the tube, crawl through the blinds and head toward the sleeping PADM\xc9.","ANAKIN: (V.O.) She's not like the others in the Senate, Master.","OBI-WAN: (V.O.) It's been my experience that Senators are only focused on pleasing those who fund their campaigns... and they are more than willing to forget the niceties of democracy to get those funds.","ANAKIN: (V.O.) Not another lecture, Master. Not on the economics of politics...","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM - NIGHT","ANAKIN and OBI-WAN continue their conversation, walking back into the main room.","ANAKIN: ...and besides, you're generalizing. The Chancellor doesn't appear to be corrupt.","OBI-WAN: Palpatine's a politician. ","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM - NIGHT","ARTOO sounds an alarm and shines a light on the bed. THE KOUHUNS are inches from PADM\xc9'S face. Their mouths are open, and wicked stinger tongues flick out.","OBI-WAN: (V.O.) I've observed that he is very clever at following the passions and prejudices of the Senators.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, MAIN ROOM - NIGHT","ANAKIN and OBI-WAN continue their conversation.","ANAKIN: I think he is a good man. My instincts are very positive about...","ANAKIN looks stunned. He looks sharply at OBI-WAN","OBI-WAN: I sense it, too.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT, BEDROOM - NIGHT","OBI-WAN and ANAKIN burst into the room. The KOUHUNS stand on their hind legs and hiss as PADM\xc9 wakes up. ANAKIN throws himself in front of her, whacking in half the deadly creatures with his lightsaber.","OBI-WAN sees the DROID outside the window and races straight at it, crashing through the blinds as he goes through the window.","EXTERIOR: WINDOW LEDGE, APARTMENT BUILDING - NIGHT","OBI-WAN flies through the glass window and flings himself at the PROBE DROID, grabbing onto the deadly machine before it can flee. The PROBE DROID sinks under the weight of OBI WAN but manages to stay afloat and fly away, with the Jedi hanging on for dear life, a hundred stories above the city.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT - NIGHT","ANAKIN and PADM\xc9 stare at the sight of OBI-WAN being carried off by the DROID. ANAKIN turns to her. She pulls her nightdress around her shoulders.","ANAKIN: Stay here!","CAPTAIN TYPHO, with TWO GUARDS and DORM\xc9, enter the room as Anakin dashes out.","DORM\xc9: Are you all right, M'Lady?","PADM\xc9 nods yes.","EXTERIOR: CITYSCAPE, CORUSCANT - NIGHT","The PROBE DROID sends several protective electrical shocks across its surface, causing OBI-WAN to almost lose his grip. As they dart in and out of the speeder traffic, OBI WAN disconnects a wire on the back of the DROID. Its power shuts off! OBI-WAN and the DROID drop like rocks. OBI-WAN realizes the error of his ways and quickly puts the wire back. The DROID'S systems light up again and it takes off. ","EXTERIOR: SENATE APARTMENTS - ENTRANCE - NIGHT","ANAKIN charges out of the building and runs to a line of parked speeders. He vaults into an open one and takes off, gunning it fast toward the lines of speeder traffic high above.","EXTERIOR: CITYSCAPE, CORUSCANT - NIGHT","The DROID bumps against a wall, hoping to knock the Jedi loose. It moves behind a speeder afterburner to scorch him. It takes the JEDI wildly between buildings and finally skims across a rooftop as OBI-WAN is forced to lift his legs, tenaciously hanging onto the DROID. The DROID heads for a dirty, beat-up speeder hidden in an alcove of a building about twenty stories up. When the pilot of the speeder, the scruffy bounty hunter, ZAM WESELL, sees the DROID approach with OBI-WAN hanging on, she pulls a long rifle out of the speeder and starts to fire at the JEDI. EXPLOSIONS burst all around OBI-WAN. ZAM runs to her speeder, jumps in, and takes off.","OBI-WAN: I have a bad feeling about this.","FINALLY, the DROID suffers a direct hit and blows up. OBI WAN falls fifty stories, until a speeder drops down next to him, and he manages to grab onto the back end of the speeder and haul himself toward the cockpit. The JEDI struggles to climb into the passenger seat of the open speeder and sit down next to the driver, ANAKIN.","ANAKIN: That was wacky! I almost lost you in the traffic.","OBI-WAN: What took you so long?","ANAKIN: Oh, you know, Master, I couldn't find a speeder I really liked, with an open cockpit... and with the right speed capabilities... and then you know I had to get a really gonzo color...","They zoom upward in hot pursuit of ZAM as she fires out the open window at them with her laser pistol.","OBI-WAN: If you'd spend as much time working on your saber skills as you do on your wit, young Padawan, you would rival Master Yoda as a swordsman.","ANAKIN: I thought I already did.","OBI-WAN: Only in your mind, my very young apprentice. Careful!! Hey, easy!!","As this conversation is going on, ANAKIN deftly moves in and out of the oncoming traffic, across lanes, between buildings, and miraculously through a construction site. ZAM WESELL continues firing at them.","ANAKIN: Sorry, I forgot you don't like flying, Master.","OBI-WAN: I don't mind flying... but what you're doing is suicide!","They barely miss a commuter train.","ANAKIN: Master, you know I've been flying since before I could walk. I'm very good at this.","OBI-WAN: Just slow down! There! There he goes!","ZAM WESSEL and the JEDI race through a line of cross traffic made up of giant trucks. The speeders bank sideways as they slide around right-angle turns between buildings. ZAM races into a tram tunnel.","OBI-WAN: Wait! Don't go in there! Take it easy...","ANAKIN: Don't worry, Master.","ANAKIN zooms into the tunnel after ZAM. They see a tram coming at them. They brake, turn around, and race out, barely ahead of the charging commuter transport.","OBI-WAN: You know I don't like it when you do that!","ANAKIN: Sorry, Master. Don't worry, this guy's gonna kill himself any minute now!","ZAM WESSEL turns into oncoming traffic, deliberately trying to throw the JEDI off. Oncoming speeders swerve, trying to avoid ZAM and the JEDI. ZAM does a quick, tight loop-over and ends up behind the JEDI. She is now in a much better position to fire at them with her laser pistol. To avoid being hit by the laser bolts, ANAKIN slams on the brakes and moves alongside ZAM. She now fires point-blank at OBI- WAN.","OBI-WAN: What are you doing? He's gonna blast me!","ANAKIN: Right - this isn't working.","ANAKIN slides underneath Zam's speeder. They race along in traffic, one speeder right on top of the other. The BOUNTY HUNTER skims over the rooftops, causing ANAKIN to drop behind. ANAKIN goes through his gears, zooming around traffic. They race at high speed across a wide, flat surface of the city planet. A large spacecraft almost collides with them as it attempts to land. ","OBI-WAN: Watch out for those banners!","They round a corner and clip a flag, which gets caught on one of the front air scoops.","OBI-WAN: That was too close!","ANAKIN: Clear that!","OBI-WAN: What?"," ANAKIN: Clear the flag! We're losing power! Hurry!","OBI-WAN leans out of the speeder, then crawls out onto the front engine and pulls the flag free of the scoop. The speeder lurches forward with a surge of power.","OBI-WAN: Whooooaaa! Don't do that! I don't  like it when you do that!","ANAKIN: So sorry, Master.","They chase the BOUNTY HUNTER through a power refinery. ZAM shoots a power coupler causing voltage, like lightning, to jump across a gap from one coupler to another. ANAKIN stays on course, piloting the speeder directly through the arc. ANAKIN and OBI-WAN'S bodies ripple with blue power.","OBI-WAN: Anakin! How many times have I told you to stay away from the power couplings! Slow down! Don't go through there!","Huge electrical bolts shoot between the buildings as the speeders pass.","OBI-WAN: Yiiii, what are you doing?","ANAKIN: Sorry, Master!","OBI-WAN: (sarcastically) Oh, that was good...","ANAKIN: That was crazy!!!","ZAM slides around a corner sideways, blocking an alley, firing point-blank as ANAKIN approaches.","ANAKIN: Ahh, damn.","OBI-WAN: Stop!!","ANAKIN: No, we can make it.","ANAKIN barely misses the BOUNTY HUNTER'S speeder as he dives under it, and through a small gap in the building hitting several pipes and going wildly out of control. ANAKIN struggles to regain control of the speeder, narrowly missing a crane, barely clipping a pair of giant struts. A giant gas ball shoots up, causing ANAKIN to spin and bump a building, stalling the speeder.","OBI-WAN: I'm crazy... I'm crazy... I'm crazy.","ANAKIN: I got us through that one all right.","OBI-WAN: (angrily) No you didn't! We've stalled! And you almost got us killed!","ANAKIN: I think we're still alive.","ANAKIN works to get the speeder started. It races to life.","OBI-WAN: (very angrily) It was stupid!","ANAKIN: (sheepishly) I could have made it...","OBI-WAN: (furious) But you didn't!!! And now we've lost him for good.","Suddenly, there is an ambush. Laser bolts are everywhere. EXPLOSIONS surround them. They look up to see ZAM WESSEL take off.","ANAKIN: No we didn't...","Out of a cloud of smoke and ball of flames the JEDI tear after ZAM. They are smoking. OBI-WAN slaps out the small fire on the dashboard. ZAM goes up and down, through cross traffic. There is a near miss as a speeder almost hits them. ZAM turns down and left between two buildings. ANAKIN pulls up and to the right","OBI-WAN: Where are you going?!... He went down there, the other way.","ANAKIN: Master, if we keep this chase going, that creep's gonna end up Deep-fried. Personally, I'd very much like to find out who in the hell he is and who he's working for... This is a shortcut... I think.","OBI-WAN: (sarcastic) What do you mean, you 'think ? '","ANAKIN turns up a side street, zooming up several small passageways, then stops, hovering about fifty stories up.","OBI-WAN: Well, you lost him.","ANAKIN: I'm deeply sorry, Master.","ANAKIN looks around front and back. He spots something. He seems to  start counting to himself as he watches something below approach.","OBI-WAN: Well, this is some kind of shortcut. He went completely the other way! Once again, Anakin...","ANAKIN: ...Excuse me for a moment.","ANAKIN jumps out of the speeder. OBI-WAN looks down and sees Zam's speeder about five stories below them cruising past. ","OBI-WAN: I hate it when he does that.","ANAKIN miraculously lands on top of the Bounty Hunter's speeder. The speeder wobbles under the impact. ZAM looks up and realizes what has happened.","ZAM takes off, and ANAKIN slides to the back strut and almost slips off, but manages to hang on. ANAKIN works his way back to ZAM, who, caught off guard, briefly changes into her CLAWDITE form. ZAM stops suddenly, and ANAKIN flies forward to the left front fork. ZAM shoots at him with a laser pistol. There is a BLAST near ANAKIN'S hand, which breaks off a piece of the speeder. ANAKIN slides to the right fork of the speeder, where ZAM can't reach him. He scrambles to the top, holding onto an air scoop."," OBI-WAN has jumped into the driver's seat of his speeder and is deftly gaining on the rogue speeder. The two speeders dive through oncoming traffic and then through cross traffic. Finally, ANAKIN is able to get hold of his lightsaber and starts to cut his way through the roof of the speeder. ZAM takes out her laser pistol and starts firing at the helpless JEDI, knocking the sword out of his hand. OBI-WAN races under the speeder and catches the Jedi weapon in the passenger's seat.","ANAKIN sticks his hand into the cockpit and, using the Force, pulls the gun out of ZAM'S hand. She grabs the JEDI'S hand, and they struggle for the weapon. It goes off, blowing a hole in the floor of the speeder. The speeder careens wildly out of control. ZAM struggles to pull the speeder out of its nosedive. OBI-WAN gets slowed down by traffic and loses sight of the Bounty Hunter's speeder.","Just as the speeder is about to nose dive into the ground, ZAM pulls it out, and it slides hard on the pavement in a shower of sparks. ANAKIN goes flying into the street.","EXTERIOR: ENTERTAINMENT STREET - NIGHT","ZAM exits the crashed speeder and runs. ANAKIN picks himself up off the pavement and runs after her down the very crowded street.","It's the seedy underbelly of the city. Broken sidewalks, garish lights reflected in filthy puddles. It's pretty crowded with various ALIEN LOW-LIFES, PANHANDLING DROIDS, and the occasional group of UPPERCLASS SLUMMERS.","ANAKIN barges into several of them as he chases after the fleeing ZAM. He loses the Bounty Hunter in the crowd, then sees her again. The young Jedi is having a very difficult time getting through the crowd. Ahead, ZAM turns in through a door and disappears. A nightclub sign is flashing over the door.","OBI-WAN lands the speeder in the nearby street. He gets out and runs through the crowd toward ANAKIN. ANAKIN is just about to follow ZAM into the nightclub when OBI-WAN catches up to him.","OBI-WAN: Anakin!","ANAKIN: She went into that club, Master.","OBI-WAN: Patience. Use the Force, Anakin. Think.","ANAKIN: Sorry, Master.","OBI-WAN: He went in there to hide, not run.","ANAKIN: Yes, Master.","OBI-WAN hands ANAKIN the lightsaber.","OBI-WAN: Here. Next time try not to lose it.","ANAKIN reaches for the lightsaber.","OBI-WAN: A Jedi's saber is his most precious possession...","ANAKIN: Yes, Master.","OBI-WAN: He must keep it with him at all times.","ANAKIN: I know, Master.","OBI-WAN grabs hold of ANAKIN'S lightsaber again.","OBI-WAN: This weapon is your life.","ANAKIN: I've heard this lesson before...","OBI-WAN finally holds out the lightsaber and ANAKIN grabs it.","OBI-WAN: But, you haven't learned anything, Anakin.","OBI-WAN releases hold of the lightsaber.","ANAKIN: I try, Master.","OBI-WAN walks ahead through the club entrance. ANAKIN follows him.","OBI-WAN: Why do I get the feeling you're going to be the death of me?!","INTERIOR: NIGHTCLUB - NIGHT","OBI-WAN and ANAKIN enter the nightclub bar, and everyone stares at them","ANAKIN: Don't say that Master... You're the closest thing I have to a father... I love you. I don't want to cause you pain.","OBI-WAN: Then why don't you listen to me?!","ANAKIN: I am trying.","OBI-WAN: Can you see him?","ANAKIN: I think he's a she... and I think she's a changeling.","OBI-WAN: In that case be extra careful... (nods to the room) Go and find her.","OBI-WAN goes away.","ANAKIN: Where are you going, Master?","OBI-WAN: For a drink.","OBI-WAN heads for the bar. ANAKIN blinks in surprise, then moves into the room, where ALIEN FACES look back at him with hostility, suspicion, and invitation as he moves among the tables. OBI-WAN arrives at the bar. He signals the BARMAN.","CLOSE - Somewhere in the room a HAND moves to a pistol in its holster and unsnaps the safety catch. At the bar, a glass is placed in front of OBI-WAN. A drink is poured. He lifts the glass.","ELAN SLEAZEBAGGANO: You wanna buy some death-sticks?","OBI-WAN looks at him. He moves his fingers slightly.","OBI-WAN: You don't want to sell me death-sticks.","ELAN: I don't want to sell you death-sticks.","OBI-WAN moves his fingers.","OBI-WAN: You want to go home and rethink your life.","ELAN: I want to go home and rethink my life.","He leaves. OBI-WAN lifts the drink and tosses it back.","CLOSE - The gun is drawn from its holster and held down out of sight. The BOUNTY HUNTER starts to move toward the bar.","The gun moves toward OBI-WAN'S unsuspecting back. The gun is raised to aim directly at his back, and suddenly OBI-WAN turns fast. His lightsaber flashes. There is a shrill SCREAM and ZAM'S ARM hits the floor. The gun drops from its twitching fingers. Blood spreads.","The room is silent. ANAKIN is suddenly at OBI-WAN's side, his lightsaber glowing.","ANAKIN: Easy... official business. Go back to your drinks.","Slowly, the ALIENS sit. Conversation resumes. Onstage, THE PERFORMERS pick up their routine. OBI-WAN and ANAKIN lift ZAM and carry her out.","EXTERIOR: ALLEY OUTSIDE NIGHTCLUB - NIGHT","OBI-WAN and ANAKIN carry ZAM into the alley and lower her to the ground. OBI-WAN attends to her wounded shoulder. She stares up hatefully at ANAKIN. She winces in pain, then nods.","OBI-WAN: Do you know who it was you were trying to kill?","ZAM WESELL: The Senator from Naboo.","OBI-WAN: Who hired you?","ZAM glares at OBI-WAN.","ZAM WESELL: It was just a job.","ANAKIN: Who hired you? Tell us!","ZAM WESELL: That Senator's gonna die soon anyway, and the next one won't make the same mistake I did...","OBI-WAN: This wound's going to need treatment.","ANAKIN: Tell us... tell us now!","ZAM glares hatefully.","ZAM WESELL: It was a Bounty Hunter called...","There is a sudden FTZZZ sound. ZAM twitches. She blinks in surprise and dies. As OBI-WAN lays ZAM down on the street, she changes to her CLAWDITE form.","There is a WHOOSH from above. OBI-WAN and ANAKIN look up to see an ARMORED ROCKET-MAN taking off from a roof high above. He shoots up fast into the sky and disappears. OBI- WAN looks down at ZAM. He touches her neck and pulls out a small, wicked-looking dart.","OBI-WAN: Toxic dart...","EXTERIOR: JEDI TEMPLE - DAY","The tall spires of the Jedi Temple stand out against the blue sky.","INTERIOR: JEDI TEMPLE, COUNCIL CHAMBER - DAY","OBI-WAN and ANAKIN stand in the center of the Council Chamber. The members of the Jedi Council are seated in a circle surrounding the two Jedi.","YODA: Track down this bounty hunter, you must, Obi-Wan.","MACE WINDU: Most importantly, find out who he's working for.","OBI-WAN: What about Senator Amidala? She will still need protecting.","YODA: Handle that, your Padawan will.","MACE WINDU: Anakin, escort the Senator back to her home planet of Naboo. She'll be safer there. And don't use registered transport. Travel as refugees.","ANAKIN: As the leader of the opposition, it will be very difficult to get Senator Amidala to leave the Capital.","YODA: Until caught this killer is, our judgement she must respect.","MACE WINDU: Anakin, go to the Senate and ask Chancellor Palpatine to speak with her.","The two Jedi exit the Council Chamber.","INTERIOR: SENATE BUILDING, PALPATINE'S OFFICE - DAY","ANAKIN and PALPATINE stand at the window of PALPATINE'S office and look out over the vast city.","PALPATINE: I will talk to her. Senator Amidala will not refuse an executive order. I know her well enough to assure you of that.","ANAKIN: Thank you, your Excellency.","PALPATINE: And so, my young Padawan, they have finally given you an assignment. Your patience has paid off.","ANAKIN: Your guidance more that my patience.","PALPATINE: You don't need guidance, Anakin. In time you will learn to trust your feelings. Then you will be invincible. I have said it many times, you are the most gifted Jedi I have ever met.","PALPATINE and ANAKIN turn away from the window and walk through PALPATINE'S office towards the door.","ANAKIN: Thank you, your Excellency.","PALPATINE: I see you becoming the greatest of all the Jedi, Anakin. Even more powerful than Master Yoda.","INTERIOR: JEDI TEMPLE, ATRIUM - DAY","MACE WINDU and OBI-WAN walk along the Temple corridors. YODA accompanies them, riding in a small floating chair.","OBI-WAN: I am concerned for my Padawan. He is not ready to be given this assignment on his own yet.","YODA: The Council is confident in this decision, Obi-Wan.","MACE WINDU: The boy has exceptional skills.","OBI-WAN: But he still has much to learn, Master. His abilities have made him... ell, arrogant.","YODA: Yes, yes. It's a flaw more and more common among Jedi. Too sure of themselves they are. Even the older, more experienced ones.","MACE WINDU: Remember, Obi-Wan. If the prophecy is true, your apprentice is the only one who can bring the Force back into balance.","OBI-WAN: If he follows the right path.","INTERIOR: APARTMENT BUILDING, AMIDALA'S APARTMENT - DAY","ANAKIN looks as PADM\xc9 and JAR JAR talk, standing near the door of the anteroom to PADM\xc9'S bedroom. DORM\xc9 moves about packing luggage.","PADME AMIDALA: I'm taking an extended leave of absence. It will be your responsibility to take my place in the Senate. Representative Binks, I know I can count on you.","JAR JAR: Mesa honored to be taken on dissa heavy burden. (pompously) Mesa accept this with muy muy humility and da...","PADME AMIDALA: Jar Jar. I don't wish to hold you up. I'm sure you have a great deal to do.","JAR JAR: Of course, M'Lady.","JAR JAR bows and goes out. PADM\xc9 walks briskly to ANAKIN. She is in a very bad mood.","PADME AMIDALA: I do not like this idea of hiding.","ANAKIN: Don't worry, now that the Council has ordered an investigation, it won't take Master Obi-Wan long to find this bounty hunter.","PADME AMIDALA: (frustrated) I haven't worked for a year to defeat the Military Creation Act not to be here when its fate is decided!","ANAKIN: Sometimes we have to let go of our pride and do what is requested of us.","PADME AMIDALA: Pride?!? Annie, you're young, and you don't have a very firm grip on politics. I suggest you reserve your opinions for some other time.","ANAKIN: Sorry, M'Lady. I was only trying to...","PADME AMIDALA: Annie! No!","ANAKIN: Please don't call me that.","PADME AMIDALA: What?","ANAKIN: Annie...","PADME AMIDALA: I've always called you that... it is your name, isn't it?","ANAKIN: It's Anakin. When you say Annie it's like I'm still a little boy... and I'm not.","PADME AMIDALA: I'm sorry, Anakin. It's impossible to deny you've... (looks him over) ...that you've grown up.","PADM\xc9 smiles at ANAKIN. He becomes a little shy.","ANAKIN: Master Obi-Wan manages not to see it...","PADME AMIDALA: Mentors have a way of seeing more of our faults than we would like. It's the only way we grow.","ANAKIN: Don't get me wrong... Obi-Wan is a great mentor, as wise as Master Yoda and as powerful as Master Windu. I am truly thankful to be his apprentice. Only... although I'm a Padawan learner, in some ways... a lot of ways... I'm ahead of him. I'm ready for the trials. I know I am! He knows it too. But he feels I'm too unpredictable... Other Jedi my age have gone through the trials and made it... I know I started my training late... but he won't let me move on.","PADME AMIDALA: That must be frustrating.","ANAKIN: It's worse... he's overly critical! He never listens! He just doesn't understand. It's not fair!","PADM\xc9 cannot suppress a laugh. She shakes her head.","PADME AMIDALA: I'm sorry... You sounded exactly like that little boy I once knew, when he didn't get his way.","ANAKIN: I'm not whining! I'm not.","PADM\xc9 just smiles at him. DORM\xc9 laughs in the background.","PADME AMIDALA: I didn't say it to hurt you.","ANAKIN: I know...","There is a brief silence, then PADM\xc9 comes over to ANAKIN.","PADME AMIDALA: Anakin...","They look into each other's eyes for the first time.","PADME AMIDALA: Don't try to grow up too fast.","ANAKIN: I am grown up. You said it yourself.","ANAKIN looks deep into PADM\xc9'S eyes.","PADME AMIDALA: Please don't look at me like that.","ANAKIN: Why not?","PADME AMIDALA: Because I can see what you're thinking.","ANAKIN: (laughing) Ahh... So, you have Jedi powers too?","DORM\xc9 is watching with concern.","PADME AMIDALA: It makes me feel uncomfortable.","ANAKIN: Sorry, M'Lady.","ANAKIN backs away as PADM\xc9 turns and goes back to her packing.","EXTERIOR: CORUSCANT, SPACEPORT FREIGHTER DOCKS, TRANSPORT BUS - DAY ","A small bus speeds toward the massive freighter docks of Coruscant's industrial area. The spaceport is bustling with activity. Transports of various sizes move supplies and passengers as giant floating cranes lift cargo out of the starships. The bus stops before a huge, intergalactic freighter starship. It parks in the shadows of an overhang.","INTERIOR: CORUSCANT, SPACEPORT FREIGHTER DOCKS, TRANSPORT BUS - DAY","ANAKIN and PADM\xc9, dressed in Outland peasant outfits, get up and head for the door where CAPTAIN TYPHO, DORM\xc9 and OBI-WAN are waiting to hand them their luggage.","CAPTAIN TYPHO: Be safe, M'Lady.","PADME AMIDALA: Thank you, Captain. Take good care of Dorm\xe9... The threat's on you two now.","DORM\xc9: He'll be safe with me.","They laugh, and PADM\xc9 embraces her faithful handmaiden. DORM\xc9 starts to weep.","PADME AMIDALA: You'll be fine.","DORM\xc9: It's not me, M'Lady. I worry about you. What if they realize you've left the Capital?","PADME AMIDALA: (looks to Anakin) Then my Jedi protector will have to prove how good he is.","DORM\xc9 and PADM\xc9 smile. ANAKIN frowns as OBI-WAN pulls him aside.","OBI-WAN: Anakin. Don't do anything without first consulting either myself or the Council.","ANAKIN: Yes, Master.","OBI-WAN: (to Padm\xe9) I will get to the bottom of this plot quickly, M'Lady. You'll be back here in no time.","PADME AMIDALA: I will be most grateful for your speed, Master Jedi.","ANAKIN: Time to go.","PADME AMIDALA: I know. ","PADM\xc9 gives DORM\xc9 a last hug. ANAKIN picks up the luggage, and the TWO PEASANTS exit the speeder bus, where ARTOO is waiting for them.","OBI-WAN: Anakin, may the Force be with you.","ANAKIN: May the Force be with you, Master.","They head off toward the giant Starfreighter.","PADME AMIDALA: Suddenly, I'm afraid...","ANAKIN: This is my first assignment on my own. I am too. (looking at Artoo) But don't worry. We've got Artoo with us.","They laugh.","OBI-WAN and CAPTAIN TYPHO watch ANAKIN and PADM\xc9 disappear into the  vastness of the spaceport with ARTOO trundling along behind them.","OBI-WAN: I hope he doesn't try anything foolish.","CAPTAIN TYPHO: I'd be more concerned about her doing something, than him.","EXTERIOR: FREIGHTER DOCKS - CORUSCANT - DAY","The freighter slowly takes off from the huge docks area of Coruscant. It soon moves into the crowded skies.","INTERIOR: JEDI TEMPLE, MAIN HALLWAY - LATE DAY","From high above, light streams down from the lofty ceilings. OBI-WAN crosses the floor of the great hallway, heading for the Analysis Rooms.","INTERIOR: JEDI TEMPLE, ANALYSIS CUBICLES - LATE DAY","OBI-WAN walks past several glass cubicles where work is going on. He comes to an empty one and sits down in front of a console. A SP-4 ANALYSIS DROID comes to life. A tray slides out of the console.","SP-4: Place the subject for analysis on the sensor tray, please.","OBI-WAN puts the dart onto the tray, which retracts into the console. The DROID activates the system, and a screen lights up in front of OBI-WAN.","OBI-WAN: It's a toxic dart. I need to know where it came from and who made it.","SP-4: One moment, please.","Diagrams and data appear on the screen, scrolling past at great speed. OBI-WAN watches as the screen goes blank. The tray slides out.","SP-4: Markings cannot be identified. As you can see on your screen, subject weapon does not exist in any known culture. Probably self-made by a warrior not associated with any known society. Stand away from the sensor tray please.","OBI-WAN: Excuse me? Could you try again please?","SP-4: Master Jedi, our records are very thorough. They cover eighty percent of the galaxy. If I can't tell you where it came from, nobody can.","OBI-WAN picks up the dart and looks at it, then looks to the DROID.","OBI-WAN: Thanks for your assistance! (to himself) I know who can identify this.","EXTERIOR: CORUSCANT, DOWNTOWN, BACK STREET - MORNING","OBI-WAN walks down the street. It is a pretty tough part of town. Old buildings, warehouses, beat up speeders and transporter rigs thundering past. Above, the old elevated monospeed with occasional 'shiny freighters' hissing through.","OBI-WAN comes to a kind of alien diner. On the steamed-up windows it says 'DEX'S DINER' in alien lettering. He goes inside.","INTERIOR: CORUSCANT, DEX'S DINER - MORNING","A WAITRESS DROID is carrying plates of half-eaten food. There is a counter with stools and a line of booths along the wall by the window. A number of CUSTOMERS are eating - TOUGH-LOOKING WORKERS, FREIGHTER DRIVERS, ETC. The WAITRESS DROID looks up as OBI-WAN comes in.","WAITRESS DROID: Can I help ya?","OBI-WAN: I'm looking for Dexter.","The WAITRESS DROID approaches OBI-WAN.","WAITRESS DROID: Waddya want him for?","OBI-WAN: He's not in trouble. It's personal.","There is a brief pause. Then the DROID goes to the open serving hatch behind the counter.","WIITRESS DROID: Someone to see ya, honey. (lowering her voice) A Jedi, by the looks of him.","Steam billows out from the kitchen hatch behind the counter as a huge head pokes through.","DEXTER JETTSTER: Obi-Wan!","OBI-WAN: Hey, Dex.","DEXTER JETTSTER: Take a seat! Be right with ya!","OBI-WAN sits in a booth.","WAITRESS DROID: You want a cup of ardees?","OBI-WAN: Oh yes, thank you.","The WAITRESS DROID moves off as the door to the counter opens and DEXTER JETTSTER appears. He is big - bald and sweaty, old and alien. Not someone to tangle with. He arrives, beaming hugely.","DEXTER JETTSTER: Hey, ol' buddy!","OBI-WAN: Hey, Dex.","DEXTER eases himself into the seat opposite OBI-WAN. He can just make it. ","DEXTER JETTSTER: So, my friend. What can I do for ya?","OBI-WAN: You can tell me what this is.","OBI-WAN places the dart on the table between them. DEX'S eyes widen. He puts down his mug.","DEXTER JETTSTER: (softly) Well, whaddya know...","DEXTER picks up the dart delicately between his puffy fingers and peers at it.","DEXTER JETTSTER: I ain't seen one of these since I was prospecting on Subterrel beyond the Outer Rim!","OBI-WAN: Can you tell me where it came from?","DEXTER grins. He puts the dart down between them.","DEXTER JETTSTER: This baby belongs to them cloners. What you got here is a Kamino saberdart.","OBI-WAN: Kamino saberdart? ...I wonder why it didn't show up in our analysis archive.","DEXTER JETTSTER: It's these funny little cuts on the side give it away... Those analysis droids you've got over there only focus on symbols, you know. I should think you Jedi would have more respect for the difference between knowledge and wisdom.","OBI-WAN: Well, Dex, if droids could think, we wouldn't be here, would we? (laughing) Kamino... doesn't sound familiar. Is it part of the Republic?","DEXTER JETTSTER: No, it's beyond the Outer Rim. I'd say about twelve parsecs outside the Rishi Maze, toward the south. It should be easy to find, even for those droids in your archive. These Kaminoans keep to themselves. They're cloners. Damned good ones, too.","OBI-WAN picks up the dart, holding it midway between them.","OBI-WAN: Cloners? Are they friendly?","DEXTER JETTSTER: It depends.","OBI-WAN: On what, Dex?","Dexter grins. ","DEXTER JETTSTER: On how good your manners are... and how big your pocketbook is...","EXTERIOR: JEDI TEMPLE - DAY","The main entrance at the base of the huge Temple is bustling with activity. All sorts of JEDI are coming and going.","INTERIOR: JEDI TEMPLE, ARCHIVE LIBRARY - DAY","A bronze bust of Count Dooku stands among a line of other busts of Jedi in the Archive Room. OBI-WAN stands in front of it, studying the striking features of the chiseled face.","On the walls, lighted computer panels seem to stretch into infinity. Farther along the room in the background, FIVE JEDI are seated at tables, studying archive material.","After OBI-WAN studies the bust for a few moments before MADAME JOCASTA NU, the Jedi Archivist, is standing next to him. She is an elderly, frail-looking human Jedi. Tough as old boots and smart as a whip.","JOCASTA NU: Did you call for assistance?","OBI-WAN: (distracted in thought) Yes... yes, I did...","JOCASTA NU: He has a powerful face, doesn't he? He was one of the most brilliant Jedi I have had the privilege of knowing.","OBI-WAN: I never understood why he quit. Only twenty Jedi have ever left the Order.","JOCASTA NU: (sighs) The Lost Twenty... Count Dooku was the most recent and the most painful. No one likes to talk about it. His leaving was a great loss to the Order.","OBI-WAN: What happened?","JOCASTA NU: Well, Count Dooku was always a bit out of step with the decisions of the Council... much like your old Master, Qui-Gon Jinn.","OBI-WAN: (surprised) Really?","JOCASTA NU: Oh, yes. They were alike in many ways. Very individual thinkers... idealists...","JOCASTA NU gazes at the bust.","JOCASTA NU: He was always striving to become a more powerful Jedi. He wanted to be the best. With a lightsaber, in the old style of fencing, he had no match. His knowledge of the Force was... unique. In the end, I think he left because he lost faith in the Republic. He believed that politics were corrupt, and he felt the Jedi betrayed themselves by serving the politicians. He always had very high expectations of government. He disappeared for nine or ten years, then just showed up recently as the head of the separatist movement.","OBI-WAN: It's very interesting. I'm not sure I completely understand.","JOCASTA NU: Well, I'm sure you didn't call me over here for a history lesson. Are you having a problem, Master Kenobi?","OBI-WAN: Yes, I'm trying to find a planet system called Kamino. It doesn't seem to show up on any of the archive charts.","JOCASTA NU: Kamino? It's not a system I'm familiar with... Let me see...","JOCASTA NU leans over OBI-WAN'S shoulder, looking at the screen.","JOCASTA NU: Are you sure you have the right coordinates?","OBI-WAN: (nodding) According to my information, it should be in this quadrant somewhere... just south of the Rishi Maze.","JOCASTA NU taps the keyboard and frowns.","JOCASTA NU: No coordinates? It sounds like the sort of directions you'd get from a street tout... some old miner or Furbog trader.","OBI-WAN: All three, actually.","JOCASTA NU: Are you sure it exists?","OBI-WAN: Absolutely.","JOCASTA NU: Let me do a gravitational scan.","OBI-WAN and JOCASTA NU study the star map hologram.","JOCASTA NU: There are some inconsistencies here. Maybe the planet you're seeking was destroyed.","OBI-WAN: Wouldn't that be on record?","JOCASTA NU: It ought to be, unless it was very recent. (shakes her head) I hate to say it, but it looks like the system you're searching for doesn't exist.","OBI-WAN: That's impossible... perhaps the archives are incomplete.","JOCASTA NU: The archives are comprehensive and totally secure, my young Jedi. One thing you may be absolutely sure of - if an item does not appear in our records, it does not exist!","OBI-WAN stares at her, then looks back to the map. JOCASTA NU notices a young boy approach. She turns from OBI-WAN and leaves with the youngster.","EXTERIOR: SPACE, STARSHIP FREIGHTER","The massive, slow-moving Freighter moves through space.","INTERIOR: STARFREIGHTER, STEERAGE HOLD - DAY","The great, gloomy hold is crowded with EMIGRANTS and their belongings. To one side ARTOO is coming to the head of a food line holding two bowls. With one of his little claw arms, he grabs a chunk of something that looks like bread.","ARTOO slips a tube into a tub of mush and sucks up a large quantity. A SERVER sees him.","SERVER: Hey! No Droids!","ARTOO takes one last big suck and heads away from the food line. The SERVER shouts after him angrily. The little droid moves past groups of eating or sleeping EMIGRANTS and comes to ANAKIN and PADM\xc9'S table where ANAKIN is sound asleep. The young Jedi seems to be having a nightmare. He is very restless.","ANAKIN: No, no, Mom, no...","He is sweating. PADM\xc9 leans over resting her hand on his arm. He wakes up with a start, then realizes where he is. PADM\xc9 simply looks at him. He stares back, somewhat confused.","ANAKIN: What?","PADME AMIDALA: You seemed to be having a nightmare.","ANAKIN looks at PADM\xc9 a little more closely, trying to see if he has revealed any of his secrets. She hands him a bowl of mush and bread.","PADME AMIDALA: Are you hungry?","ANAKIN: Yeah.","PADM\xc9 takes the food from ARTOO and sets it on a make-shift table. ANAKIN rises and takes a seat as she places a bowl in front of him.","ANAKIN: Thanks.","PADME AMIDALA: We went to lightspeed a while ago.","ANAKIN looks into PADM\xc9'S eyes.","ANAKIN: I look forward to seeing Naboo again. I've thought about it every day since I left. It's by far the most beautiful place I've ever seen...","PADM\xc9 is a little unnerved by his intense stare. ","PADME AMIDALA: It may not be as you remember it. Time changes perception.","ANAKIN: Sometimes it does... Sometimes for the better.","PADME AMIDALA: It must be difficult having sworn your life to the Jedi... not being able to visit the places you like... or do the things you like...","ANAKIN: Or be with the people I love.","PADME AMIDALA: Are you allowed to love? I thought it was forbidden for a Jedi.","ANAKIN: Attachment is forbidden. Possession is forbidden. Compassion, which I would define as unconditional love, is central to a Jedi's life, so you might say we're encouraged to love.","PADME AMIDALA: You have changed so much.","ANAKIN: You haven't changed a bit. You're exactly the way I remember you in my dreams. I doubt if Naboo has changed much either.","PADME AMIDALA: It hasn't...","There is an awkward moment.","PADME AMIDALA: (continuing; changing the subject) You were dreaming about your mother earlier, weren't you?","ANAKIN: Yes... I left Tatooine so long ago, my memory of her is fading. I don't want to lose it. Recently I've been seeing her in my dreams... vivid dreams... scary dreams. I worry about her.","PADM\xc9 gives ANAKIN a sympathetic look.","INTERIOR: JEDI TEMPLE, MAIN HALLWAY - DAY","OBI-WAN walks through the main hallway to the training area.","INTERIOR: JEDI TEMPLE, TRAINING VERANDA - DAY","OBI-WAN comes out onto the veranda and stops, watching TWENTY or so FOUR-YEAR-OLDS doing training exercises, supervised by YODA. They wear helmets over their eyes and try to strike little TRAINING DROIDS with their miniature lightsabers. The DROIDS dance in front of them.","YODA: Don't think... feel... be as one with the Force. Help you, it will. (he sees Obi-Wan) Younglings - enough! A visitor we have. Welcome him.","The CHILDREN turn off their lightsabers.","YODA: Master Obi-Wan Kenobi, meet the mighty Bear Clan.","CHILDREN: Welcome, Master Obi-Wan!","OBI-WAN: I am sorry to disturb you, Master.","YODA: What help to you, can I be?","OBI-WAN: I'm looking for a planet described to me by an old friend. I trust him. But the system doesn't show up on the archive maps.","YODA: Lost a planet, Master Obi-Wan has. How embarrassing... how embarrassing. Liam, the shades. An interesting puzzle. Gather, younglings, around the map reader. Clear your minds and find Obi-Wan's wayward planet, we will.","The reader is a small shaft with a hollow opening at the top. The CHILDREN gather around it. OBI-WAN takes out a little glass ball and places it into the bowl. The window shades close, the reader lights up and projects the star map hologram into the room. The CHILDREN laugh. Some of them reach up to try and touch the nebulae and stars. OBI- WAN walks into the display.","OBI-WAN: This is where it ought to be... but it isn't. Gravity is pulling all the stars in this area inward to this spot. There should be a star here... but there isn't.","YODA: Most interesting. Gravity's silhouette remains, but the star and all its planets have disappeared. How can this be? Now, younglings, in your mind, what is the first thing you see? An answer? A thought? Anyone?","There is a brief pause. Then a CHILD puts his hand up. YODA nods.","JEDI CHILD JACK: Master? Because someone erased it from the archive memory.","CHILDREN: That's right! Yes! That's what happened! Someone erased it!","JEDI CHILD MAY: If the planet blew up, the gravity would go away.","OBI-WAN stares; YODA chuckles.","YODA: Truly wonderful, the mind of a child is. The Padawan is right. Go to the center of the gravity's pull, and find your planet you will.","YODA and OBI-WAN move away from the CHILDREN. With a hand movement, OBI-WAN causes the star map to disappear. OBI-WAN uses the Force to call the glass ball back to his hand as the two walk into an adjoining room.","OBI-WAN: But Master Yoda who could have erased information from the archives? That's impossible, isn't it?","YODA: (frowning) Dangerous and disturbing this puzzle is. Only a Jedi could have erased those files. But who and why, harder to answer. Meditate on this, I will. May the Force be with you.","EXTERIOR: NABOO SPACEPORT - DAY","The Starfreighter lands in the giant port city of Theed.","PADM\xc9, ANAKIN and ARTOO are among the EMIGRANTS streaming from the Starfreighter and into the vast docking area. They exit onto the main plaza.","EXTERIOR: NABOO PALACE, GRAND COURTYARD - AFTERNOON","The speeder bus pulls up and stops. PADM\xc9, ANAKIN, and ARTOO get out. The great courtyard stretches before them, and they see the rose-colored domes of the palace on the  far side. ARTOO WHISTLES. They pick up their gear and start to cross the courtyard. ARTOO trundles behind them.","ANAKIN: If I grew up here, I don't think I'd ever leave.","PADME AMIDALA: (laughing) I doubt that.","ANAKIN: No, really. When I started my training, I was very homesick and very lonely. This city and my Mom were the only pleasant things I had to think about... The problem was, the more I thought about my Mom, the worse I felt. But I would feel better if I thought about the palace - the way it shimmers in the sunlight - the way the air always smells of flowers...","PADME AMIDALA: ...and the soft sound of the distant waterfalls. The first time I saw the Capital, I was very young... I'd never seen a waterfall before. I thought they were so beautiful... I never dreamed one day I'd live in the palace.","ANAKIN: Well, tell me, did you dream of power and politics when you were a little girl?","PADME AMIDALA: (laughing) No! That was the last thing I thought of, but the more history I studied, the more I realized how much good politicians could do. After school, I became a Senatorial advisor with such a passion that, before I knew it, I was elected Queen. For the most part it was because of my conviction that reform was possible. I wasn't the youngest Queen ever elected, but now that I think back on it, I'm not sure I was old enough. I'm not sure I was ready.","ANAKIN: The people you served thought you did a good job. I heard they tried to amend the Constitution so you could stay in office.","PADME AMIDALA: Popular rule is not democracy, Annie. It gives the people what they want, not what they need. And, truthfully, I was relieved when my two terms were up. So were my parents. They worried about me during the blockade and couldn't wait for it all to be over. Actually, I was hoping to have a family by now... My sisters have the most amazing, wonderful kids... So when the Queen asked me to serve as Senator, I couldn't refuse her.","ANAKIN: I agree! I think the Republic needs you... I'm glad you chose to serve. I feel things are going to happen in our generation that will change the galaxy in profound ways.","PADME AMIDALA: I think so too.","ANAKIN and PADM\xc9 walk toward the palace. ARTOO continues to follow.","INTERIOR: NABOO PALACE, THRONE ROOM - AFTERNOON","QUEEN JAMILLIA is seated on the throne, flanked by SIO BIBBLE and a COUPLE OF ADVISORS. FOUR HANDMAIDENS stand close by, and GUARDS are at the doors.","QUEEN JAMILLIA: We've been worried about you. (takes her hand) I'm so glad you're safe, Padm\xe9.","PADME AMIDALA: Thank you, Your Highness. I only wish I could have served you better by staying on Coruscant for the vote.","SIO BIBBLE: Given the circumstances, Senator, you know it was the only decision Her Highness could have made.","QUEEN JAMILLIA: How many systems have joined Count Dooku and the separatists?","PADME AMIDALA: Thousands. And more are leaving the Republic every day. If the Senate votes to create an army, I'm sure it's going to push us into a civil war.","SIO BIBBLE: It's unthinkable! There hasn't been a full scale war since the formation of the Republic!","QUEEN JAMILLIA: Do you see any way, through negotiations, to bring the separatists back into the Republic?","PADME AMIDALA: Not if they feel threatened. The separatists don't have an army, but if they are provoked, they will move to defend themselves. I'm sure of that. And with no time or money to build an army, my guess is they will turn to the Commerce Guilds or the Trade Federation for help.","QUEEN JAMILLIA: The armies of commerce! Why has nothing been done in the Senate to restrain them?","PADME AMIDALA: I'm afraid that, despite the Chancellor's best efforts, there are still many bureaucrats, judges, and even Senators on the payrolls of the Guilds.","SIO BIBBLE: It's outrageous that, after all of those hearings, and four trials in the Supreme Court, Nute Gunray is still the Viceroy of the Trade Federation. I fear the Senate is powerless to resolve this crisis. Do those money mongers control everything?","QUEEN JAMILLIA: Remember, Counselor, the courts were able to reduce the Federation's armies. That's a move in the right direction.","PADME AMIDALA: There are rumors, Your Highness, that the Trade Federation Army was not reduced as they were ordered.","QUEEN JAMILLIA: We must keep our faith in the Republic. The day we stop believing democracy can work is the day we lose it.","PADME AMIDALA: Let's pray that day never comes.","QUEEN JAMILLIA: In the meantime, we must consider your own safety.","SIO BIBBLE signals. All the OTHER ADVISORS and ATTENDANTS bow and leave the room.","SIO BIBBLE: (to Anakin) What is your suggestion, Master Jedi?","PADME AMIDALA: Anakin's not a Jedi yet, Counselor. He's still a Padawan learner. I was thinking...","ANAKIN: (nettled) Hey, hold on a minute!","PADME AMIDALA: Excuse me! I was thinking I would stay in the Lake Country. There are some places up there that are very isolated.","ANAKIN: Excuse me?! I am in charge of security here, M'Lady.","SIO BIBBLE and QUEEN JAMILLIA exchange a look. Something is going on here.","PADME AMIDALA: Annie, my life is at risk, and this is my home. I know it very well... that is why we're here. I think it would be wise for you to take advantage of my knowledge in this instance.","ANAKIN: (takes a deep breath) Sorry, M'Lady.","QUEEN JAMILLIA: Perfect. It's settled then.","ANAKIN glares at PADM\xc9. Then QUEEN JAMILLIA gets up, and they all start to leave.","QUEEN JAMILLIA: Padm\xe9, I had an audience with your father yesterday. I told him what was happening. He hopes you will visit your mother before you leave... your family's very worried about you.","PADME AMIDALA: Thank you, your Highness.","PADM\xc9 looks worried. They ALL exit down the main staircase.","EXTERIOR: THEED, RESIDENTIAL AREA, SIDE STREET - AFTERNOON","PEOPLE are passing through the little street, OLD MEN are sunning themselves, WOMEN are gossiping, KIDS are playing. ANAKIN, PADM\xc9 and ARTOO turn onto a side street. ANAKIN is back in his Jedi robes. PADM\xc9 wear a beautiful simple dress. She stops, beaming.","PADME AMIDALA: There's my house!","PADM\xc9 starts forward; ANAKIN hangs back.","PADME AMIDALA: What? Don't say you're shy!","ANAKIN: (untruthfully) No, but I...","Suddenly, there are shouts from two little girls, RYOO (age 6) and POOJA (age 4). They come running toward PADM\xc9.","PADME AMIDALA: Ryoo!! Pooja!!","PADM\xc9 scoops up RYOO and POOJA and hugs them.","PADME AMIDALA: Go wake up Artoo.","RYOO & POOJA: Artoo!!!","As they see the droid, they hug him. ARTOO WHISTLES and BEEPS. PADM\xc9 laughs. ANAKIN and PADM\xc9 go on toward the house. The GIRLS stay and play with ARTOO.","INTERIOR: PADM\xc9'S PARENTS' HOUSE, MAIN ROOM - AFTERNOON","SOLA, PADM\xc9'S beautiful older sister, comes in from the kitchen carrying a big bowl of food.","SOLA: (over her shoulder) They're eating over at Jev Narran's later, Mom. They just had a snack. They'll be fine.","SOLA puts the bowl down on the table, where ANAKIN, PADM\xc9 and RUWEE NABERRIE (Padme's father) are coming into the room.","SOLA: Padm\xe9! (hugging her) You're late. Mom was worried.","PADME AMIDALA: We walked. Anakin, this is my sister, Sola.","SOLA: Hello, Anakin.","ANAKIN: Hello.","SOLA sits, as JOBAL NABERRIE (Padme's mother) comes in with a heaped bowl of steaming food.","PADME AMIDALA: ...and this is my mother.","JOBAL: You're just in time for dinner. I hope you're hungry, Anakin.","ANAKIN: A little.","PADME AMIDALA: He's being polite, Mom. We're starving.","RUWEE: (grinning) You came to the right place at the right time.","EVERYONE sits and starts passing food.","JOBAL: (to Padm\xe9) Honey, it's so good to see you safe. We were so worried.","PADM\xc9 gives JOBAL a dirty look. RUWEE smiles as he watches.","RUWEE: Dear...","JOBAL: I know, I know... but I had to say it. Now it's done.","SOLA: Well, this is exciting! Do you know, Anakin, you're the first boyfriend my sister's ever brought home?","PADME AMIDALA: (rolls her eyes) Sola!! He isn't my boyfriend! He's a Jedi assigned by the Senate to protect me.","JOVAL: A bodyguard?! Oh, Padme! They didn't tell us it was that serious!","PADME AMIDALA: It's not, Mom, I promise. (glances at Jobal) Anyway, Anakin's a friend. I've known him for years. Remember that little boy who was with the Jedi during the blockade crisis?","They nod.","PADME AMIDALA: He grew up.","JOBAL: Honey, when are you going to settle down? Haven't you had enough of that life? I certainly have!","PADME AMIDALA: Mom, I'm not in any danger.","RUWEE: (to Anakin) Is she?","ANAKIN: ...Yes ...I'm afraid she is.","PADME AMIDALA: (quickly) But not much.","EXTERIOR: PADM\xc9'S PARENTS' GARDEN - AFTERNOON","ANAKIN and RUWEE are walking.","RUWEE: Sometimes I wish I'd traveled more... but I must say, I'm happy here.","ANAKIN: Padm\xe9 tells me you teach at the university?","RUWEE: (nodding) Yes, and before that, I was a builder. I also worked for the refugee relief movement when I was very young.","INTERIOR: PADM\xc9'S PARENTS' HOUSE, MAIN ROOM - AFTERNOON","PADM\xc9, SOLA and JOBAL are clearing the table.","SOLA: Why haven't you told us about him?","PADME AMIDALA: What's there to talk about?  He's just a boy.","SOLA: A boy? Have you seen the way he looks at you?","PADME AMIDALA: Sola - stop it!","SOLA: It's obvious he has feelings for you. Are you saying, little baby sister, that you haven't noticed?","PADME AMIDALA: I'm not your baby sister, Sola. Anakin and I are friends... our relationship is strictly professional. (to Jobal) Mom, would you tell her to stop it?","SOLA: (laughing) Well, maybe you haven't noticed the way he looks at you. I think you're afraid to.","PADME AMIDALA: Cut it out.","JOBAL: Sola's just concerned... we all are.","PADME AMIDALA: Oh, Mom, you're impossible. What I'm doing is important.","JOBAL: You've done your service, Padm\xe9. It's time you had a life of your own. You're missing so much!","EXTERIOR: PADM\xc9'S PARENTS' GARDEN - AFTERNOON","ANAKIN and RUWEE are walking in the garden. RUWEE stops and faces ANAKIN directly.","RUWEE: Now tell me, son. How serious is this thing? How much danger is my daughter really in?","ANAKIN: There have been two attempts on her life. Chances are there'll be more. My Master is tracking down the assassins. I'm sure he'll find out who they are. This situation, won't last long.","RUWEE: I don't want anything to happen to her.","ANAKIN: I don't either.","INTERIOR: PADM\xc9'S PARENTS' HOUSE, PADM\xc9'S ROOM - AFTERNOON","PADM\xc9 throws some things into a bag.","PADME AMIDALA: Don't worry, this won't take long.","ANAKIN: I just want to get there before dark.","PADM\xc9 goes on packing. ANAKIN looks around the room.","ANAKIN: You still live at home.","PADME AMIDALA: I move around so much, I've never had a place of my own. Official residences have no warmth. I feel good here. I feel at home.","ANAKIN: I never had a real home. Home was always where my Mom was.","ANAKIN picks up a framed hologram.","ANAKIN: Is this you?","The hologram shows PADM\xc9 at age seven or eight surrounded by forty or fifty little green creatures. She is holding one in her arms. They are all smiling hugely.","PADME AMIDALA: That was when I went with the relief group to Shadda-Bi-Boran. Their sun was imploding, and the planet was dying. I was helping to relocate the children. See that little one I'm holding? His name was N'a-kee-tula, which means sweetheart. He was so full of life. All those kids were. They were never able to adapt... to live off their native planet.","ANAKIN picks up another hologram. It shows PADM\xc9 at age ten or eleven. She is wearing official robes and standing between two robed legislators. Her expression is severe.","PADME AMIDALA: My first day as an Apprentice Legislator. Notice the difference?","PADM\xc9 pulls a face. ANAKIN grins. She continues packing. ANAKIN sets the two holograms down side by side - the beaming little girl, and the stern, unsmiling adolescent.","EXTERIOR: SPACE","The view is just like the star map hologram, plus, the storm-shrouded planet of Kamino is exactly where it ought to be. Obi-Wan's Starship disengages from the hyperspace transport ring and flies OVER CAMERA and heads down toward the planet.","OBI-WAN: There it is, Arfour, right where it should be. Our missing planet, Kamino. Those files were altered.","EXTERIOR: TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) - DAY","Heavy rains and hard-driving winds lash the platform as Obi-Wan's Starship approaches. The huge, ultra-modern city of Tipoca rests on great stilts that keep it above the pounding and ever-present waves that cover the surface of this watery world.","The Starfighter lands. OBI-WAN gets out and makes his way through the howling wind toward a tower on the far side of the platform. A door slides open. A shaft of brilliant light pierces the swirling rain. OBI-WAN passes through it and goes inside.","INTERIOR: TIPOCA CITY, CORRIDOR ENTRANCE - DAY","A Brilliant white light. OBI-WAN pushes the soaking hood from his face.","TAUN WE: Master Jedi, so good to see you.","OBI-WAN wipes the rain from his face and blinks in surprise at a tall, pasty-white alien named TAUN WE. He has large, almond shaped eyes.","TAUN WE: The Prime Minister expects you.","OBI-WAN: (warily) I'm expected?","TAUN WE: Of course! He is anxious to meet you. After all these years, we were beginning to think you weren't coming. Now please, this way!","OBI-WAN masks his surprise as they move away along the corridor.","INTERIOR: TIPOCA CITY, PRIME MINISTER OFFICE - DAY","The door slides open. OBI-WAN and TAUN WE enter and cross to where LAMA SU rises, smiling, from his chair, which, like all the furniture on Kamino, seems made out of pure light.","TAUN WE: May I present Lama Su, Prime Minister of Kamino... and this is Master Jedi...","OBI-WAN: Obi-Wan Kenobi.","LAMA SU indicates a chair. OBI-WAN remains standing. TAUN WE hovers. The room is bathed in brilliant white light. The whole place is ultra high-tech.","LAMA SU: I trust you are going to enjoy your stay. We are most happy you have arrived at the best part of the season.","OBI-WAN: You make me feel most welcome.","LAMA SU: Please... (gestures to chair) And now to business. You will be delighted to hear we are on schedule. Two hundred thousand units are ready, with another million well on the way.","OBI-WAN: (improvising) That is... good news.","LAMA SU: Please tell your Master Sifo-Dyas that we have every confidence his order will be met on time and in full. He is well, I hope.","OBI-WAN: I'm sorry? Master - ?","LAMA SU: Jedi Master Sifo-Dyas. He's still a leading member of the Jedi Council, is he not?","OBI-WAN: Master Sifo-Dyas was killed almost ten years ago.","LAMA SU: Oh, I'm so sorry to hear that. But I'm sure he would have been proud of the army we've built for him.","OBI-WAN: The army?","LAMA SU: Yes, a clone army. And, I must say, one of the finest we've ever created.","OBI-WAN: Tell me, Prime Minister, when my Master first contacted you about the army, did he say who it was for?","LAMA SU: Of course he did. This army is for the Republic. But you must be anxious to inspect the units for yourself.","OBI-WAN: That's why I'm here.","OBI-WAN and LAMA SU rise and walk toward the door.","EXTERIOR: NABOO LAKE RETREAT, WATER SPEEDER, LANDING PLATFORM - LATE AFTERNOON","A water speeder driven by PADDY ACCU, the retreat caretaker, docks at the island landing platform. ANAKIN and PADM\xc9 disembark the water speeder at the base of a lodge rising on the beautiful island in the middle of the lake.","EXTERIOR: NABOO LAKE RETREAT, LODGE, GARDEN TERRACE - LATE AFTERNOON","ANAKIN and PADM\xc9 walk up the stairs from where the water speeder is parked onto a terrace overlooking a lovely garden. Behind them, PADDY ACCU follows.","ANAKIN and PADM\xc9 stop at the balustrade. PADM\xc9 looks out across the garden to the shimmering lake and the mountains rising beyond. ANAKIN looks at her.","PADME AMIDALA: When I was in Level Three, we used to come here for school retreat. See that island? We used to swim there every day. I love the water.","ANAKIN: I do too. I guess it comes from growing up on a desert planet.","PADM\xc9 becomes aware that ANAKIN is looking at her.","PADME AMIDALA: ...We used to lie on the sand and let the sun dry us... and try to guess the names of the birds singing.","ANAKIN: I don't like sand. It's coarse and rough and irritating, and it gets everywhere. Not like here. Here everything's soft... and smooth...","He touches her arm. PADM\xc9 has become receptive to the way he looks at her but is nervous.","PADME AMIDALA: There was a very old man who lived on the island. He used to make glass out of sand - and vases and necklaces out of the glass. They were magical.","ANAKIN: (looks into her eyes) Everything here is magical.","PADME AMIDALA: You could look into the glass and see the water. The way it ripples and moves. It looked so real... but it wasn't.","ANAKIN: Sometimes, when you believe something to be real, it becomes real.","They look into each other's eyes.","PADME AMIDALA: I used to think if you looked too deeply into glass, you would lose yourself.","ANAKIN: I think it's true...","ANAKIN kisses PADM\xc9. She doesn't resist. She comes to her senses and pulls away.","PADME AMIDALA: No, I shouldn't have done that.","ANAKIN: I'm sorry. When I'm around you, my mind is no longer my own.","He looks at her.","EXTERIOR: TIPOCA CITY, PARADE GROUND (RAINSTORM) - DAY","OBI-WAN, LAMA SU and TAUN WE come out onto a balcony. Below is a huge parade ground. The rain and wind are brutal. THOUSANDS OF CLONE TROOPERS, faces covered by helmets, are marching and drilling in formations of several hundred.","LAMA SU: (beaming) Magnificent, aren't they?","OBI-WAN nods slowly.","INTERIOR: TIPOCA CITY, CLONE CENTER, CLASSROOM - DAY","The tour continues through a classroom filled with IDENTICAL YOUNG BOY CLONES.","LAMA SU: We take great pride in our combat education and training programs. This group was created about five years ago.","OBI-WAN: You mentioned growth acceleration...","LAMA SU: Oh yes, it's essential. Otherwise, a mature clone would take a lifetime to grow. Now, we can do it in half the time. Those items you saw on the parade ground were started ten years ago, when Sifo-Dyas first placed the order, and they're already mature.","INTERIOR: TIPOCA CITY, CLONE CENTER, COMMISSARY - DAY","LAMA SU conducts OBI-WAN through a large eating area. TAUN WE follows as they walk by HUNDREDS OF CLONES who look exactly alike, all about twenty years old, dressed in black. They are seated at tables, eating.","LAMA SU: You'll find they are totally obedient, taking any order without question. We modified their genetic structure to make them less independent than the original host. ","OBI-WAN: Who was the original host?","LAMA SU: A bounty hunter called Jango Fett. We felt a Jedi would be the perfect choice, but Sifo-Dyas hand-picked Jango Fett himself.","OBI-WAN: Where is this bounty hunter now?","LAMA SU: Oh, we keep him here.","INTERIOR: TIPOCA CITY, CLONE CENTER, BARRACKS - DAY","The tour continues through a long corridor filled with narrow, transparent tubes into which CLONES are climbing. Once in the tube, the CLONE goes to sleep.","LAMA SU: Apart from his pay, which is considerable, Fett demanded only one thing - an unaltered clone for himself. Curious, isn't it?","OBI-WAN: Unaltered?","LAMA SU: Pure genetic replication. No tampering with the structure to make it more docile... and no growth acceleration.","OBI-WAN: I would very much like to meet this Jango Fett.","TAUN WE: I would be most happy to arrange it, for you.","TAUN WE bows, and leaves.","EXTERIOR: NABOO, MOUNTAIN MEADOW - LATE AFTERNOON","PADM\xc9 and ANAKIN are in the middle of an idyllic hilly meadow, its lush grasses sprinkled with flowers. At a distance, a herd of SHAAKS graze contentedly.","Beyond is the shimmering expanse of the lake. Several other lakes stretch to the horizon. The warm air is full of little floating puffballs. They sit on the grass, in a playful, coy mood, talking. PADM\xc9 is picking flowers.","PADME AMIDALA: I don't know...","ANAKIN: Sure you do... you just don't want to tell me.","PADME AMIDALA: Are you going to use one of your Jedi mind tricks on me?","ANAKIN: They only work on the weak-minded. You are anything but weak-minded.","PADME AMIDALA: All right... I was twelve. His name was Palo. We were both in the Legislative Youth Program. He was a few years older then I... very cute... dark curly hair... dreamy eyes.","ANAKIN: All right, I get the picture... whatever happened to him?","PADME AMIDALA: I went into public service. He went on to become an artist.","ANAKIN: Maybe he was the smart one.","PADME AMIDALA: You really don't like politicians, do you?","ANAKIN: I like two or three, but I'm not really sure about one of them. (smiling) I don't think the system works.","PADME AMIDALA: How would you have it work?","ANAKIN: We need a system where the politicians sit down and discuss the problem, agree what's in the best interests of all the people, and then do it.","PADME AMIDALA: That is exactly what we do. The trouble is that people don't always agree. In fact, they hardly ever do.","ANAKIN: Then they should be made to.","PADME AMIDALA: By whom? Who's going to make them?","ANAKIN: I don't know. Someone.","PADME AMIDALA: You?","ANAKIN: Of course not me.","PADME AMIDALA: But someone.","ANAKIN: Someone wise.","PADME AMIDALA: That sounds an awful lot like a dictatorship to me.","A mischievous little grin creeps across his face.","ANAKIN: Well, if it works...","PADM\xc9 stares at ANAKIN. He looks back at her, straight faced, but can't hold back a smile.","PADME AMIDALA: You're making fun of me!","ANAKIN: (sarcastic) Oh no, I'd be much too frightened to tease a Senator.","PADME AMIDALA: You're so bad!","PADM\xc9 picks up a piece of fruit and throws it at him. He catches it. PADM\xc9 throws two more pieces of fruit, and ANAKIN catches them.","ANAKIN: You're always so serious.","PADME AMIDALA: I'm so serious?!","ANAKIN then starts to juggle the fruit. PADM\xc9 laughs and throws more fruit at him. He manages to juggle them too until there are too many, and he loses control and ducks, letting food fall on his head. They both laugh.","ANAKIN stands in front of a SHAAK, yelling at it and waving his arms. PADM\xc9 starts laughing as ANAKIN runs in circles, chased by the SHAAK.","EXTERIOR: NABOO, MOUNTAIN MEADOW - LATE AFTEROON","The SHAAK crosses in front of PADM\xc9, with ANAKIN riding it, facing the SHAAK'S tail. ANAKIN attempts to stand on the galloping SHAAK'S back, but the SHAAK bucks, and ANAKIN loses his balance and falls off. PADM\xc9 laughs even harder. ANAKIN lies still. Concerned, PADM\xc9 jumps up and runs to where ANAKIN is face down in the grass. ","PADME AMIDALA: Annie, Annie! Are you all right?","She turns him over. He is pulling a stupid face at her and laughing. She yelps in mock fury and takes a swing at him. He catches her arm. She struggles. They roll over in the grass, embracing, and looking into each other's eyes. Suddenly, they become aware of the contact between them. They let go of each other quickly and sit up, looking away.","ANAKIN stands up and holds out his hand to her. She takes it. He pulls her up. And now they are easy together, not self-conscious any more. PADM\xc9 scrambles up onto the SHAAK behind ANAKIN. She puts her arms around his waist and leans against his back. ANAKIN digs his heels in. The SHAAK starts forward, and they ride away.","EXTERIOR: TIPOCA CITY (RAINSTORM) - DAY","Rain lashes the city. Below, mighty waves pound the stilts, breaking almost to the height of the platforms. A large AVIAN carrying a RAIN-SOAKED RIDER flies above the water toward a floating city. ","INTERIOR: TIPOCA CITY, CORRIDOR - DAY","TAUN WE and OBI-WAN stand in front of the door of Jango Fett's apartment. TAUN WE waves his hand, and a muted bell RINGS.","As they wait, OBI-WAN notes the door lock entry mechanism. Then the door opens, and a ten-year-old boy, BOBA FETT, looks at them. He is identical to the boys in the classroom.","TAUN WE: Boba, is your father here?","There is a brief pause.","BOBA FETT: Yep.","TAUN WE: May we see him?","BOBA FETT: Sure.","Another brief pause, then BOBA FETT steps aside, and TAUN WE and OBI-WAN go through.","INTERIOR: TIPOCA CITY, FETT APARTMENT - DAY","OBI-WAN, TAUN WE, and BOBA FETT enter the apartment. OBI WAN looks around the room.","BOBA FETT: Dad! Taun We's here!","JANGO FETT comes in from the bedroom. He wears a jumpsuit. He is unshaven and mean looking, his face pitted with scars of old wounds. There are a couple of weird tattoos on his muscular forearms. He eyes OBI-WAN with suspicion.","TAUN WE: Jango, welcome back. Was your trip productive?","JANGO FETT: Fairly.","OBI-WAN and JANGO FETT size each other up. BOBA FETT studies both of them.","TAUN WE: This is Jedi Master, Obi-Wan Kenobi. He's come to check on our progress.","JANGO FETT: That right?","JANGO FETT'S eyes fix OBI-WAN coldly.","OBI-WAN: Your clones are very impressive. You must be very proud.","JANGO FETT: I'm just a simple man, trying to make my way in  the universe, Master Jedi.","OBI-WAN: Aren't we all?","OBI-WAN eyes the half-open bedroom door, through which a couple of pieces of body armor can be seen on the floor. JANGO FETT registers OBI-WAN'S look. He moves in front of him, blocking the view.","OBI-WAN: Ever make your way as far into the interior as Coruscant?","JANGO FETT: Once or twice.","OBI-WAN: Recently?","JANGO FETT: (eyes Obi-Wan carefully) Possibly...","OBI-WAN: Then you must know Master Sifo-Dyas?","JANGO FETT: (in Huttese) Boba, close the door.","BOBA FETT moves to close the bedroom door. JANGO FETT smiles thinly at OBI-WAN.","JANGO FETT: Master who?","OBI-WAN: Sifo-Dyas. Is he not the Jedi who hired you for this job?","JANGO FETT: Never heard of him. ","OBI-WAN: Really.","JANGO FETT: I was recruited by a man called Darth Tyranus on one of the moons of Bogden.","OBI-WAN: No? I thought...","TAUN WE: Sifo-Dyas told us to expect him. And he showed up just when your Jedi Master said he would. We have kept the Jedi's involvement a secret until your arrival, just as your Master requested.","OBI-WAN: Curious...","JANGO FETT: Do you like your army?","OBI-WAN: I look forward to seeing them in action.","JANGO FETT: (grinning) They'll do their job well, I'll guarantee that.","OBI-WAN: Thanks for your time, Jango.","JANGO FETT: Always a pleasure to meet a Jedi.","OBI-WAN and TAUN WE go out. The door slides closed. JANGO FETT turns to his son. He is deep in thought.","BOBA FETT: What is it, Dad?","JANGO FETT: Pack your things. We're leaving.","EXTERIOR: NABOO LAKE RETREAT, LOUNGE - LATE AFTERNOON","The setting sun touches the mountain peaks. The lake glows in the rose-tinted light. Floating lamps gleam softly like jewels at the lodge.","INTERIOR: NABOO LAKE RETREAT, DINING ROOM - LATE AFTERNOON","NANDI places dessert in front of PADM\xc9. TECKLA does the same for ANAKIN. The dessert is some kind of fruit.","ANAKIN: And when I got to them, we went into... aggressive  negotiations. (to Teckla) Thank you.","PADME AMIDALA: 'Aggressive negotiations, ' what's that?","ANAKIN: Uh, well, negotiations with a lightsaber.","PADME AMIDALA: (laughing) Oh.","PADM\xc9 picks up her fork and goes to spear a piece, but it moves! She frowns and tries again - the fruit moves. She looks up at ANAKIN. His eyes are on his plate.","PADME AMIDALA: You did that?","ANAKIN looks up - wide-eyed innocence.","ANAKIN: What?","PADM\xc9 scowls at him. PADM\xc9 jabs at the fruit - ANAKIN subtly moves his hand and it lifts up from the plate and hovers in front of her.","PADME AMIDALA: That! Now stop it!","PADM\xc9 laughs. ANAKIN laughs. She reaches out for the fruit - it loops.","PADME AMIDALA: Anakin!!","ANAKIN moves his fingers. The fruit flies into his hand.","ANAKIN: If Master Obi-Wan caught me doing this, he'd be very grumpy.","ANAKIN is pleased. He cuts the fruit into several pieces and sends one back to PADM\xc9. She bites it out of the air and laughs.","INTERIOR: NABOO LAKE RETREAT, LODGE, FIREPLACE ALCOVE - TWILIGHT","A fire blazes in the open hearth. PADM\xc9 and ANAKIN are sitting in front of it, gazing into the flames. She looks up as ANAKIN leans in to kiss her.","PADME AMIDALA: Anakin, no.","ANAKIN: From the moment I met you, all those years ago, a day hasn't gone by when I haven't thought of you. And now that I'm with you again, I'm in agony. The closer I get to you, the worse it gets. The thought of not being with you makes my stomach turn over - my mouth goes dry. I feel dizzy. I can't breathe. I'm haunted by the kiss you should never have given me. My heart is beating, hoping that kiss will not become a scar. You are in my very soul, tormenting me. What can I do? I will do anything you ask...","Silence. The logs flame in the hearth. PADM\xc9 meets his eye, then looks away.","ANAKIN: If you are suffering as much as I am, tell me.","PADME AMIDALA: ...I can't. We can't. It's just not possible.","ANAKIN: Anything's possible. Padm\xe9, please listen...","PADME AMIDALA: You listen. We live in a real world. Come back to it. You're studying to become a Jedi Knight. I'm a Senator. If you follow your thoughts through to conclusion, they will take us to a place we cannot go... regardless of the way we feel about each other.","ANAKIN: Then you do feel something!","PADME AMIDALA: Jedi aren't allowed to marry. You'd be expelled from the Order. I will not let you give up your future for me.","ANAKIN: You're asking me to be rational. That is something I know I cannot do. Believe me, I wish I could wish my feelings away... but I can't.","PADME AMIDALA: I am not going to give in to this. I have more important things to do than fall in love.","There is silence as they stare at the fire. ANAKIN is thinking.","ANAKIN: It wouldn't have to be that way... we could keep it a secret.","PADME AMIDALA: Then we'd be living a lie - one we couldn't keep up even if we wanted to. Mt sister saw it. So did my mother. I couldn't do that. Could you, Anakin? Could you live like that?","Silence for a moment.","ANAKIN: No. You're right. It would destroy us.","INTERIOR: TIPOCA CITY, CORRIDOR - DAY","OBI-WAN stands with TAUN WE just inside the open door.","LAMA SU: Tell your Council the first battalions are ready. And remind them that if they need more troops, we will need time to grow them.","OBI-WAN: I won't forget. And thank you.","TAUN WE: Thank you.","EXTERIOR: TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) - LATE DAY","OBI-WAN comes out from the tower into the driving ran. The door closes behind him. He pulls his robe around him and stands braced against the gale. OBI-WAN glances back toward the closed door, confirming that LAMA SU has left.","Below, a huge wave crashes against the stilts. Spray flies high and whips across the platform to where OBI-WAN is standing. He walks over to his Starfighter, looks to see if anyone is watching, then addresses ARFOUR.","OBI-WAN: Arfour.","EXTERIOR: TIPOCA CITY LANDING PLATFORM, JEDI FIGHTER (RAINSTORM) - LATE DAY","The R4-P17, OBI-WAN'S Astro-Droid, who is still sitting on top of OBI-WAN'S Starfighter, switches on and BEEPS.","OBI-WAN: Arfour, relay this, 'scramble code five, ' to Courscant: care of 'the old folks home.'","ARFOUR BEEPS and WHISTLES. The panels light up inside the cockpit. A transmitter disc emerges from the top of the Starfighter and the message is transmitted."," INTERIOR: JEDI TEMPLE, YODA'S QUARTERS - LATE AFTERNOON","YODA sits with MACE WINDU. between the two Jedi, a hologram of OBI-WAN speaks.","OBI-WAN: (V.O.) I have successfully made contact with the Prime Minister of Kamino. They are using a bounty hunter named Jango Fett to create a clone army. I have a strong feeling that this bounty hunter is the assassin we're looking for.","MACE WINDU: Do you think these cloners are involved in the plot to assassinate Senator Amidala?","OBI-WAN: (V.O.) No, Master. There appears to be no motive. ","YODA: Do not assume anything, Obi-Wan. Clear, your mind must be if you are to discover the real villains behind the plot.","OBI-WAN: (V.O.) Yes, Master. They say a Master Sifo-Dyas placed the order for a clone army at the request of the Senate almost ten years ago. I was under the impression he was killed before that. Did the Council ever authorize the creation of a clone army?","MACE WINDU: No. Whoever placed that order did not have the authorization of the Jedi Council.","YODA: Into custody, take this Jango Fett. Bring him here. Question him, we will.","OBI-WAN: (V.O.) Yes, Master. I will report back when I have him.","The hologram of OBI-WAN fades.","YODA: Blind we are, if creation of this clone army we could not see.","MACE WINDU: I think it is time to inform the Senate that our ability to use the Force has diminished. ","YODA: Only the Dark Lords of the Sith know of our weakness. If informed the Senate is, multiply our adversaries will.","INTERIOR: NABOO LAKE RETREAT, ANAKIN'S BEDROOM - NIGHT","ANAKIN moves restlessly in his sleep. He mutters to himself. Sweat forms on his forehead. He turns violently. He cries out.","ANAKIN: No... No... No... Mom!... Don't, no, don't!","EXTERIOR: NABOO LAKE RETREAT, LODGE, BALCONY OVERLOOKING GARDENS - MORNING","ANAKIN is on the balcony overlooking the gardens. After a moment, PAMD\xc9 comes onto the balcony behind him. She sees he is meditating and turns to go.","ANAKIN: (eyes closed) Don't go.","PADME AMIDALA: I don't want to disturb you.","ANAKIN: Your presence is soothing.","Brief pause.","PADME AMIDALA: You had a nightmare again last night.","ANAKIN: Jedi don't have nightmares.","PADME AMIDALA: I heard you.","ANAKIN opens his eyes and looks at her.","ANAKIN: I saw my mother. I saw her as clearly as I see you now. She is suffering, Padm\xe9. They're killing her! She is in pain... I know I'm disobeying my mandate to protect you, Senator. I know I will be punished and possibly thrown out of the Jedi Order, but I have to go. I have to help her! I'm sorry, Padm\xe9. I don't have a choice.","PADME AMIDALA: I'll go with you. That way you can continue to protect me, and you won't be disobeying your mandate.","ANAKIN: What about Master Obi-wan?","PADM\xc9 smiles and takes his hand.","PADME AMIDALA: I guess we won't tell him, will we?","INTERIOR: TIPOCA CITY, CORRIDOR - DAY","OBI-WAN enters cautiously from outside. Ahead, the corridor is deserted. He moves down it.","INTERIOR: TIPOCA CITY, CORRIDOR OUTSIDE FETT APARTMENT - DAY","OBI-WAN arrives at the door to JANGO FETT'S apartment. He reaches up and runs his fingers along the door, locating the locks. The door slides open.","INTERIOR: TIPOCA CITY, FETT APARTMENT - DAY","OBI-WAN walks in to find the room in complete disorder. The bedroom door is wide open - clear signs of hurried departure. All of the FETTS' personal belongings are gone.","OBI-WAN goes to an ultra-thin computer screen. He punches up AN ONSCREEN PICTURE of JANGO FETT and BOBA FETT unhitching the lines securing their ship on the landing platform. JANGO FETT is wearing his armor and rocket pack.","EXTERIOR: TIPOCA CITY, KAMINO LANDING PLATFORM (RAINSTORM) - DAY","JANGO FETT'S ship, SLAVE I, rests on the landing platform. JANGO and BOBA FETT are preparing to board. OBI-WAN rushes through the tower door and runs toward the ship.","BOBA FETT: Dad!! Look!","JANGO FETT turns to see OBI-WAN charging out of the tower toward him. As he runs, OBI-WAN draws his lightsaber from his belt. It flashes on.","JANGO FETT draws his gun and fires at the charging JEDI. OBI-WAN deflects the blast and swings at JANGO FETT.","JANGO FETT: Boba, get on board.","The bounty hunter rockets up and over OBI-WAN, landing on the top of a nearby tower. JANGO FETT fires down at OBI WAN. The JEDI deflects the shots back, but JANGO FETT evades them. Then he fires an explosive sending OBI-WAN diving out of the way.","IN THE COCKPIT of JANGO FETT'S ship, BOBA FETT grabs the controls of a laser gun and swings it to aim at OBI-WAN, and fires.","The explosion of the ship's laser blasts throws OBI-WAN to the ground. His lightsaber skids across the wet surface of the landing platform. JANGO FETT drops from the tower landing in front of OBI-WAN. OBI-WAN rises and charges toward JANGO.","IN THE COCKPIT, BOBA FETT watches as","OUTSIDE, OBI-WAN and JANGO FETT grapple and fight, punching, kicking, grabbing hold, and throwing each other around. OBI-WAN grabs JANGO FETT tightly, and JANGO FETT rockets up into the air and kicks OBI-WAN loose. OBI-WAN crashes to the deck and slides toward the edge. He grapples desperately for a handhold on the slick surface. OBI-WAN reaches out for his lightsaber, using the Force to bring it to him, but JANGO fires a thin wire from his wristpack. It wraps around OBI-WAN'S wrists before he can retrieve the lightsaber.","JANGO rockets into the air, dragging OBI-WAN behind him along the platform surface. As OBI-WAN slides toward some columns he manages to maneuver himself into a roll avoiding a collision by leveraging the wire against the structure and pulling himself to his feet. OBI-WAN pulls with all his weight against the momentum of the wire, causing JANGO to drop and crash into the ground. JANGO'S rocketpack breaks free from his back and explodes.","Still connected by the wire, OBI-WAN charges at JANGO kicking him over the platform edge. JANGO slides pulling OBI-WAN with him. Locked together, OBI-WAN and JANGO FETT plummet down toward the raging ocean. At the last moment, JANGO FETT sees the edge and digs his forearm claws into the surface. OBI-WAN slides past him as JANGO finally ejects the wire free from his wrist. OBI-WAN cannot stop the speed of his slide and shoots off the edge, falling... ","OBI-WAN uses the Force and causes the wire to wrap around a pole, stopping his descent. He swings and drops onto a SMALL SERVICE PLATFORM just above the waves. He hauls himself to his feet. When JANGO looks down, the Jedi has disappeared. JANGO uses his forearm claws to climb back to the landing platform and runs toward his ship.","IN THE COCKPIT, BOBA FETT settles into the pilot's seat. He punches buttons. The engines ROAR.","OBI-WAN comes running out onto the landing platform and spots his lightsaber laying on the ground. This time, he retrieves it successfully and turns it on just as JANGO'S ship engines roar. Realizing the ship is about to take off, OBI-WAN takes a small tracking device from his belt and throws in onto the hull of the ship.","JANGO FETT'S ship lifts off from the platform and heads up into the lowering sky. It disappears. Lightning flashes. Rain lashes the tower and streams across the surface of the platform where OBI-WAN stands, watching.","EXTERIOR: SPACE","The Naboo Starship heads toward the desert planet of Tatooine.","EXTERIOR: TATOOINE, MOS ESPA STREETS AND WATTO'S SHIP - DAY","The Naboo Starship lands in a large parking lot of Spaceships on the outskirts of Mos Espa. ANAKIN and PADM\xc9 ride a rickshaw through the streets. ANAKIN stares at sights he hasn't seen for years. Finally, they come to Watto's shop, and the rickshaw stops.","ANAKIN: (to the droid driver) Wait, please.","ANAKIN and PADM\xc9 get down. Sitting on a stool in front of the shop is WATTO. He is using a small electronic screwdriver on a fiddly DROID. THREE PIT DROIDS are chattering away and are trying to help him, but they seem only to make him madder.","WATTO: (yelling, in Huttese) No, not that one - that one! [No chuba da wanga, da wanga.]","ANAKIN: (arriving) Excuse me, Watto. [Chut, chut, Watto.]","WATTO: (in Huttese) What? [Ke Booda?]","ANAKIN: (in Huttese) I said excuse me. [Di nova, 'Chut, chut.']","WATTO turns to the chattering PIT DROIDS.","WATTO: (in Huttese) Shut down. [Go ana bopa!]","The PIT DROIDS snap into their storage position.","ANAKIN: Let me help you with that. [Ding mi chasa hopa.]","ANAKIN takes the fiddly piece of equipment and starts to play with it. WATTO blinks in surprise.","WATTO: (continuing, in Huttese) What? I don't know you... What can I do for you? You look like a Jedi. Whatever it is... I didn't do it. [Ke booda? Yo baan pee hota. No wega mi condorta. Kin chasa du Jedi. No bata tu tu.]","WATTO drops the screwdriver and curses loudly in Huttese","ANAKIN: I'm looking for Shmi Skywalker. [Mi boska di Shmi Skywalker.]","WATTO looks at him suspiciously. He stares at PADM\xc9, then back to ANAKIN.","WATTO: Annie?? Little Annie?? Naaah!!","Suddenly, the fiddly piece of equipment in Anakin's hands WHIRS into life. WATTO blinks at it.","WATTO: (continuing; in English) You are Annie! It is you! Ya sure sprouted! Weehoo! A Jedi! Waddya know? Hey, maybe you couldda help wit some deadbeats who owe me a lot of money...","ANAKIN: My mother...","WATTO: Oh, yeah. Shmi... she's not mine no more. I sold her.","ANAKIN: Sold her...","WATTO: Years ago. Sorry, Annie, but you know, business is business. Sold her to a moisture farmer named Lars. Least I think it was Lars. Believe it or not, I heard he freed her and married her. Can ya beat that?","ANAKIN: Do you know where they are?","WATTO: Long way from here... someplace over on the other side of Mos Eisley, I think...","ANAKIN: I'd like to know.","ANAKIN'S grim look means business; WATTO gets the hint quickly.","WATTO: Yeah... sure... absolutely. Let's go look in my records.","ANAKIN and WATTO go into the shop.","EXTERIOR: SPACE, GEONOSIS","The red planet of Geonosis is circled by a large asteroid field that forms rings. JANGO FETT'S ship appears, heading toward it. OBI-WAN'S Starfighter, attached to the hyperspace transport ring, appears in space. The Starfighter disengages from the ring and follows JANGO FETT'S ship.","INTERIOR: COCKPIT, FETT SHIP, SPACE, GEONOSIS JANGO FETT grins at BOBA FETT.","JANGO FETT: Nearly there, son.","INSIDE THE COCKPIT, a small blip shows up on the ship's scan screen.","BOBA FETT: Dad! I think we're being tracked... Look at the scan screen! Isn't that a cloaking shadow?","BOBA FETT checks the scan screen and reveals a small tracking device on the outer hull.","JANGO FETT: He must have put a homing device on our hull during the fight... We'll fix it! Hang on, son! We'll move into the asteroid field. He won't be able to follow us there. If he does, we'll leave him a couple of surprises.","He pushes some buttons and the spot where the device was disappears. JANGO FETT guides his ship into the asteroid field. OBI-WAN stops his ship.","OBI-WAN: That's interesting, Arfour. They seem to have discovered the tracker. Shut down... Shape scan their last coordinates.","JANGO FETT pilots his ship through the asteroids.","BOBA FETT: He's gone.","JANGO FETT: He must have gone on toward the surface.","BOBA sees OBI-WAN on the screen.","BOBA FETT: Look, Dad! He's back!","JANGO FETT: Hang on!","He releases a charge which drifts toward OBI-WAN. As the charge approaches OBI-WAN'S Starfighter, ARFOUR beeps.","OBI-WAN: Whoa! Sonic charges... Stand by.","JANGO'S goes into a power-climb to avoid an asteroid.","BOBA FETT: Dad! Watch out!","JANGO FETT: Stay calm, son. We'll be fine. That Jedi won't be able to follow us through this.","OBI-WAN'S ship dives into the asteroid belt after them.","BOBA FETT: There he is!","JANGO FETT: He doesn't seem to be able to take a hint.","JANGO flies down a narrow tunnel in one of the larger asteroids.","BOBA FETT: Watch out!","OBI-WAN passes over the asteroid and JANGO emerges, chasing after him.","BOBA FETT: Get him, Dad! Get him! Fire!","JANGO FETT fires lasers at the Jedi Starfighter.","EXTERIOR: SPACE, GEONOSIS","The ships flip, roll, and turn at incredible speed, dodging, weaving and firing. They tumble from near misses. ","OBI-WAN: Oh, blast! This is why I hate flying.","Bits fly off OBI-WAN'S fighter as one of JANGO'S missiles gets through.","In JANGO FETT'S COCKPIT, JANGO continues to bombard the Jedi Starfighter with laser fire. One bold strikes OBI WAN'S ship causing a small explosion.","BOBA FETT: You got him!","JANGO FETT: We'll just have to finish him.","JANGO FETT pushes buttons to open an outer hull door and releases a guided aerial torpedo. The torpedo closely follows OBI-WAN'S Starfighter.","IN OBI-WAN'S COCKPIT, his skill is pushed to the limit as he throws the ship from side to side, avoiding great rocks and the torpedo. Then a huge asteroid tumbles across his path. There seems no way he can avoid it.","OBI-WAN: Arfour, prepare to jettison the spare parts canisters. Release them now!","IN JANGO'S COCKPIT, they see a huge explosion as OBI-WAN'S ship appears to smash into the asteroid.","BOBA FETT: Got him! Yeahhhhh!","JANGO FETT: We won't see him again.","BOBA FETT laughs. JANGO FETT'S ship emerges from the asteroid belt and heads down toward the planet of Geonosis.","EXTERIOR: SPACE, GEONOSIS RINGS","A huge chunk of rock tumbles slowly through the asteroid belt. CAMERA CLOSES, to discover OBI-WAN'S Starship hidden in a blasted-out area on the pitted back side of the great rock.","INTERIOR: COCKPIT, JEDI FIGHTER, SPACE, GEONOSIS RINGS OBI-WAN'S ship is sitting on an asteroid.","OBI-WAN: Well, Arfour, I think we've waited long enough... Follow his last known trajectory.","OBI-WAN'S fighter moves out from the back side of the asteroid and heads away from the asteroid field, descending toward Geonosis. OBI-WAN looks out toward Geonosis and sees in the distance a large fleet of Trade Federation ships hidden among the asteroids.","OBI-WAN: There's an unusual concentration of Federation ships over there, Arfour. We'd better stay clear.","EXTERIOR: GEONOSIS, LANDING AREA - NIGHT","OBI-WAN'S ship skims across the top of a small mesa along the edge of a rocky ridge. He maneuvers under a rock overhang and lands. He gets out of the Fighter and walks onto the mesa. The wind whips at him. He looks around.","Geonosis is a red rock planet, featureless apart from buttes and mesas, and occasional tall stalagmites that stand out dramatically on the arid plains.","The night is quiet, except for an occasional WEIRD CRY. OBI-WAN checks his bearings, then heads away.","EXTERIOR: TATOOINE, BLUFF OVERLOOKING HOMESTEAD - LATE DAY","The Naboo Starship descends, hovers, and land on a bluff. ANAKIN and PADM\xc9 get out. They look down from the edge of the bluff to where the homestead is seen on the desert floor below.","PADME AMIDALA: Stay with the ship, Artoo.","ARTOO WHISTLES as ANAKIN and PADM\xc9 start down the trail toward the homestead.","EXTERIOR: TATOOINE, DESERT, HOMESTEAD MOISTURE FARM - LATE DAY","C-3PO is working outside the homestead. He looks up as ANAKIN and PADM\xc9 arrive.","C-3PO: Oh, hello. How might I be of service? A am See...","ANAKIN: Threepio?","C-3PO: Oh, my... Oh, my maker! Master Anakin! I knew you would return, I knew you would! And this must be Miss Padm\xe9.","PADME AMIDALA: Hello, Threepio.","C-3PO: Oh, my circuits! I'm so pleased to see you both!","ANAKIN: I've come to see my mother.","C-3PO: I think... I think... Perhaps we'd better go indoors.","EXTERIOR: TATOOINE, HOMESTEAD, COURTYARD - LATE DAY","ANAKIN, PADM\xc9 and THREEPIO arrive in the courtyard. THREEPIO shuffles ahead.","C-3PO: Master Cliegg, Master Lars! Might I present two important visitors?","OWEN LARS and BERU WHITESUN come out into the courtyard.","ANAKIN: I'm Anakin Skywalker.","OWEN: Owen Lars. This is my girlfriend, Beru.","BERU: Hello.","PADME AMIDALA: I'm Padm\xe9.","OWEN: I guess I'm your stepbrother. I had a feeling you might show up some day.","ANAKIN: Is my mother here?","CLIEGG: No, she's not.","CLIEGG LARS swings from the house on a small floating chair. One of his legs is heavily bandaged; the other is missing. He balances awkwardly and puts out a hand.","CLIEGG: Cliegg Lars. Shmi is my wife... Come on inside. We have a lot to talk about...","INTERIOR: TATOOINE, HOMESTEAD, KITCHEN - LATE DAY","BERU puts several steaming cups of ardees on a tray and exits the kitchen...","CLIEGG: (O.S.) It was just before dawn. They came out of nowhere. A hunting party of Tusken Raiders.","INTERIOR: TATOOINE, HOMESTEAD, DINING AREA - LATE DAY","CLIEGG, OWEN, PADM\xc9 and ANAKIN sit around the table, BERU brings the drinks in from the kitchen.","CLIEGG: Your mother had gone out early, like she always did, to pick mushrooms that grow on the vaporators. From the tracks, she was about halfway home when they took her. Those Tuskens walk like men, but they're vicious, mindless monsters. Thirty of us went out after her. Four of us came back. I'd be with them, only... after I lost my leg I just couldn't ride any more... until I heal.","CLIEGG grimaces, easing his throbbing leg.","CLIEGG: This isn't the way I wanted to meet you, son. This isn't how your mother and I planned it. I don't want to give up on her, but she's been gone a month. There's little hope she's lasted this long.","Silence. Then ANAKIN stands up.","OWEN: Where are you going?","ANAKIN: To find my mother.","PADME AMIDALA: No, Annie!","CLIEGG: Your mother's dead, son. Accept it.","ANAKIN: I can feel her pain, and I will find her.","OWEN: Take my speeder bike.","ANAKIN: I know she's alive.","ANAKIN turns abruptly.","EXTERIOR: TATOOINE, HOMESTEAD, MOISTURE FARM - LATE DAY","ANAKIN stands looking across the desert. PADM\xc9 comes running out of the homestead after him. ANAKIN turns to PADM\xc9.","ANAKIN: You are going to have to stay here. These are good people, Padm\xe9. You'll be safe.","PADME AMIDALA: Anakin...","PADM\xc9 hugs him. ANAKIN walks over to OWEN'S speeder bike, which is standing close by.","ANAKIN: I won't be long.","ANAKIN swings onto the bike. The engine fires. He takes off across the desert. PADM\xc9 watches him go.","EXTERIOR: TATOOINE, LANDSCAPE - SUNSET","THREE DIFFERENT SHOTS. ANAKIN rides through three exotic landscapes.","EXTERIOR: TATOOINE, DESERT, JAWA CAMP - TWILIGHT","ANAKIN stands in the middle of a crowd of JAWAS. He asks them for directions. The JAWAS confer excitedly, then the CHIEF JAWA points in a particular direction. ANAKIN gets on the bike and speeds off to where the JAWA pointed.","EXTERIOR: TATOOINE, DUNE SEA, CAMPFIRE - TWILIGHT","ANAKIN rides over a large dune toward a small flickering light in the distance.","He rides up and stops the bike in front of a campfire. There are bodies of THREE DEAD FARMERS lying beside the campfire. TWO EOPIES are tethered nearby, along with a burned and smoking speeder.","EXTERIOR: TATOOINE, DESERT, HOMESTEAD (FULL MOON) - NIGHT","The lights of the vaporators blink in the night sky. Somewhere close by, a night animal HOWLS.","EXTERIOR: TATOOINE, HOMESTEAD, COURTYARD (FULL MOON) - NIGHT","PADM\xc9 is pacing the courtyard restlessly. She stops, listening to the animal HOWLING nearby. She shivers slightly, then turns and goes into the garage at the side of the courtyard.","INTERIOR: TATOOINE, HOMESTEAD - GARAGE (FULL MOON) - NIGHT","PADM\xc9 enters the garage where C-3PO sits working.","C-3PO: Hello, Miss Padm\xe9.","PADME AMIDALA: Hello, Threepio.","C-3PO: You can't sleep?","PADME AMIDALA: No, I have too many things on my mind, I guess.","C-3PO: Are you worried about your work in the Senate?","PADME AMIDALA: No, I'm just concerned about Anakin. I said things... I'm afraid I may have hurt him. I don't know. Maybe I only hurt myself. For the first time in my life, I'm confused.","C-3PO: I'm not sure it will make you feel any better Miss Padm\xe9, but I don't think there's been a time in my life when I haven't been confused.","PADME AMIDALA: I want him to know I care about him. I do care about him.","C-3PO: Don't worry about Master Annie. He can take care of himself. Even in this awful place.","EXTERIOR: GEONOSIS, ROCK FACE TRAIL - NIGHT","OBI-WAN climbs a steep, narrow trail. Suddenly, a CRY is heard close by. OBI-WAN stumbles slightly. His foot slips on the edge, sending a stream of pebbles skittering into the darkness.","OBI-WAN listens. Silence. He draws his lightsaber but does not ignite it.","He sets off again and works his way around a narrow corner, to confront a crouching MASSIFF (a dog-sized lizard) with slavering fangs! The beast leaps at him, and OBI-WAN ignites his lightsaber as the MASSIFF knocks him on his back. Its jaws open wide. OBI-WAN stabs the creature, throws it off of him, and jumps up.","A SECOND MASSIFF jumps from behind. OBI-WAN swings around and cuts it in half. The MASSIFF flies over the cliff, HOWLING. It plummets to its death hundreds of feet below.","EXTERIOR: GEONOSIS, ROCK FACE TRAIL - NIGHT","OBI-WAN arrives at the head of the trail. Far below, a flat plain stretches into the distance. He stops, peering into the darkness, where strange shapes loom indistinctly.","OBI-WAN takes a pair of electronic binoculars from his belt and puts them to his eyes. He sees a cluster of great towers like fantastic stalagmites rise from the plain below.","SLOW PAN with the binoculars, and suddenly a line of Battle Starships come into view. OBI-WAN touches the viewfinder. Between fifty and a hundred Federation Starships are in neat rows. Some are on platforms that are carrying the Starships down to an underground facility. Other platforms are rising to the surface. They carry THOUSANDS of BATTLE DROIDS that step off and file into waiting ships. A fully loaded Starship takes off. OBI-WAN swings the binoculars upward, to see more Trade Federation Starships.","EXTERIOR: GEONOSIS, TOWER ENTRANCE - DAWN","Light grows on the clustering tower of fantastic stalagmites. OBI-WAN sneaks up to the main one. He climbs up the side of the tower to a small window-like opening. OBI-WAN looks around quickly, then sneaks inside.","INTERIOR: GEONOSIS, CORRIDORS - MORNING","OBI-WAN makes his way along a narrow, pillared corridor. He comes to what looks like a large open well or vent shaft. He looks down and sees a huge underground facility below. In one area, machines are constructing BATTLE DROIDS. In another area, completed DROIDS are moving along a conveyor belt. GEONOSIS WORKERS, with no wings, drone away at the assembly line.","INTERIOR: GEONOSIS, CENTRAL SQUARE - MORNING","OBI-WAN arrives at a vast expanse in the stalagmite interior. Immense pillars, soaring Gaudi-Gothic arches, vaulted roofs. The huge space is deserted - completely silent.","OBI-WAN starts to cross the square. Suddenly he hears voices.","He darts behind a pillar as POGGLE THE LESSER (Archduke of Geonosis), his aide, SUN FAC, COUNT DOOKU and NUTE GUNRAY approach, closely followed by PASSEL ARGENTE and WAT TAMBOR. COUNT DOOKU is tall, elderly, and saturnine, with beautiful manners. OBI-WAN flattens himself against the pillar as they pass by.","COUNT DOOKU: Now, we must persuade the Commerce Guild and the Corporate Alliance to sign the treaty.","NUTE GUNRAY: What about the Senator from Naboo? Is she dead yet? I'm not signing your treaty until I have her head on my desk.","COUNT DOOKU: I am a man of my word, Viceroy.","POGGLE: With these new Battle Droids we've built for you, Viceroy, you'll have the finest army in the galaxy.","They move out of earshot. OBI-WAN peers around the pillar to see them going through an archway on the far side of the courtyard. There is a flight of stairs beside it.","OBI-WAN arrives at the stairs. He sneaks up them, to arrive at a narrow gothic archway. He looks down through it.","INTERIOR: GEONOSIS, CONFERENCE ROOM - DAY","POGGLE THE LESSER and his TWO AIDES are at one end of a large round conference table.","COUNT DOOKU: Now is the time, my friends. This is the moment when you have to decide between the Republic or the Confederacy of Independent Systems.","COUNT DOOKU is at the head of the table. JANGO FETT stands behind his chair.","In addition to the original group, there are also THREE OPPOSITION SENATORS PO NUDO, TESSEK and TOONBUCK TOORA, and a COMMERCE GUILD DIGNITARY; SHU MAI and a MEMBER of the INTERGALACTIC BANK CLAN, SAN HILL.","COUNT DOOKU: As I explained to you earlier, I'm quite convinced that ten thousand more systems will rally to our cause with your support, gentlemen. And let me remind you of our absolute commitment to capitalism... of the lower taxes, the reduced tariffs, and the eventual abolition of all trade barriers. Signing this treaty will bring you profits beyond your wildest imagination. What we are proposing is completely free trade. (looks at Nute) Our friends in the Trade Federation have pledged their support. When their Battle Droids are combined with yours, we shall have an army greater than anything in the galaxy, The Jedi will be overwhelmed. The Republic will agree to any demands me make.","PASSEL ARGENTE, the Corporate Alliance Representative.","PASSEL ARGENTE: I am authorized by the Corporate Alliance to sign the treaty.","COUNT DOOKU: We are most grateful for your cooperation, Chairman.","SHU MAI, the Commerce Guild Representative.","SHU MAI: The Commerce Guilds do not at this time wish to become openly involved, But we shall support you in secret - and look forward to doing business with you.","There are chuckles around the table. COUNT DOOKU smiles.","COUNT DOOKU: That is all we ask.","SAN HILL, the banker.","SAN HILL: The Intergalactic Banking Clan will support you wholeheartedly, but only in a non-exclusive arrangement.","WAT TAMBOR, the Techno Union representative.","WAT TAMBOR: The Techno Unions are at your disposal, Count.","INTERIOR: GEONOSIS, STAIRS - DAY","OBI-WAN pulls back from the archway.","EXTERIOR: TATOOINE, CLIFF (FULL MOON) - NIGHT","ANAKIN pulls up near the edge of a cliff. He gets off the bike and creeps to the edge. He looks over to see a Tusken camp in the oasis below. One of the huts at the edge of the camp has TWO TUSKEN GUARDS outside it. ANAKIN drops off the edge of the cliff to the camp below.","EXTERIOR: TATOOINE, TUSKEN RAIDER CAMP, OASIS (FULL MOON -  NIGHT","ANAKIN creeps through the camp, working his way from hut to hut, flattening himself against the walls overhearing snatches of Tusken conversation from inside, using the shadows to hide him until he arrives at the hut with the TWO GUARDS. They are sitting a short distance from the door. ANAKIN wriggles around the back. He takes out his lightsaber and cuts into the base of the wall.","INTERIOR: TUSKEN RAIDER HUT - NIGHT","The lightsaber completes the hole in the wall. ANAKIN wriggles in. He pulls himself to his feet. There are candles everywhere.","A shaft of moonlight from a hole in the roof pierces the gloom of the hut. By its light, ANAKIN sees SHMI hanging from a wooden frame in the middle of the hut.","He cuts her free, takes her into his arms, and lowers her gently to the ground. Her eyes are closed. Her face is bloodied. She has been terribly beaten. ANAKIN cradles her tenderly.","ANAKIN: Mom... Mom... Mom... ","SHMI'S eyelids flutter - and barely open. They are caked with blood.","SHMI: Annie...? Is it you...?","SHMI'S eyes focus slowly. ANAKIN gives a little choking gasp.","ANAKIN: I'm here, Mom. You're safe. Hang on. I'm going to get you out of here...","SHMI: Annie? Annie? You look so handsome. My son... my grown-up son. I'm so proud of you, Annie... so proud... I missed you so much... Now... I am complete.","ANAKIN: Just stay with me, Mom. I'm going to make you well again. Everything's... going to be fine.","SHMI: I love...","SHMI dies. ANAKIN draws her to his breast. There is silence for a moment. ANAKIN lifts his head, listening for a moment, then he sits on the floor of the Tusken hut, cradling his dead mother in his arms.","EXTERIOR: TATOOINE, TUSKEN RAIDER CAMP, OASIS - DAWN","The pale light grows. Thin tendrils of smoke rise slowly in the cold, clear air. Somewhere a dog BARKS. An OLD WOMAN comes out of one of the huts. She carries a pail. She swirls it and tosses the dirty water onto the ground.","As she goes back inside the hut, a TUSKEN CHILD runs past, dragging a stick in the sand. The CHILD runs through the line of huts, turns a corner, and stops suddenly, staring at the TWO TUSKEN GUARDS. Between them, ANAKIN stands outside the hut door. His face is a grim mask. The CHILD stares, then there is a FLASH OF LIGHT as Anakin's lightsaber switches on. He immediately kills the two TUSKENS guarding the door of the hut, and makes his way toward the others.","INTERIOR: JEDI TEMPLE, YODA'S QUARTERS - LATE AFTERNOON","YODA meditates and suddenly hears a familiar voice, as if from a great distance. It is the voice of QUI-GON JINN, filled with alarm.","QUI-GON: (V.O.) No, Anakin! No! Don't! No!","MACE WINDU enters the room and sits down. YODA opens his eyes and looks to MACE.","MACE WINDU: What is it?","YODA: Pain. Suffering. Death, I feel. Something terrible has happened. Young Skywalker is in pain. Terrible pain.","EXTERIOR: GEONOSIS, LANDING AREA - DAY","OBI-WAN examines the transmitter dish and speaks with ARFOUR.","OBI-WAN: The transmitter is working, but we're not receiving a return signal. Coruscant's too far. Arfour, can you boost the power?","ARFOUR beeps a reply.","OBI-WAN: We'll have to try something else.","OBI-WAN jumps into the cockpit.","OBI-WAN: Maybe we can contact Anakin on Naboo. It's much closer. Anakin, Anakin, do you copy? This is Obi-Wan Kenobi. Anakin? He's not on Naboo, Arfour. I'm going to try and widen the search. I hope nothing's happened to him.","OBI-WAN sits in the Starfighter cockpit looking at a display. A GEONOSIAM spies OBI-WAN and his Starfighter from an overlooking cliff.","OBI-WAN: That's Anakin's tracking signal all right, but it's coming from Tatooine. What in the blazes is he doing there? I told him to stay on Naboo.","OBI-WAN exits the cockpit and jumps down to the ground. He speaks to ARFOUR.","OBI-WAN: All right. We're all set. We haven't much time. Anakin? Anakin, do you copy? This is Obi-Wan Kenobi.","INTERIOR: COCKPIT, NABOO STARFIGHTER - DAY","In the ship, ARTOO BEEPS as he receives the message.","OBI-WAN: (V.O.) Record this message and take it to your mistress, Padm\xe9... and the Jedi Skywalker... 'Anakin, my long range transmitter has been knocked out.Retransmit this message to Coruscant.'","ARTOO dutifully listens to the desperate message. OBI-WAN'S voice cuts out. ARTOO WHISTLES in dismay.","EXTERIOR: TATOOINE, DESERT, HOMESTEAD, MOISTURE FARM - MORNING","ANAKIN rides the speeder bike toward the homestead. SHMI'S body is tied to it. OWEN, followed by BERU and PADM\xc9, comes out of the homestead to meet ANAKIN. THREEPIO follows. CLIEGG hobbles out of the homestead on his hovering chair.","ANAKIN arrives. They run to him as he steps away from the bike, carrying SHMI. He stops, face-to-face with CLIEGG. There is a brief pause. Then he carries SHMI into the homestead.","INTERIOR: TATOOINE, MOISTURE FARM, KITCHEN - MORNING","PADM\xc9 prepares some food for ANAKIN. BERU helps her.","BERU: What's it like there?","PADME AMIDALA: I'm sorry?","BERU: On Naboo... What's it like?","PADM\xc9 is completely preoccupied with her concern for ANAKIN, but she does her best to reply.","PADME AMIDALA: Oh - It's... very green. With lots of water. And trees. Not like here at all.","She takes out a tray and starts to put food on it.","BERU: I think I like it here better.","PADME AMIDALA: Maybe you'll come and see it one day.","BERU: I don't think so. I don't like to travel.","They finish preparing the tray.","PADME AMIDALA: (smiles) Thanks, Beru.","She goes out.","INTERIOR: TATOOINE, HOMESTEAD, GARAGE - DAY","PADM\xc9 comes in with a tray of food. ANAKIN is standing at a workbench, repairing a part of the speeder bike.","PADME AMIDALA: I brought you something. Are you hungry?","PADM\xc9 puts the tray down.","ANAKIN: The shifter broke. Life seems so much simpler when you're fixing things. I'm good at fixing things... always was. But I couldn't... (stops working, tears in his eyes) Why did she have to die? Why couldn't I save her? I know I could have!","PADME AMIDALA: Sometimes there are things no one can fix. You're not all-powerful, Annie.","ANAKIN turns and walks away from the bench.","ANAKIN: (angry) I should be! Someday I will be... I will be the most powerful Jedi ever! I promise you, I will even learn to stop people from dying.","PADME AMIDALA: Anakin...","ANAKIN: (furious) It's all Obi-Wan's fault. He's jealous! He knows I'm already more powerful than he is. He's holding me back!","ANAKIN hurls the wrench across the garage. It CLATTERS to the floor. He looks at his trembling hands. PADM\xc9 stares at him, shocked.","PADME AMIDALA: Annie, what's wrong?","ANAKIN: I... I killed them. I killed them all. They're dead, every single one of them...","ANAKIN focuses on her like someone returning from far away.","ANAKIN: Not just the men, but the women and the children too. They're like animals, and I slaughtered them like animals... I hate them!","There is silence for a moment, then ANAKIN breaks down, sobbing. PADM\xc9 takes him into her arms.","ANAKIN: Why do I hate them? I didn't... I couldn't... I couldn't control myself. I... I don't want to hate them... But I just can't forgive them.","PADME AMIDALA: To be angry is to be human.","ANAKIN: To control your anger is to be a Jedi.","PADME AMIDALA: Ssshhh... you're human.","ANAKIN: No, I'm a Jedi. I know I'm better than this. I'm sorry, I'm so sorry!","PADME AMIDALA: You're like everyone else...","PADM\xc9 rocks him, and ANAKIN weeps.","EXTERIOR: TATOOINE, HOMESTEAD, GRAVESITE - DAY","ANAKIN, PADM\xc9, CLIEGG, OWEN, BERU, and THREEPIO are standing around Shmi's grave. Two other headstones, one smaller than the other, stand in the blazing suns.","CLIEGG: I know wherever you are it's become a better place. You were the most loving partner a man could ever have. Goodbye, my dearest wife. And thank you.","Brief pause. ANAKIN steps forward and kneels at his mother's grave. He picks up a handful of sand.","ANAKIN: I wasn't strong enough to save you, Mom. I wasn't strong enough. But I promise I won't fail again... (he stands up) I miss you so much.","Silence. Then BEEPS and WHISTLES are heard. They turn as ARTOO rolls up.","PADME AMIDALA: Artoo, what are you doing here?","ARTOO BEEPS and WHISTLES.","C-3PO: It seems that he is carrying a message from an Obi- Wan Kenobi. Master Annie, does that name mean anything to you?","INTERIOR: COCKPIT, NABOO STARSHIP - DAY","A rough hologram of OBI-WAN is projected in front of ANAKIN and PADM\xc9. They watch the flickering image.","OBI-WAN: (V.O.) Anakin, my long range transmitter has been knocked out. Retransmit this message to Coruscant.","PADM\xc9 turns and reaches over to a control board and pushes a button to transmit the message.","OBI-WAN: (V.O.) I have tracked the bounty hunter Jango Fett to the droid foundries on Geonosis.","INTERIOR: JEDI COUNCIL ROOM - DAY","The members of the Jedi Council stand around a hologram of OBI-WAN.","OBI-WAN: (V.O.) The Trade Federation is to take taking delivery of a droid army here and it is clear that Viceroy Gunray...","INTERIOR: COCKPIT, NABOO STARSHIP - DAY","ANAKIN and PADM\xc9 continue to listen.","OBI-WAN: (V.O.) ...is behind the assassination attempts on Senator Amidala.","INTERIOR: JEDI COUNCIL ROOM - DAY","The Council members continue to listen to OBI-WAN.","OBI-WAN: (V.O.) The Commerce Guilds and Corporate Alliance have both pledged their armies to Count Dooku and are forming an... Wait!... Wait!!","INTERIOR: COCKPIT, NABOO STARSHIP - DAY","ANAKIN and PADM\xc9 watch as OBI-WAN is attacked by Droidekas. The hologram cuts off. ANAKIN jumps up, agitated.","INTERIOR: JEDI COUNCIL ROOM - DAY","The Council members also see the attack on OBI-WAN. YODA looks to MACE WINDU.","YODA: More happening on Geonosis, I feel, than has been revealed.","MACE WINDU: I agree.","INTERIOR: COCKPIT, NABOO STARSHIP - SUNSET","ANAKIN and PADM\xc9 watch a hologram of MACE WINDU.","MACE WINDU: (V.O.) Anakin, We will deal with Count Dooku. The most important thing for you is to stay where you are. Protect the Senator at all costs. That is your first priority.","ANAKIN: Understood, Master.","The hologram switches off. PADM\xc9 is looking at the readout on the ship's control panel.","PADME AMIDALA: They'll never get there in time to save him. They have to come halfway across the galaxy. Look, Geonosis is less than a parsec away.","PADM\xc9 starts to hit buttons and flick switches. ANAKIN puts a hand over hers, stopping her. She stares at him.","ANAKIN: If he's still alive.","PADME AMIDALA: Annie, are you just going to sit here and let him die?? He's your friend... your mentor...","ANAKIN: He's like my father, but you heard Master Windu. He gave me strict orders to stay here.","PADME AMIDALA: He gave you strict orders to protect me...","PADM\xc9 pulls her hand free and flicks more switches. The engines fire.","PADME AMIDALA: ...and I'm going to save Obi-Wan. So if you plan to protect me, you will have to come along.","ANAKIN grins and takes the controls. THREEPIO and ARTOO come forward from the back of the starship. THREEPIO straps himself into a seat behind PADM\xc9.","EXTERIOR: TATOOINE, BLUFF OVERLOOKING HOMESTEAD - SUNSET","The Naboo Starship rises from the bluff and zooms away.","EXTERIOR: CORUSCANT, REPUBLIC EXECUTIVE BUILDING - DAY","LOW ANGLE. A line of reflecting pools with splashing fountains flanked by statues on each side leads to the main entrance to the awesome building.","INTERIOR: CORUSCANT, CHANCELLOR'S OFFICE - DAY","BAIL ORGANA: The Commerce Guilds are preparing for war... there can be no doubt of that.","PALPATINE: Count Dooku must have made a treaty with them.","BAIL ORGANA: We must stop them before they're ready.","JAR JAR: Exsueeze me, yousa honorable Supreme Chancellor, Sir. Maybe dissen Jedi stoppen the rebel army.","PALPATINE: Master Yoda, how many Jedi are available to go to Geonosis?","YODA: Throughout the galaxy, thousands of Jedi there are. To send on a special mission, only two hundred are available.","BAIL ORGANA: With all due respect for the Jedi Order, that doesn't sound like enough.","YODA: Through negotiation the Jedi maintains peace. To start a war, we do not intend.","ASK AAK: The debate is over! Now we need that clone army...","BAIL ORGANA: Unfortunately, the debate is not over. The Senate will never approve the use of the clones before the separatists attack.","MAS AMEDDA: This is a crisis! The Senate must vote the Chancellor emergency powers! He could then approve the use of the clones.","PALPATINE: But what Senator would have the courage to propose such a radical amendment?","MAS AMEDDA: If only Senator Amidala were here.","JAR JAR steps forward from the back of the group.","JAR JAR: Mesa mosto Supreme Chancellor... Mesa gusto pallos. Mesa proud to proposing the motion to give yousa Honor emergency powers.","INTERIOR: GEONOSIS, PRISON CELL - DAY","COUNT DOOKU walks into the cell holding OBI-WAN. OBI-WAN is suspended in a force field, turning slowly as blue electric bolts restrain him. COUNT DOOKU circles OBI-WAN as they talk.","OBI-WAN: Traitor!","COUNT DOOKU: Hello, my friend. This is a mistake. A terrible mistake. They've gone too far. This is madness.","OBI-WAN: I thought you were the leader here, Dooku.","COUNT DOOKU: This had nothing to do with me, I assure you. I promise you I will petition immediately to have you set free.","OBI-WAN: Well, I hope it doesn't take too long. I have work to do.","COUNT DOOKU: May I ask why a Jedi Knight is all the way out here on Geonosis?","OBI-WAN: I've been tracking a bounty hunter named Jango Fett. Do you know him?","COUNT DOOKU: There are no bounty hunters here that I'm aware of. Geonosians don't trust them.","OBI-WAN: Well, who can blame them. But he is here, I can assure you.","COUNT DOOKU: It's a great pity that our paths have never crossed before, Obi-Wan. Qui-Gon always spoke very highly of you. I wish he were still alive. I could use his help right now.","OBI-WAN: Qui-Gon Jinn would never join you.","COUNT DOOKU: Don't be so sure, my young Jedi. You forget that he was once my apprentice just as you were once his. He knew all about the corruption in the Senate, but he would never have gone along with it if he had known the truth as I have.","OBI-WAN: The truth?","COUNT DOOKU: The truth. What if I told you that the Republic was now under the control of the Dark Lords of the Sith?","OBI-WAN: No, that's not possible. The Jedi would be aware of it.","COUNT DOOKU: The dark side of the Force has clouded their vision, my friend. Hundreds of Senators are now under the influence of a Sith Lord called Darth Sidious.","OBI-WAN: I don't believe you.","COUNT DOOKU: The Viceroy of the Trade Federation was once in league with this Darth Sidious. But he was betrayed ten years ago by the Dark Lord. He came to me for help. He told me everything. The Jedi Council would not believe him. I tried many times to warn them but they wouldn't listen to me. Once they sensed the Dark Lord's presence, it would then be too late. You must join me, Obi-Wan, and together we will destroy the Sith.","OBI-WAN: I will never join you, Dooku.","COUNT DOOKU turns to leave.","COUNT DOOKU: It may be difficult to secure your release.","EXTERIOR: SPACE","The Naboo Starship heads toward the rings of Geonosis.","EXTERIOR: GEONOSIS - DAY","ANAKIN pilots the starship close to the ground, weaving around towering rock formations.","PADME AMIDALA: See those columns of steam straight ahead? They're exhaust vents of some type.","ANAKIN: That'll do.","ANAKIN pilots the craft straight down into a column, flying through the steam, and landing at the bottom.","INTERIOR: COCKPIT, NABOO STARSHIP - DAY","PADM\xc9 and ANAKIN prepare to leave the starship.","PADME AMIDALA: Look, whatever happens out there, follow my lead. I'm not interested in getting into a war here. As a member of the Senate, maybe I can find a diplomatic solution to this mess.","ANAKIN: Don't worry. I've given up trying to argue with you.","ARTOO WHISTLES a plaintive sigh.","C-3PO: My sad little friend. If they had needed our help, they would have asked for it. You have a lot to learn about humans.","INTERIOR: GEONOSIS, CORRIDORS - DAY","ANAKIN and PADM\xc9 enter the stalagmite city. They stop, looking around in wonder at the emptiness.","INTERIOR: COCKPIT, NABOO STARSHIP - DAY","ARTOO stands in front of THREEPIO, who is fussing about.","C-3PO: For a mechanic, you seem to do an excessive amount of thinking. I'm programmed to understand humans.","ARTOO beeps a question.","C-3PO: What does that mean? That means I'm in charge here!","ARTOO trundles out of the starship and down the landing ramp. THREEPIO follows him out of the ship.","C-3PO: Wait! Where are you going? Don't you have any sense at all?","ARTOO makes a rude noise.","C-3PO: How rude! Please wait! Do you know where you're going?","ARTOO bleeps at THREEPIO.","INTERIOR: GEONOSIS, CORRIDORS - DAY","ANAKIN and PADM\xc9 start forward. As they pass, the surface of the pillars seems to pulse slowly and move. High above, WINGED CREATURES grow from the pillars and detach themselves.","ANAKIN: Wait.","ANAKIN turns as one of the WINGED CREATURES attacks him. Lightsaber blazing, ANAKIN cuts down three creatures as PADM\xc9 exits through a far doorway. He reaches PADM\xc9 and they both stand on the edge of a short walkway extending over a deep crevasse. The door behind them closes, stranding the two. The walkway retracts and PADM\xc9 slips and then jumps down onto a conveyor belt leading into the droid factory.","ANAKIN: Padm\xe9!","ANAKIN jumps down and slashes more WINGED CREATURES while attempting to reach PADM\xc9. PADM\xc9 makes her way across stamping machines and welders as ANAKIN follows, beating back WINGED CREATURES.","INTERIOR: GEONOSIS, DROID FACTORY - DAY","THREEPIO and ARTOO stop at the small walkway.","C-3PO: Oh my goodness! Machines creating machines. How perverse! (ARTOO bleeps) Calm down. What are you talking about? I'm not in your way!","ARTOO pushes THREEPIO off the small ledge and onto a flying Conveyor Droid. Flailing, THREEPIO falls from the droid and onto the conveyor belt below. ARTOO uses his rocket jets to fly up and into the factory.","C-3PO: Help!","ANAKIN continues to work his way toward PADM\xc9, lightsaber flashing, WINGED CREATURES attacking from all directions. PADM\xc9 wrestles with one CREATURE and is thrown into a large empty vat moving down the assembly line. Mechanized arms carry the vat to a position where molten metal will be poured into it. PADM\xc9 struggles to find handholds for escape, but is unsuccessful. ARTOO flies toward PADM\xc9.","SEE-THREEPIO is carried down the assembly line. He stands, only to find his head sliced from his body. His head lands in a line of Battle Droid heads and is welded to a Battle Droid body.","C-3PO: How ugly! Why would one build such unattractive droids?","THREEPIO's headless body continues down the assembly line, sandwiched between Battle Droids. A Battle Droid head is welded on THREEPIO's body.","C-3PO: I'm so confused.","Meanwhile, ANAKIN continues to battle CREATURES. He trips on the assembly line and his right arm becomes locked into a molding device. ANAKIN comes close to the cutting machine.","As PADM\xc9 continues her struggle to escape the vat, ARTOO finds the computer port controlling the vats and programs PADM\xc9's to dump her onto a walkway. ANAKIN ignites his lightsaber in an attempt to free his arm. The cutter approaches. He maneuvers his body away from the cutter, but it slams down and cuts his lightsaber in half.","PADM\xc9 is surrounded by WINGED CREATURES and taken prisoner. ANAKIN is surrounded by DROIDEKAS and from above. JANGO FETT drops down, blaster in hand.","JANGO FETT: Don't move, Jedi!","INTERIOR: GEONOSIS, CONFERENCE ROOM - DAY","COUNT DOOKU sits at a large conference table with PADM\xc9 on the far side. ANAKIN stands behind her with FOUR GEONOSIANS GUARDS standing behind him. JANGO FETT stands behind COUNT DOOKU, and SIX GEONOSIAN GUARDS stand behind him.","PADME AMIDALA: You are holding a Jedi Knight, Obi-Wan Kenobi. I am formally requesting you turn him over to me, now.","COUNT DOOKU: He has been convicted of espionage, Senator, and will be executed. In just a few hours, I believe.","COUNT DOOKU smiles.","PADME AMIDALA: He is an officer of the Republic. You can't do that.","COUNT DOOKU: We don't recognize the Republic here, Senator. But if Naboo were to join our Alliance, I could easily hear your plea for clemency.","PADME AMIDALA: And if I don't join your rebellion, I assume this Jedi with me will also die?","COUNT DOOKU: I don't wish to make you to join our cause against your will, Senator, but you are a rational, honest representative of your people and I assume you want to do what's in their best interest. Aren't they fed up with the corruption, the bureaucrats, the hypocrisy of it all? Aren't you? Be honest, Senator.","PADME AMIDALA: The ideals are still alive, Count, even if the institution is failing.","COUNT DOOKU: You believe in the same ideals we believe in! The same ideals we are striving to make prominent.","PADME AMIDALA: If what you say is true, you should stay in the Republic and help Chancellor Palpatine put things right.","COUNT DOOKU: The Chancellor means well, M'Lady, but he is incompetent. He has promised to cut the bureaucracy, but the bureaucrats are stronger than ever, no? The Republic cannot be fixed, M'Lady. It is time to start over. The democratic process in the Republic is a sham, no? A shell game played on the voters. The time will come when that cult of greed, called the Republic, will lose even the pretext of democracy and freedom.","PADME AMIDALA: I cannot believe that. I know of your treaties with the Trade Federation, the Commerce Guilds, and the others, Count. What is happening here is not government that has been bought out by business... it's business becoming government! I will not forsake all I have honored and worked for and betray the Republic.","COUNT DOOKU: Then you will betray your Jedi friends? Without your cooperation I can do nothing to stop their execution.","PADME AMIDALA: And what about me? Am I to be executed also?","DOOKU: I wouldn't think of such an offense. But, there are individuals who have a strong interest in your demise, M'Lady. It has nothing to do with politics, I'm afraid. It's purely personal, and they have already paid great sums to have you assassinated. I'm sure they will push hard to have you included in the executions. I'm sorry but if you are not going to cooperate, I must turn you over to the Geonosians for justice. Without your cooperation, I've done all I can for you.","JANGO FETT: Take them away.","INTERIOR: CORUSCANT, MAIN SENATE CHAMBER, UPPER CORRIDOR - EVENING","MACE WINDU walks down an upper corridor and meets YODA, who is sitting on a ledge overlooking the Senate chamber.","Inside the great rotunda, the UPROAR is even louder. Opposing SENATORS yell furiously at one another.","MAS AMEDDA: Order! Order!!","Finally, the uproar dies.","PALPATINE: In the regrettable absence of Senator Amidala, the chair recognizes senior representative of Naboo, Jar Jar Binks.","Amid the conflicting storm of CHEERS AND BOOS, JAR JAR, with TWO GUNGAN AIDES, floats on his pod to the middle of the vast space. He looks at PALPATINE nervously. PALPATINE nods. JAR JAR clears his throat.","JAR JAR: Senators, dellow felagates...","Laughter. Jeers. JAR JAR blushes.","MAS AMEDDA: Order! The Senate will accord the Representative the courtesy of a hearing!","Comparative quiet. JAR JAR grips the edge of the podium.","INTERIOR: CORUSCANT, MAIN SENATE CHAMBER - EVENING","JAR JAR stands in his pod as it floats in the middle of the vast space.","JAR JAR: In response to the direct threat to the Republic mesa propose that the Senate give immediately emergency powers to the Supreme Chancellor.","Uproar. JAR JAR looks a little sheepish.","Brief silence, then a rolling wave of APPLAUSE. JAR JAR beams and bows.","PALPATINE rises.","PALPATINE: It is with great reluctance that I have agreed to this calling. I love democracy... I love the Republic. But I am mild by nature, and I do not desire to see the destruction of democracy. The power you give me I will lay down when this crisis has abated, I promise you. And as my first act with this new authority, I will create a grand army of the Republic to counter the increasing threats of the separatists.","INTERIOR: GEONOSIS, HIGH AUDIENCE CHAMBER - DAY","ANAKIN and PADM\xc9 are standing in the center of what looks like a courtroom. Seated before them in a tall, boxed-off area is POGGLE THE LESSER, Archduke of Geonosis. He is accompanied by his underling, SUN FAC. Off to one side the Separatist Senators PO NUDU, TESSEK, and TOONBUCK TOORA. Next to them are the Commerce Dignitaries, SHU MAI, NUTE GUNRAY, PASSEL ARGENTE, WAT TAMBOR and SAN HILL of the Intergalactic Bank Clan. Along the wall about a HUNDRED GEONOSIANS wait for a verdict.","SUN FAC: You have been charged and found guilty of Espionage.","POGGLE: Do you have anything to say before your sentence is carried out?","PADME AMIDALA: You are committing an act of war, Archduke. I hope you are prepared for the consequences.","POGGLE laughs. COUNT DOOKU simply smiles.","POGGLE: We build weapons, Senator... that is our business! Of course we're prepared!","NUTE GUNRAY: Get on with it. Carry out the sentence. I want to see her suffer.","POGGLE: Your other Jedi friend is waiting for you, Senator. Take them to the arena!","FOUR GUARDS take hold of PADM\xc9 and ANAKIN. They are escorted out of the chamber to the sounds of chuckling.","INTERIOR: GEONOSIS, TUNNEL TO EXECUTION ARENA - DAY","In the gloomy tunnel, ANAKIN and PADM\xc9 are tossed into an open cart. The murmur of a vast crowd is heard offscreen. GUARDS extend their arms along the framework and tie them so that they stand facing each other.","The DRIVER gets up onto his seat.","ANAKIN: Don't be afraid.","PADME AMIDALA: I'm not afraid to die. I've been dying a little bit each day since you came back into my life.","ANAKIN: What are you talking about?","PADME AMIDALA: I love you.","ANAKIN: You love me?! I thought we decided not to fall in love. That we would be forced to live a lie. That it would destroy our lives...","PADME AMIDALA: I think our lives are about to be destroyed anyway. My love for you is a puzzle, Annie, for which I have no answers. I can't control it... and now I don't care. I truly, deeply love you, and before we die I want you to know.","PADM\xc9 leans toward ANAKIN. By straining hard, it is just possible for their lips to meet. They kiss.","The DRIVER cracks his whip over the ORRAY harnessed between the shafts. The cart jerks forward. Suddenly, there is a HUGE ROAR and blinding sunlight as they emerge into the arena","INTERIOR: GEONOSIS, EXECUTION ARENA - DAY","The great stadium is packed with tier upon tier of yelling GEONOSIANS. The cart trundles to the center, where OBI-WAN is chained to one of four upright posts that are three feet in diameter. The cart stops. PADM\xc9 and ANAKIN are taken down, dragged to posts, and chained to them. ANAKIN is in the center. PADM\xc9 pulls a wire from her clothing and places it in her mouth.","OBI-WAN: I was beginning to wonder if you had gotten my message.","ANAKIN: I retransmitted it as you requested, Master. Then we decided to come and rescue you.","OBI-WAN: Good job!","Their arms are pulled high above their heads, and the cart drives away. There is another ROAR as POGGLE THE LESSER, COUNT DOOKU, NUTE GUNRAY, THE FETTS and DIGNITARIES arrive in the archducal box and take their places.","SUN FAC: The felons before you have been convicted of espionage against the Sovereign System of Geonosis. Their sentence of death is to be carried out in this public arena henceforth.","The crowd ROARS and CHEERS. In the box, POGGLE THE LESSER rises. The crowd becomes quiet.","POGGLE: Let the executions begin!","The crowd goes wild.","From different gates around the arena, THREE MONSTERS are driven in. One is a REEK (bull-like), one is a NEXU (lion like), and one is an ACKLAY (a kind of dino-lobster). They are driven in by PICADORS carrying long spears and riding ORRAYS. The PICADORS poke the MONSTERS toward the center, then retire to the perimeter.","ANAKIN: I've got a bad feeling about this.","The MONSTERS toss their heads, looking around, ROARING or SCREECHING. Then they catch sight of the THREE CAPTIVES and start moving toward them.","OBI-WAN: Take the one the right. I'll take the one on the left.","ANAKIN: What about Padm\xe9?","PADM\xc9 has used the wire she concealed to pick the lock on one of the hand restraints. She turns around and pulls herself up by the chain to the top of the post. Within a moment, she is standing on top of it, trying to pull the chain free.","OBI-WAN: She seems to be on top of things.","The REEK charges ANAKIN. He jumps up, and the beast hits the post hard. ANAKIN lands onto its back, wrapping part of his chain around its horn. The REEK backs off, shaking its head angrily, which tears the chain from the post.","OBI-WAN ducks around the post as the ACKLAY charges. It knocks the post flat, sending OBI-WAN sprawling. The ACKLAY crunches the post between its claws, freeing the chain. OBI-WAN leaps up and runs towards ONE of the PICADORS. The ACKLAY takes off after him.","The NEXU arrives at PADM\xc9's post and rears on its hind legs. On top, PADM\xc9 struggles to tear the chain free. The NEXU ROARS, displaying wicked, dripping fangs.","In the archducal box, NUTE GUNRAY beams and rubs his hands.","In the arena, OBI-WAN runs at the PICADOR. The ORRAY rears up. OBI-WAN grabs the PICADOR'S long spear and pole vaults over him. The chasing ACKLAY smashes into the ORRAY. It goes down. The PICADOR tumbles onto the sand, where he is grabbed by the ACKLAY and crunched.","ANAKIN's REEK starts to buck. It charges around the arena with ANAKIN hanging on for dear life. He whirls the free length of chain around his head and casts it into the REEK's mouth. Its jaws clamp hard on the chain. ANAKIN yanks hard on the chain, turning the REEK, beginning to ride it.","The NEXU's claws dig deep into the post. The cat-like creature reaches the top of the post and takes a swipe at PADM\xc9. She turns and the claw barely catches her shirt ripping it off, leaving superficial claw marks across her back. She hits the creature with her chain and it backs off down the pole. Then, PADM\xc9 jumps off the post into the air. She swings around on the chain and whacks the beast hard on the head with both her feet. It tumbles back onto the sand. PADM\xc9 climbs back up the pole, scrambling to the top.","In the archducal box, NUTE GUNRAY fumes.","NUTE GUNRAY: Foul!! She can't do that... shoot her or something!","In the arena, OBI-WAN runs out from behind the fallen ORRAY and throws the spear at the ACKLAY, hitting it in the neck. It lets out a terrible SCREECH and turns on him. The NEXU springs up and makes to leap up at PADM\xc9 again. She finally manages to work the chain loose. ANAKIN comes charging up on the REEK.","ANAKIN: You okay?","PADME AMIDALA: (nods, gasping) Sure!","ANAKIN: Jump!!!","The NEXU springs. PADM\xc9 leaps from the top of the post to land on the REEK behind ANAKIN. The REEK charges away, around the arena. The NEXU bounds after it. The REEK passes the wounded ACKLAY and OBI-WAN. OBI-WAN runs and jumps on the back of the REEK behind ANAKIN and PADM\xc9.","In the archducal box, NUTE GUNRAY turns angrily to COUNT DOOKU.","NUTE GUNRAY: This isn't how it's supposed to be! Jango, finish her off!","COUNT DOOKU motions for the bounty hunter to stay put. BOBA FETT is enjoying the spectacle.","COUNT DOOKU: (smiling enigmatically) Patience, Viceroy... she will die.","DROIDEKAS roll to the center of the arena where they transform and surround the REEK and contain the JEDI.","EXTERIOR: GEONOSIS, EXECUTION ARENA - DAY","In the archducal box, amid the uproar, MACE WINDU ignites his lightsaber and holds it to JANGO FETT's neck. COUNT DOOKU turns to see MACE WINDU standing behind him. COUNT DOOKU masks his surprise elegantly.","COUNT DOOKU: Master Windu, how pleasant of you to join us. You're just in time for the moment of truth. I would think these two new boys of yours could use a little more training.","MACE WINDU: Sorry to disappoint you, Dooku. This party's over.","MACE WINDU signals, and at strategic places around the arena there are sudden flashes of light as about ONE HUNDRED JEDI switch on their lightsabers. The crowd is suddenly silent. COUNT DOOKU's lips curl in slight amusement.","COUNT DOOKU: (to Mace Windu) Brave, but foolish, my old Jedi friend. You're impossibly outnumbered.","MACE WINDU: I don't think so. The Geonosians aren't warriors. One Jedi has to be worth a hundred Geonosians.","COUNT DOOKU looks around the great theater. His smile grows.","COUNT DOOKU: It wasn't the Geonosians I was thinking about. How well do you think one Jedi will hold up against a thousand Battle Droids?","COUNT DOOKU signals. THOUSANDS OF DROIDS start to pour into all parts of the arena.","JANGO FETT fires his flamethrower at MACE WINDU, igniting MACE's robe. MACE WINDU jumps into the arena. The battle begins. GEONOSIANS fly away everywhere. DROIDS fire at JEDI, who deflect the bolts and cut down the DROIDS. The GEONOSIAN TROOPS fire ray guns that are more difficult for the JEDI to deflect. SEVERAL JEDI run to the center of the arena and throw lightsabers to OBI-WAN and ANAKIN.","The REEK and the NEXU are spooked by the battle. The REEK bucks the riders off its back and stampedes around the arena, trampling DROIDS and JEDI that have moved into its path. PADM\xc9 picks up a discarded pistol and joins the fight.","Among the crowd, JEDI cut down swaths of GEONOSIANS and DROIDS. On the sand, JEDI fight, attacking DROIDS. OBI-WAN and ANAKIN swing their lightsabers, cutting DROIDS in half. PADM\xc9 blasts away at DROIDS and GEONOSIANS.","EXTERIOR: GEONOSIS, EXECUTION ARENA - DAY","MACE WINDU runs to the center of the arena and fights back to-back with OBI-WAN, as they swipe and mangle DROIDS.","Among the tiers, JEDI are slowly being driven back. They have killed heaps of GEONOSIANS and have knocked out piles of DROIDS, but sheer numbers are telling. Individual JEDI are being cut down or blasted. The rest are retreating into the arena.","ANAKIN and PADM\xc9 are back-to-back, fighting DROIDS and flying GEONOSIANS. ","ANAKIN: You call this diplomacy?","PADME AMIDALA: No, I call it aggressive negotiations.","THREEPIO's body with the Battle Droid head enters the arena. The droid is fired upon and knocked back. The Battle Droid head goes flying off THREEPIO's body.","PADM\xc9 jumps on top of the ORRAY pulling the execution wagon. ANAKIN runs, jumps, and lands in the cart, deflecting laser blasts with his lightsaber. PADM\xc9 blasts Battle Droids as the two ride through the arena.","The Battle Droid body with THREEPIO's head enters the arena, carrying a blaster rifle.","C-3PO: Where are we? A battle! Oh, no! I'm just a protocol droid. I'm not made for this. I can't do it. I don't want to be destroyed!","Jedi KIT FISTO uses the Force to knock the THREEPIO Battle Droid backward onto the arena floor. A downed Super Battle Droid falls on top of THREEPIO's Battle Droid body, pinning him to the ground.","OBI-WAN and MACE WINDU fight back-to-back, lightsabers flashing. The REEK charges and separates the two. The REEK chases MACE WINDU across the arena. MACE WINDU slashes at the REEK but loses his lightsaber. JANGO FETT, watching from above, rockets down into the arena to battle with MACE WINDU.","MACE WINDU retrieves his lightsaber, and the REEK tosses JANGO FETT away. JANGO FETT ends up under the REEK, avoiding the creature's massive hoofs. Finally, FETT is free and kills the REEK. MACE WINDU fights fiercely with JANGO FETT. Finally, the bounty hunter falls. His helmet goes flying. The bounty hunter's body falls to the ground.","OBI-WAN is attacked by the ACKLAY and finally slays the beast with his lightsaber.","ARTOO finds the Battle Droid with THREEPIO's head attached. He shoots a projectile from his body that attaches a suction device to THREEPIO's head, and pulls the head away from the Battle Droid. ARTOO drags THREEPIO's head across the arena and reattaches it to THREEPIO's body, using an extendable welding arm.","C-3PO: Artoo, what are you doing here? Wait! No! How dare you! You're pulling too hard. Stop dragging me, you lead head. Artoo, be careful! You might burn my circuits. Are you sure my head's on straight?","EXTERIOR: GEONOSIS, EXECUTION ARENA - DAY","MACE WINDU, OBI-WAN, ANAKIN, PADM\xc9 and an exhausted group of about TWENTY JEDI stand in the center of the arena surrounded by a ring of BATTLE DROIDS. The bloodied sand around them is strewn with the bodies of DEAD GEONOSIANS, SHATTERED DROIDS and JEDI.","KI-ADI-MUNDI and the SURVIVORS from the raiding party are herded into the arena by SUPER BATTLE DROIDS. From the encircling tiers above, THOUSANDS OF BATTLE DROIDS level their weapons menacingly.","In the archducal box, COUNT DOOKU lifts his hand. The DROIDS lower their weapons. The COUNT calls out to the JEDI.","COUNT DOOKU: Master Windu! You have fought gallantly. Worthy of recognition in the history archives of the Jedi Order. Now it is finished. (pauses briefly) Surrender - and your lives will be spared.","MACE WINDU: We will not be hostages for you to barter with, Dooku.","COUNT DOOKU: Then, I'm sorry, old friend. You will have to be destroyed.","The DROIDS raise their weapons. ANAKIN and PADM\xc9 look to each other. COUNT DOOKU raises his hand to give the order to fire. PADM\xc9 looks up suddenly.","PADME AMIDALA: Look!","Above, SIX GUNSHIPS are descending fast through the open area in the arena ceiling. They land in a cluster around the handful of JEDI. CLONE TROOPERS spill out and start firing at the DROIDS. There is a hellstorm of laserfire that bounces off the laser shields created by the Gunships. YODA appears at the door of one of the Gunships.","YODA: Circle the Jedi. A perimeter, create, around the survivors.","The SURVIVING JEDI dash to the Gunships and scramble in. MACE WINDU hangs on tight as the Gunship, firing all its weapons, rises out of the arena up and over the topmost rim.","On the arena grounds, ARTOO beeps as THREEPIO tries to sit up.","C-3PO: What happened? I had the most peculiar dream.","In another part of the deserted arena, BOBA FETT finds his father's battered helmet. Kneeling down, he picks it up and lowers his head in sorrow.","EXTERIOR: GEONOSIS, TERRAIN OUTSIDE EXECUTION ARENA - DAY","The massed lines of parked Trade Federation Starships and the DROIDS surrounding the arena, are themselves surrounded by thousands of Republic Starships, disgorging TENS OF THOUSANDS OF CLONE TROOPERS. Beyond, more Republic Starships are landing and spewing out troops.","The Republic Gunships circle towering stalagmites as they head toward the assembly point. WINGED GEONOSIANS fire laser cannons up at the Gunships.","INTERIOR: GEONOSIS, COMMAND CENTER - DAY","DOOKU, POGGLE, NUTE, and RUNE enter a huge command center. In the center of the room there is a large circular viewscreen and, around the perimeter of the room, GEONOSIAN SOLDIERS monitor the CLONE ARMY's advances on large semitransparent maps. In one corner of the room there is a large monitor flashing a variety of images, like schematics to a familiar planet-sized mechanized weapon.","POGGLE: All our communications have been jammed, We are under attack.","NUTE GUNRAY: The Jedi have amassed a huge army.","COUNT DOOKU: Where did they get them? That doesn't seem possible. How did the Jedi come up with an army so quickly?","NUTE GUNRAY: We must send all available droids into battle.","COUNT DOOKU: There are too many. They will soon have us surrounded.","INTERIOR: GUNSHIP NUMBER TWO - DAY","Ground fire and explosions rock the Gunship. PADM\xc9, ANAKIN, and OBI-WAN steady themselves.","OBI-WAN: Hold on!","INTERIOR: GEONOSIS, COMMAND CENTER - DAY","COUNT DOOKU, POGGLE THE LESSER, NUTE GUNRAY, and RUNE HAAKO stand around the viewscreen.","NUTE GUNRAY: This is not going well at all.","POGGLE: Order a retreat. I am sending all my warriors deep into the catacombs to hide.","RUNE HAAKO: We must get the cores of our ships back into space.","COUNT DOOKU: I'm going to Coruscant. My Master will not let the Republic get away with this treachery.","POGGLE crosses to the holographic schematic and downloads it into a cartridge. He gives it to COUNT DOOKU.","POGGLE: The Jedi must not find our designs for the ultimate weapon. If they have any idea of what we are planning to create, we are doomed.","COUNT DOOKU: I will take the designs with me. They will be much safer with my Master.","INTERIOR: GUNSHIP NUMBER ONE - DAY","MACE WINDU stares at the incredible sight.","MACE WINDU: Captain, land at that assembly point ahead.","CLONE CAPTAIN: Yes, sir.","The Gunship lands. MACE WINDU, KI-ADI-MUNDI, and CLONE TROOPERS spill from the Gunship and join the ground battle. The Gunship lifts off with YODA on board.","YODA: Capture Dooku, we must. If escapes he does, he will rally more systems to his cause.","The CLONE TROOPERS open fire with artillery. EXPLOSIONS wreck the parked Battle Starships. CLONE TROOPERS advance, firing at the massed DROIDS. FIGHTER DROIDS fly overhead, exchanging fire with the Gunships and JEDI fighters.","YODA: More battalions to the left. Encircle them, we must, then divide.","EXTERIOR: BATTLEFIELD, GEONOSIS LANDSCAPE - DAY","Gunship #2 skims the battlefield, firing down, deflecting answering fire from the droids.","INTERIOR: GUNSHIP NUMBER TWO - DAY","OBI-WAN, ANAKIN and PADM\xc9 watch from the open Gunship.","On the battleground below, CLONE TROOPERS riding speeder bikes advance toward the battlefield. TRADE FEDERATION SPIDER DROIDS fire at the CLONE TROOPERS and Republic Gunships. Lightsaber-wielding JEDI slash through BATTLE DROIDS. The battle rages on.","Gunship #1 flies low toward TECHNO UNION starships.","ANAKIN: Aim right above the fuel cells.","Laser fire pelts the base of the TECHNO UNION ship. Rocked with explosions, it begins to tilt over and the Gunships split up, flying past.","OBI-WAN: Good call. Those Federation starships are taking off. Target them quickly.","One TRADE FEDERATION starship begins to rise from its docking port. Gunship #2 fires on the starship, with no apparent damage.","ANAKIN: They're too big, Master. The ground troops will have to take them out.","INTERIOR: GUNSHIP NUMBER ONE - DAY","The Gunship lands at the Command Center. YODA disembarks.","CLONE COMMANDER: Master Yoda, all forward positions are advancing.","YODA: Very good. Very good.","INTERIOR: GUNSHIP NUMBER TWO - DAY","The Gunship continues to fire on the TRADE FEDERATION starships. The starships continue to lift into the sky.","INTERIOR: COMMAND CENTER - DAY","YODA: Concentrate all your fire on the nearest starship.","CLONE COMMANDER: Yes, sir.","The TRADE FEDERATION starship finally begins to weaken under the constant fire. The starship begins to fall and then explodes in a fireball.","INTERIOR: GUNSHIP NUMBER TWO - DAY","OBI-WAN, ANAKIN and PADM\xc9 are at the open sides of the Gunship. CLONES fire down at the DROIDS below.","The Gunship slows, circling over a droid gun-emplacement. It blasts it, but suddenly the Gunship is rocked by a near miss. It lurches violently.","OBI-WAN: Look over there...","ANAKIN: It's Dooku! Shoot him down!","Through the other side of the Gunship, they see a Geonosian Speeder racing past. In the open cockpit is the unmistakable figure of COUNT DOOKU.","CLONE CAPTAIN: We're out of ordinance, sir.","ANAKIN: Follow him!","PADME AMIDALA: We're going to need some help.","OBI-WAN: No, there's no time. Anakin and I can handle this.","DOOKU signals the two fighters flanking his ship. They veer off left and right, loop around, and come up behind our heroes' Gunship. To avoid the BEAK-WING fire, the Gunship banks up a steep dune but is still hit. The ship lurches on its side, and PADM\xc9 and a CLONE OFFICER tumble out.","ANAKIN: Padm\xe9!!!","ANAKIN stares down in horror as PADM\xc9 hits the ground below.","ANAKIN: (continuing; to pilot) Put the ship down! Down!","OBI-WAN: Don't let your personal feelings get in the way. (to the pilot) Follow that speeder.","The Gunship continues its pursuit of DOOKU's speeder, followed by the TWO BEAK-WING fighters.","ANAKIN: (to pilot) Lower the ship!","OBI-WAN: Anakin, I can't take DOOKU alone. I need you. If we catch him we can end this war right now. We have a job to do.","ANAKIN: I don't care. (to the pilot) Put the ship down.","OBI-WAN: You'll be expelled from the Jedi Order.","ANAKIN: I can't leave her.","OBI-WAN: Come to your senses. What do you think Padm\xe9 would do if she were in your position?","ANAKIN: (resigned) She would do her duty.","EXTERIOR: COMMAND CENTER - DAY","YODA stands next to the CLONE COMMANDER. He senses something is wrong with PADM\xc9.","YODA: Hmmmm...","CLONE COMMANDER: The droid army is in full retreat.","YODA: Well done, Commander. Bring me my ship.","EXTERIOR: GEONOSIS, DUNES - DAY","On the ground, a CLONE TROOPER approaches PADM\xc9.","CLONE TROOPER: Are you all right?","PADME AMIDALA: I think so.","CLONE TROOPER: We better get you back to the Forward Command Center.","PADME AMIDALA: No, no. Gather up what troops you can. We've got to get to that hanger. Get a transport. Hurry!","INTERIOR: GUNSHIP NUMBER TWO - DAY","ANAKIN and OBI-WAN watch as COUNT DOOKU's speeder parks outside the tower; the Gunship parks next to it. OBI-WAN and ANAKIN leap down and run inside the tower.","INTERIOR: GEONOSIS, SECRET HANGER TOWER - LATE DAY","COUNT DOOKU throws switches on a control panel. His Interstellar Sail Ship is parked nearby.","ANAKIN: You're going to pay for all the Jedi you've killed today, Dooku.","OBI-WAN: (to Anakin): We'll take him together - you go in slowly on the...","ANAKIN: No, I'm taking him now!","OBI-WAN: Anakin, no!","ANAKIN charges across the open space at COUNT DOOKU, who smiles faintly, watching him come. ANAKIN raises his lightsaber. At the last moment, COUNT DOOKU thrusts out an arm and unleashes a blast of Force lightning. ANAKIN is hurled across the room, and slammed into the opposite wall. He slumps to the foot of the wall, semi-conscious. COUNT DOOKU moves toward OBI-WAN.","COUNT DOOKU: As you can see, my Jedi powers are far beyond yours.","OBI-WAN: I don't think so.","OBI-WAN lifts his lightsaber. COUNT DOOKU smiles and ignites his lightsaber.","OBI-WAN comes in fast, swinging at COUNT DOOKU's head. DOOKU parries the cut easily. As they fight, it quickly becomes clear that DOOKU is the complete swordsman, elegant, graceful, classical - a master of the old style.","COUNT DOOKU: Master Kenobi, you disappoint me. Yoda holds you in such high esteem.","COUNT DOOKU parries another cut and then thrusts. OBI-WAN steps back quickly, panting for breath.","COUNT DOOKU: Come, come, Master Kenobi. Put me out of my misery.","OBI-WAN takes a deep breath, gets a fresh grip on his lightsaber and comes in again. For a moment, he drives COUNT DOOKU back. Then DOOKU's superior skill begins to tell again, and he forces OBI-WAN to retreat.","COUNT DOOKU increases the tempo of his attack. OBI-WAN is pushed to the limit to defend himself. DOOKU presses. His lightsaber flashes.","OBI-WAN is wounded in the shoulder, then the thigh. He stumbles back against the wall, trips, and falls. His lightsaber goes skittering across the floor.","COUNT DOOKU raises his lightsaber. OBI-WAN looks up at him helplessly. DOOKU's lightsaber flashes down and CLASHES against - ANAKIN's lightsaber! COUNT DOOKU and ANAKIN stare eyeball to eyeball.","COUNT DOOKU: That's brave of you, boy - but foolish. I would have thought you'd have learned your lesson.","ANAKIN: I'm a slow learner.","And ANAKIN charges at COUNT DOOKU. The force of his attack catches the COUNT slightly off balance. ANAKIN's lightsaber flashes. COUNT DOOKU draws back.","COUNT DOOKU: You have unusual powers, young Padawan. But not enough to save you this time.","ANAKIN: Don't bet on it!","OBI-WAN: Anakin!","OBI-WAN uses the Force to catch his lightsaber and he tosses it to ANAKIN. With TWO LIGHTSABERS, ANAKIN attacks. COUNT DOOKU parries and ripostes. It's no contest. ANAKIN is driven back against the wall. He loses one lightsaber. Finally COUNT DOOKU, in one flashing move, sends ANAKIN's arm, cut off at the elbow, flying, still gripping his lightsaber. ANAKIN drops to the ground in agony. COUNT DOOKU draws himself up to deliver the coup de grace.","Suddenly, through the thick smoke, emerges the heroic figure of YODA. He stops on the smoke-filled threshold.","COUNT DOOKU: Master Yoda.","YODA: Count Dooku.","COUNT DOOKU: You have interfered with our plans for the last time.","COUNT DOOKU levitates machinery, hurling it at the tiny figure of the JEDI MASTER. YODA recovers and deflects the machinery. COUNT DOOKU then causes great boulders in the ceiling above YODA to fall, and again, YODA deflects the boulders which fall around him. YODA deflects Force lightning thrown at him by the enraged COUNT DOOKU.","YODA: Powerful you have become, Dooku. The dark side I sense in you.","COUNT DOOKU: I have become more powerful than any Jedi. Even you, my old Master.","COUNT DOOKU continues to hurl Force lightning at YODA, who deflects every blast.","YODA: Much to learn you still have.","COUNT DOOKU: It is obvious this contest will not be decided by our knowledge of the Force, but by our skills with a lightsaber.","COUNT DOOKU whirls his lightsaber in a formal salute. YODA draws his lightsaber. Suddenly, COUNT DOOKU charges across the space at YODA. He rains down blows upon the tiny figure. YODA doesn't budge an inch. For the first part of the contest, he parries every cut and thrust that COUNT DOOKU aims. Nothing the great swordsman tries gets through. His energy drains. His strokes become feeble, slower.","YODA attacks! He flies forward. COUNT DOOKU is forced to retreat. Words are insufficient to describe the range and skill of YODA's speed and swordplay. His lightsaber his a humming blur of light. Finally, their blades cross and the fighting slows.","YODA: Fought well you have, my old Padawan.","COUNT DOOKU: The battle is far from over. This is just the beginning.","Then, with all his might, COUNT DOOKU uses the Force to pull on one of the cranes in the hanger. It comes crashing down toward OBI-WAN and ANAKIN. ANAKIN wakes. But in the blink of and eye, ANAKIN and OBI-WAN attempt to hold up the crane, using the Force. YODA closes his eyes and concentrates, adding his strength to the two fallen JEDI and moves the crane aside. COUNT DOOKU runs up the ship's ramp, throwing a look back before going inside.","The sound of the Sail Ship's engines are heard starting up.","COUNT DOOKU'S Sail Ship takes off. OBI-WAN and ANAKIN struggle to the exhausted YODA, but it's too late. The Sail Ship rises into the air and flies away.","EXTERIOR: GEONOSIS, SPACE","COUNT DOOKU pilots his ship through the asteroid field circling Geonosis and into deep space.","INTERIOR: GEONOSIS, SECRET HANGER TOWER - LATE DAY","PADM\xc9 runs to ANAKIN and throws her arms around him. ANAKIN is barely able to stand up.","EXTERIOR: CORUSCANT, OLD TOWN - DAWN","COUNT DOOKU's Interstellar Sail Ship glides through a deserted, burned-out part of Coruscant. COUNT DOOKU maneuvers the ship into one of the empty buildings andlands.","INTERIOR: CORUSCANT, SECRET LANDING PLATFORM - DAWN","The ramp lowers. COUNT DOOKU emerges and walks to where the hooded figure of DARTH SIDIOUS stands waiting. COUNT DOOKU bows.","COUNT DOOKU: The Force is with us, Master Sidious.","DARTH SIDIOUS: Welcome home, Lord Tyranus. You have done well.","COUNT DOOKU: I bring you good news, my Lord. The war has begun.","DARTH SIDIOUS: Excellent. (smiling) Everything is going as planned.","EXTERIOR: CORUSCANT, JEDI TEMPLE - SUNSET","The beautiful temple basks in the red glow of the setting sun.","INTERIOR: JEDI TEMPLE, COUNCIL CHAMBER - SUNSET","OBI-WAN: Do you believe what Count Dooku said about Sidious controlling the Senate? It doesn't feel right.","YODA: Becoming unreliable, Dooku has. Joined the dark side. Lies, deceit, creating mistrust are his ways now.","MACE WINDU: Never the less, I feel we should keep a closer eye on the Senate.","YODA: I agree.","MACE WINDU: Where is your apprentice?","OBI-WAN: On his way to Naboo. He is escorting Senator Amidala home. I have to admit, without the clones, it would not have been a victory.","YODA: Victory? Victory, you say?","OBI-WAN turns and looks at the sad little Jedi sitting in the Council Chamber.","YODA: Master Obi-Wan, not victory. The shroud of the dark side has fallen. Begun, this Clone War has!"],[oA.revenge]:["revenge script"],[oA.hope]:["hope script"],[oA.empire]:["empire script"],[oA.return]:["return script"],[oA.awakens]:["awakens script"],[oA.last]:["last script"],[oA.skywalker]:["skywalker script"],[oA.rogue]:["rogue script"],[oA.solo]:["solo script"]}}getScript(e){return this.scripts[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lA=(()=>{class e{constructor(){}buildScript(e){const t=new Set,n=[];let o;const s=["INTERIOR","EXTERIOR"];return e.forEach(e=>{e.includes(":")&&(o=e.split(":")[0].trim(),s.includes(o)||(t.add(o),n.push({character:o,line:e.split(":")[1]})))}),{characters:Array.from(t).sort(),lines:n}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uA(e,t){return new I(n=>{const o=e.length;if(0===o)return void n.complete();const s=new Array(o);let r=0,i=0;for(let a=0;a<o;a++){const h=_(e[a]);let l=!1;n.add(h.subscribe({next:e=>{l||(l=!0,i++),s[a]=e},error:e=>n.error(e),complete:()=>{r++,r!==o&&l||(i===o&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}const dA=new _n("NgValueAccessor"),cA={provide:dA,useExisting:oe(()=>AA),multi:!0};let AA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Mr("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[ui([cA])]}),e})();const pA={provide:dA,useExisting:oe(()=>gA),multi:!0},fA=new _n("CompositionEventMode");let gA=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=dh()?dh().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi),Er(fA,8))},e.\u0275dir=xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Mr("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[ui([pA])]}),e})();function mA(e){return null==e||0===e.length}function IA(e){return null!=e&&"number"==typeof e.length}const NA=new _n("NgValidators"),yA=new _n("NgAsyncValidators"),OA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wA{static min(e){return t=>{if(mA(t.value)||mA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(mA(t.value)||mA(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return mA(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return mA(e.value)||OA.test(e.value)?null:{email:!0}}static minLength(e){return t=>mA(t.value)||!IA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>IA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return wA.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(mA(e.value))return null;const o=e.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(TA);return 0==t.length?null:function(e){return bA(RA(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(TA);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(h(t))return uA(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return uA(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return uA(e=1===e.length&&h(e[0])?e[0]:e,null).pipe(R(e=>t(...e)))}return uA(e,null)}(RA(e,t).map(EA)).pipe(R(bA))}}}function TA(e){return null!=e}function EA(e){const t=kr(e)?_(e):e;return Cr(t),t}function bA(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function RA(e,t){return t.map(t=>t(e))}function SA(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function vA(e){return null!=e?wA.compose(SA(e)):null}function DA(e){return null!=e?wA.composeAsync(SA(e)):null}function kA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let CA=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=xe({type:e}),e})(),MA=(()=>{class e extends CA{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return PA(t||e)},e.\u0275dir=xe({type:e,features:[cr]}),e})();const PA=Mn(MA);class UA extends CA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let LA=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Er(UA,2))},e.\u0275dir=xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Gr("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[cr]}),e})();const _A={provide:dA,useExisting:oe(()=>BA),multi:!0};let BA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Mr("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ui([_A])]}),e})();const WA={provide:dA,useExisting:oe(()=>GA),multi:!0};let HA=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ie({token:e,factory:e.\u0275fac}),e})(),GA=(()=>{class e{constructor(e,t,n,o){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=o,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(UA),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi),Er(HA),Er(ur))},e.\u0275dir=xe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Mr("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ui([WA])]}),e})();const KA={provide:dA,useExisting:oe(()=>JA),multi:!0};let JA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Mr("change",function(e){return t.onChange(e.target.value)})("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[ui([KA])]}),e})();const xA={provide:dA,useExisting:oe(()=>YA),multi:!0};function FA(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let YA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=FA(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Mr("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([xA])]}),e})(),VA=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Er(mi),Er(Ni),Er(YA,9))},e.\u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const jA={provide:dA,useExisting:oe(()=>XA),multi:!0};function QA(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let XA=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const o=e.item(t),s=this._getOptionValue(o.value);n.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const o=e.item(t);if(o.selected){const e=this._getOptionValue(o.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Er(Ni),Er(mi))},e.\u0275dir=xe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Mr("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[ui([jA])]}),e})(),zA=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(QA(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(Er(mi),Er(Ni),Er(XA,9))},e.\u0275dir=xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function $A(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const ZA=[AA,JA,BA,YA,XA,GA];function ep(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const tp="VALID",np="INVALID",op="PENDING",sp="DISABLED";function rp(e){return(lp(e)?e.validators:e)||null}function ip(e){return Array.isArray(e)?vA(e):e||null}function ap(e,t){return(lp(t)?t.asyncValidators:e)||null}function hp(e){return Array.isArray(e)?DA(e):e||null}function lp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class up{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ip(this._rawValidators),this._composedAsyncValidatorFn=hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tp}get invalid(){return this.status===np}get pending(){return this.status==op}get disabled(){return this.status===sp}get enabled(){return this.status!==sp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ip(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hp(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=op,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sp,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tp,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==tp&&this.status!==op||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sp:tp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=op,this._hasOwnPendingAsyncValidator=!0;const t=EA(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let o=e;return t.forEach(e=>{o=o instanceof cp?o.controls.hasOwnProperty(e)?o.controls[e]:null:o instanceof Ap&&o.at(e)||null}),o}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new da,this.statusChanges=new da}_calculateStatus(){return this._allControlsDisabled()?sp:this.errors?np:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(op)?op:this._anyControlsHaveStatus(np)?np:tp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dp extends up{constructor(e=null,t,n){super(rp(t),ap(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ep(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ep(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cp extends up{constructor(e,t,n){super(rp(t),ap(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,o)=>{n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof dp?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,o)=>{n=t(n,e,o)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ap extends up{constructor(e,t,n){super(rp(t),ap(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,o)=>{n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof dp?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pp={provide:UA,useExisting:oe(()=>gp)},fp=(()=>Promise.resolve(null))();let gp=(()=>{class e extends UA{constructor(e,t,n,o){super(),this.control=new dp,this._registered=!1,this.update=new da,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);let n=void 0,o=void 0,s=void 0;return t.forEach(e=>{var t;e.constructor===gA?n=e:(t=e,ZA.some(e=>t.constructor===e)?o=e:s=e)}),s||o||n||null}(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t,n){const o=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(kA(o,t.validator)):"function"==typeof o&&e.setValidators([o]);const s=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(kA(s,t.asyncValidator)):"function"==typeof s&&e.setAsyncValidators([s]);{const n=()=>e.updateValueAndValidity();$A(t._rawValidators,n),$A(t._rawAsyncValidators,n)}})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&qA(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&qA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){fp.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;fp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Er(MA,9),Er(NA,10),Er(yA,10),Er(dA,10))},e.\u0275dir=xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ui([pp]),cr,it]}),e})(),mp=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)}}),e})(),Ip=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)},providers:[HA],imports:[mp]}),e})();function Np(e,t){if(1&e&&(Sr(0,"div"),Yr(1),vr()),2&e){const e=function(e=1){return function(e){return(Et.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Et.lFrame.contextLView))[8]}(e)}();es(1),jr(" ",e.currentlySelectedLine.line," ")}}function yp(e,t){if(1&e&&(Sr(0,"option",11),Yr(1),vr()),2&e){const e=t.$implicit;Lr("value",e),es(1),Vr(e)}}let Op=(()=>{class e{constructor(e,t,n){this.route=e,this.scriptsService=t,this.triviaService=n,this.enteredValue="",this.skippedCharacter=null,this.correctCounter=0,this.incorrectCounter=0,this.skippedCounter=0,this.linesAnswered=0,this.numberOfLines=0,this.percentCorrect=null}ngOnInit(){this.route.params.subscribe(e=>{const t=this.scriptsService.getScript(e.code),n=this.triviaService.buildScript(t);this.script=n.lines,this.characters=n.characters,this.numberOfLines=this.script.length,this.setCurrentlySelectedLine()})}setCurrentlySelectedLine(){this.currentlySelectedLine=this.script.splice(Math.floor(Math.random()*this.script.length)+1,1)[0],this.linesAnswered++,this.linesAnswered===this.numberOfLines+1&&console.log("here")}checkIfAnswerIsCorrect(){this.skippedCharacter=null,this.currentlySelectedLine.character.toLowerCase()===this.enteredValue.toLowerCase()?(this.correctCounter++,this.enteredValue="",this.triviaAnswerState=sA.CORRECT,this.setCurrentlySelectedLine()):(this.incorrectCounter++,this.triviaAnswerState=sA.INCORRECT),this.calculatePercentCorrect()}skipLine(){this.skippedCounter++,this.skippedCharacter=this.currentlySelectedLine.character,this.setCurrentlySelectedLine(),this.calculatePercentCorrect(),this.triviaAnswerState=sA.SKIP}calculatePercentCorrect(){const e=this.correctCounter+this.incorrectCounter+this.skippedCounter;e>0&&(this.percentCorrect=this.correctCounter/e)}}return e.\u0275fac=function(t){return new(t||e)(Er(gd),Er(hA),Er(lA))},e.\u0275cmp=Be({type:e,selectors:[["app-trivia"]],decls:26,vars:18,consts:[["routerLink","/"],["id","trivia-stats-line",1,"grid"],[1,"center","trivia-stat-item","highlight-item"],[1,"center","trivia-stat-item",3,"hidden"],["id","trivia-line-guess"],[4,"ngIf"],["list","character-options",3,"ngModel","ngModelChange","keyup.enter"],["id","character-options"],[3,"value",4,"ngFor","ngForOf"],[1,"trivia-button",3,"click"],[3,"hidden"],[3,"value"]],template:function(e,t){1&e&&(Sr(0,"div"),Sr(1,"button",0),Yr(2," Back "),vr(),vr(),Sr(3,"div"),Yr(4),vr(),Sr(5,"div"),Sr(6,"div",1),Sr(7,"div",2),Yr(8),vr(),Sr(9,"div",2),Yr(10),vr(),Sr(11,"div",2),Yr(12),vr(),Sr(13,"div",3),Yr(14),vr(),vr(),Sr(15,"div",4),Tr(16,Np,2,1,"div",5),Sr(17,"input",6),Mr("ngModelChange",function(e){return t.enteredValue=e})("keyup.enter",function(){return t.checkIfAnswerIsCorrect()}),vr(),Sr(18,"datalist",7),Tr(19,yp,2,2,"option",8),vr(),Sr(20,"button",9),Mr("click",function(){return t.checkIfAnswerIsCorrect()}),Yr(21,"Submit"),vr(),Sr(22,"button",9),Mr("click",function(){return t.skipLine()}),Yr(23,"Skip"),vr(),vr(),Sr(24,"div",10),Yr(25),vr(),vr()),2&e&&(es(4),Qr(" Line ",t.linesAnswered," / ",t.numberOfLines,"\n"),es(3),Gr("highlight-correct-state","CORRECT"===t.triviaAnswerState),es(1),jr(" Correct: ",t.correctCounter," "),es(1),Gr("highlight-incorrect-state","INCORRECT"===t.triviaAnswerState),es(1),jr(" Incorrect: ",t.incorrectCounter," "),es(1),Gr("highlight-skip-state","SKIP"===t.triviaAnswerState),es(1),jr(" Skipped: ",t.skippedCounter," "),es(1),br("hidden",null===t.percentCorrect),es(1),jr(" Percent Correct: ",t.percentCorrect," "),es(2),br("ngIf",t.currentlySelectedLine),es(1),br("ngModel",t.enteredValue),es(2),br("ngForOf",t.characters),es(5),br("hidden",!t.skippedCharacter),es(1),jr("Skipped: ",t.skippedCharacter,""))},directives:[Lc,_h,gA,LA,gp,Uh,VA,zA],styles:["body[_ngcontent-%COMP%]{background-color:#292929;color:#d6d6d6}.center[_ngcontent-%COMP%]{text-align:center}.grid[_ngcontent-%COMP%]{display:grid}.trivia-button[_ngcontent-%COMP%]{margin-left:15px}#trivia-line-guess[_ngcontent-%COMP%]{margin:18px 0}.trivia-stat-item[_ngcontent-%COMP%]{background-color:#058ba2;margin:0 9px;padding:5px 0;color:#272727}#trivia-stats-line[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);margin-top:16px}.highlight-item[_ngcontent-%COMP%]{animation-duration:2s;animation-timing-function:ease;animation-iteration-count:1}.highlight-correct-state[_ngcontent-%COMP%]{animation-name:highlight-correct-color}@keyframes highlight-correct-color{0%{background-color:#388104}25%{background-color:#388104}to{background-color:#058ba2}}.highlight-incorrect-state[_ngcontent-%COMP%]{animation-name:highlight-incorrect-color}@keyframes highlight-incorrect-color{0%{background-color:#b72f2f}25%{background-color:#b72f2f}to{background-color:#058ba2}}.highlight-skip-state[_ngcontent-%COMP%]{animation-name:highlight-skip-color}@keyframes highlight-skip-color{0%{background-color:#c9b40b}25%{background-color:#c9b40b}to{background-color:#058ba2}}"]}),e})(),wp=(()=>{class e{}return e.\u0275mod=Ke({type:e}),e.\u0275inj=ae({factory:function(t){return new(t||e)},imports:[[Hh]]}),e})();const Tp=[{path:"",component:aA},{path:"trivia/:code",component:Op}];let Ep=(()=>{class e{}return e.\u0275mod=Ke({type:e,bootstrap:[nA]}),e.\u0275inj=ae({factory:function(t){return new(t||e)},providers:[],imports:[[gl,wp,jc.forRoot(Tp),Ip]]}),e})();(function(){if(Va)throw new Error("Cannot enable prod mode after platform setup.");Ya=!1})(),pl().bootstrapModule(Ep).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);